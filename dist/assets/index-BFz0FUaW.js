import{U as T,r as c,z as L,W as _,X as U,m as e,Y as t,Z as F,a2 as h,a7 as N,a1 as S,_ as R,a5 as P,al as H,N as z,$ as n,O as J,a4 as M,a3 as q}from"./index-BtvddnQR.js";import{q as C,A as I,V as $}from"./VGrid-TLaFO9eu.js";import{b as x,V as w,a as r,e as W}from"./VRow-BJN53T0f.js";import{V as B}from"./VForm-DDAWt8I0.js";import{V as f}from"./VTextField-D_STqAT2.js";import{V as y}from"./VTextarea-BAMLD_-i.js";import{V as X,_ as Y}from"./imageInput-B9hd2_yH.js";import{V as O}from"./VDialog-CDEnhMEa.js";import{_ as Z}from"./ThemeSettings-DsLi_gj5.js";import{_ as j}from"./Breadcrumbs-CtIhbiry.js";import{a as G,s as K}from"./apiService-DbSRm33O.js";import{V as Q}from"./VList-UZKZLgFV.js";import{V as d}from"./VListItem-B1fpKcIT.js";import{V as ee}from"./VContainer-wXY7qZMx.js";import"./VInput-BzbMXxcd.js";import"./VLabel-CdNZPmQ-.js";import"./VChip-CUTsrW_4.js";import"./VSelectionControl-ClgcDT7U.js";import"./VSwitch-DnUCTe0l.js";import"./ssrBoot-lqRXgwNX.js";import"./VDivider-BLggiPaW.js";const le=S("h2",{class:"ma-5"},R("تعديل "),-1),ae={__name:"UserForm",emits:["runItems"],setup(E,{expose:V,emit:D}){const u=T(),i=c(!1),p=c(null),l=c({}),b=c(null);L(()=>{l.value=u.user,b.value=u.user.profile_image});const g=s=>{H.error(s,{theme:"colored",position:H.POSITION.TOP_LEFT})};function v(){i.value=!1}const k=()=>{const s=p.value;if(s){const a=new FileReader;a.onload=o=>{b.value=o.target.result},a.readAsDataURL(s)}else b.value=null};function A(){u.loadengApi=!0;const s=new FormData;s.append("first_name",JSON.stringify(l.value.first_name)),s.append("last_name",JSON.stringify(l.value.last_name)),s.append("address",JSON.stringify(l.value.address)),s.append("bio_ar",l.value.bio_ar),s.append("bio_en",l.value.bio_en),s.append("about_ar",l.value.about_ar),s.append("about_en",l.value.about_en),s.append("position",JSON.stringify(l.value.position)),s.append("email",l.value.email),s.append("phone",l.value.phone),p.value&&s.append("profile_image",p.value),s.append("_method","put"),P.post(`users/${l.value.id}`,s).then(a=>{u.fetchUser().then(()=>{u.loadengApi=!1})}).catch(a=>{u.loadengApi=!1,g("هناك خطا ما حاول مره اخري")})}return V({dialogForm:()=>{i.value=!0}}),(s,a)=>(_(),U("div",null,[e(C,{icon:"mdi-square-edit-outline",color:"info",size:"35"}),e(O,{class:"text-center",modelValue:i.value,"onUpdate:modelValue":a[15]||(a[15]=o=>i.value=o),"max-width":"900",persistent:""},{default:t(()=>[e(x,{class:"pa-5"},{actions:t(()=>[e(I,{onClick:v},{default:t(()=>[F(" اغلاق ")]),_:1}),e(I,{onClick:A},{default:t(()=>[F(" موافق ")]),_:1})]),default:t(()=>[le,e(B,null,{default:t(()=>[e(w,null,{default:t(()=>[e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.first_name.ar,"onUpdate:modelValue":a[0]||(a[0]=o=>l.value.first_name.ar=o),label:" الاسم الاول "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.first_name.en,"onUpdate:modelValue":a[1]||(a[1]=o=>l.value.first_name.en=o),label:"First Name"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.last_name.ar,"onUpdate:modelValue":a[2]||(a[2]=o=>l.value.last_name.ar=o),label:" اسمك بالكامل  "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.last_name.en,"onUpdate:modelValue":a[3]||(a[3]=o=>l.value.last_name.en=o),label:" Full Name"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.address.ar,"onUpdate:modelValue":a[4]||(a[4]=o=>l.value.address.ar=o),label:" العنوان "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.address.en,"onUpdate:modelValue":a[5]||(a[5]=o=>l.value.address.en=o),label:" Address"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.position.ar,"onUpdate:modelValue":a[6]||(a[6]=o=>l.value.position.ar=o),label:" الوظيفة "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.position.en,"onUpdate:modelValue":a[7]||(a[7]=o=>l.value.position.en=o),label:" Position"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(y,{dir:"rtl",style:{direction:"rtl","text-align":"right","unicode-bidi":"bidi-override"},modelValue:l.value.bio_ar,"onUpdate:modelValue":a[8]||(a[8]=o=>l.value.bio_ar=o),label:" نبذه عنك "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(y,{modelValue:l.value.bio_en,"onUpdate:modelValue":a[9]||(a[9]=o=>l.value.bio_en=o),label:" Bio"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(y,{dir:"rtl",style:{direction:"rtl","text-align":"right","unicode-bidi":"bidi-override"},modelValue:l.value.about_ar,"onUpdate:modelValue":a[10]||(a[10]=o=>l.value.about_ar=o),label:"  عني "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(y,{modelValue:l.value.about_en,"onUpdate:modelValue":a[11]||(a[11]=o=>l.value.about_en=o),label:" About Me"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.email,"onUpdate:modelValue":a[12]||(a[12]=o=>l.value.email=o),label:" Email"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.phone,"onUpdate:modelValue":a[13]||(a[13]=o=>l.value.phone=o),label:" Phone"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(X,{modelValue:p.value,"onUpdate:modelValue":a[14]||(a[14]=o=>p.value=o),label:" الصورة الشخصيه ",accept:"image/*","prepend-icon":"mdi-camera",onChange:k},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[b.value?(_(),h($,{key:0,style:{margin:"auto"},src:b.value,"max-width":"200"},null,8,["src"])):N("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},te=S("h2",{class:"ma-5"},"صور الرئيسية",-1),oe={key:1,class:"text-alert"},se=S("h3",null,"يمكنك تحميل صوره او اكثر",-1),ue={__name:"HeroForm",emits:["runItems"],setup(E,{expose:V,emit:D}){const{xs:u}=z(),i=T(),p=c(!1),l=m=>{G("photo",m).then(()=>{i.user.hero=i.user.hero.filter(s=>s.id!==m)})};function b(){p.value=!1}function g(m){const s=new FormData;s.append("user_id",i.user.id),m.length&&m.forEach(a=>{s.append("hero[]",a,a.name)}),s.append("_method","put"),K("users",s,i.user.id).then(a=>{i.user.hero=a.data.hero})}const v=c(null),k=()=>{v.value&&v.value.compressImages(5).then(m=>{g(m)}).catch(m=>{console.log("error ",m)})};return V({openDialogShowHero:()=>{p.value=!0}}),(m,s)=>{const a=Y;return _(),U("div",null,[e(C,{onClick:s[0]||(s[0]=o=>m.addNew()),color:"info",size:"35",icon:"mdi-image-multiple-outline"}),e(O,{style:{"z-index":"50"},class:"text-center",modelValue:p.value,"onUpdate:modelValue":s[1]||(s[1]=o=>p.value=o),"max-width":"900",fullscreen:n(u)},{default:t(()=>[e(x,{class:"pa-5"},{actions:t(()=>[e(I,{onClick:b},{default:t(()=>[F(" اغلاق ")]),_:1}),e(I,{onClick:k},{default:t(()=>[F(" موافق ")]),_:1})]),default:t(()=>[te,n(i).user.hero.length?(_(),h(w,{key:0,style:{"background-color":"#ada7a0","text-align":"center","overflow-x":"auto"}},{default:t(()=>[(_(!0),U(J,null,M(n(i).user.hero,o=>(_(),h(r,{key:o,class:"d-flex child-flex"},{default:t(()=>[e($,{"min-width":"150px","max-width":"300px",src:o.path,"aspect-ratio":"1",class:"bg-grey-lighten-2",cover:""},{default:t(()=>[e(C,{onClick:q(ne=>l(o.id),["stop"]),class:"icon-delete-image",icon:"mdi-delete-outline"},null,8,["onClick"])]),_:2},1032,["src"])]),_:2},1024))),128))]),_:1})):N("",!0),n(i).user.hero.length?N("",!0):(_(),U("p",oe,"لا توجد صور")),e(B,null,{default:t(()=>[e(w,{class:"my-10"},{default:t(()=>[se,e(a,{ref_key:"imageInputRef",ref:v,onSaveCompressedImages:g},null,512)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","fullscreen"])])}}},we={__name:"index",setup(E){const V=c(null),D=c(null),u=T(),i=c(null);function p(){i.value?i.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}const l=c(null);function b(){l.value?l.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}const g=()=>{V.value.dialogForm()},v=()=>{D.value.openDialogShowHero()};return(k,A)=>{const m=j,s=Z,a=ae;return n(u).loadengApi?N("",!0):(_(),h(ee,{key:0,class:"user-info"},{default:t(()=>[e(m),e(w,null,{default:t(()=>[e(r,{cols:"12"},{default:t(()=>[e(x,{"max-width":"500px",class:"text-center mx-auto",subtitle:"تعديل تنسيقات قسم الرئيسية ",title:"الرئيسية"},{append:t(()=>[n(u).user?(_(),h(s,{key:0,ref_key:"dialogThemeFormHero",ref:l,detTheme:{nameEn:"hero",nameAr:"الرئيسية",h2:!0,h4:!0,p:!0,cv:!0,work:!0,sectionTitle:!0,imag:!0},onClick:b},null,512)):N("",!0)]),prepend:t(()=>[e(ue,{ref_key:"dialogHeroForm",ref:D,onClick:v},null,512)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(x,{"max-width":"500px",class:"text-center mx-auto",subtitle:"تعديل قسم البيانات الشخصية ",title:"البيانات الشخصية"},{append:t(()=>[n(u).user?(_(),h(s,{key:0,ref_key:"dialogThemeFormAbout",ref:i,detTheme:{nameEn:"about",nameAr:"عني",h2:!0,h4:!0,p:!0,btn:!0},onClick:p},null,512)):N("",!0)]),prepend:t(()=>[e(a,{ref_key:"dialogItemForm",ref:V,onClick:g},null,512)]),_:1})]),_:1})]),_:1}),e(x,{title:(n(u).user.first_name.en||"N D")+" - "+(n(u).user.first_name.ar||"N D"),subtitle:n(u).user.email||"N D",class:"mt-1"},{default:t(()=>[e(W,null,{default:t(()=>[F(R(n(u).user.phone),1)]),_:1}),e(Q,null,{default:t(()=>[e(d,{class:"ma-2 pa-2",subtitle:n(u).user.first_name.en||"N D",title:"First Name (EN)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.first_name.ar||"N D",title:"الاسم الاول (AR)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.last_name.en||"N D",title:"Last Name (EN)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.last_name.ar||"N D",title:"الاسم الاخير (AR)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.address.en||"N D",title:"Address (EN)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.address.ar||"N D",title:"العنوان (AR)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.bio_en||"N D",title:"Bio (EN)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.bio_ar||"N D",title:"نبذه عنك (AR)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.about_en||"N D",title:"About Me (EN)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.about_ar||"N D",title:" عني (AR)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.position.en||"N D",title:"Position (EN)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.position.ar||"N D",title:"الوظيفة (AR)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.username||"N D",title:"User Name"},null,8,["subtitle"])]),_:1})]),_:1},8,["title","subtitle"])]),_:1}))}}};export{we as default};
