import{n as b,s as L,f as O,d as E}from"./apiService-Cp-R3PSQ.js";import{N as q,U as w,r as i,W as f,X as F,m as e,Y as t,Z as I,a1 as a,_ as p,$ as D,z as J,a2 as T,a7 as R,a4 as j,O as M}from"./index-mWbrpzjT.js";import{q as W,A as g}from"./VGrid-BvdFuTaq.js";import{b as U,V as X,a as y}from"./VRow-DC6ecyKV.js";import{V as Y}from"./VForm-frfCeRxB.js";import{V as C}from"./VTextField-CMDcSSY3.js";import{V as $}from"./VDialog-CdMwueNr.js";import{_ as Z}from"./ThemeSettings-BN6feLgw.js";import{_ as G}from"./Breadcrumbs-id2UazJL.js";import{V as H}from"./VTable-DOxk7buS.js";import{V as K}from"./VContainer-CNkGCmK8.js";import"./VInput-CSVCWoD7.js";import"./VLabel-OInUHRNe.js";import"./VSelectionControl-Dd1eQIZQ.js";import"./VSwitch-RS7Iv3fF.js";const P={class:"ma-5"},Q={__name:"LanguageForm",emits:["runItems"],setup(S,{expose:k,emit:x}){const{xs:c}=q(),v=w(),_=x,V=i(!1),m=i({}),u=i({}),o=i({});function h(){u.value={ar:"",en:""},o.value={ar:"",en:""},V.value=!1,m.value="",_("runItems")}function N(){if(!u.value.ar&&!u.value.en){b("حقل الاسم مطلوب عربي او انجليزي");return}if(!o.value.ar&&!o.value.en){b("حقل المستوي مطلوب عربي او انجليزي");return}v.loadengApi=!0;const l=new FormData;l.append("name",JSON.stringify(u.value)),l.append("level",JSON.stringify(o.value)),l.append("user_id",v.user.id),m.value.id&&l.append("_method","put"),L("languages",l,m.value.id).then(n=>{m.value=n.data,_("runItems"),h()})}const d=(l={})=>{Object.keys(l).length!==0&&(u.value=l.name,o.value=l.level),V.value=!0,m.value=l};return k({addNew:d}),(l,n)=>(f(),F("div",null,[e(W,{onClick:n[0]||(n[0]=s=>d()),color:"info",size:"35",icon:"mdi-plus-outline"}),e($,{class:"text-center",modelValue:V.value,"onUpdate:modelValue":n[5]||(n[5]=s=>V.value=s),"max-width":"900",fullscreen:D(c)},{default:t(()=>[e(U,{class:"pa-5"},{actions:t(()=>[e(g,{onClick:h},{default:t(()=>[I(" اغلاق ")]),_:1}),e(g,{onClick:N},{default:t(()=>[I(" موافق ")]),_:1})]),default:t(()=>[a("h2",P,p(m.value.id?"تعديل ":" اضافة "),1),e(Y,null,{default:t(()=>[e(X,null,{default:t(()=>[e(y,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:u.value.ar,"onUpdate:modelValue":n[1]||(n[1]=s=>u.value.ar=s),label:"الاسم"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:u.value.en,"onUpdate:modelValue":n[2]||(n[2]=s=>u.value.en=s),label:"Name"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:o.value.ar,"onUpdate:modelValue":n[3]||(n[3]=s=>o.value.ar=s),label:"المستوي"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:o.value.en,"onUpdate:modelValue":n[4]||(n[4]=s=>o.value.en=s),label:"Level"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","fullscreen"])]))}},ee=a("h2",{class:"ma-5"},"هل تريد حذف العنصر بالفعل",-1),le=a("thead",null,[a("tr",null,[a("th",{class:"text-center"},"#"),a("th",{class:"text-center"},"الاسم"),a("th",{class:"text-center"},"name"),a("th",{class:"text-center"},"المستوي"),a("th",{class:"text-center"},"level"),a("th",{class:"text-center"},"تاريخ الانشاء"),a("th",{class:"text-center sticky-column"},". . .")])],-1),ae={class:"sticky-column"},te={key:2,class:"text-alert"},ke={__name:"index",setup(S){const k=w(),x=i(null),c=i(!1),v=i([]),_=i("");function V(d){c.value=!0,_.value=d}const m=i(null);function u(){m.value?m.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}J(()=>{o()});function o(){k.loadengApi=!0,O("languages").then(d=>{v.value=d.data,_.value=""})}function h(){k.loadengApi=!0,E("languages/delete",{id:[_.value.id]}).then(()=>{o(),c.value=!1})}const N=d=>{var l;(l=x.value)==null||l.addNew(d)};return(d,l)=>{const n=G,s=Z,B=Q;return f(),T(K,null,{default:t(()=>[e(n),e($,{class:"text-center",modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=r=>c.value=r),"max-width":"400",persistent:""},{default:t(()=>[e(U,{class:"pa-5"},{default:t(()=>[ee,e(g,{class:"ma-1",onClick:h},{default:t(()=>[I(" موافق ")]),_:1}),e(g,{class:"ma-1",onClick:l[0]||(l[0]=r=>c.value=!1)},{default:t(()=>[I(" اغلاق ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),D(k).user?(f(),T(s,{key:0,ref_key:"dialogThemeForm",ref:m,detTheme:{nameEn:"languages",nameAr:"اللغات"},onClick:u},null,512)):R("",!0),e(B,{ref_key:"itemForm",ref:x,onRunItems:o},null,512),v.value.length>0?(f(),T(H,{key:1,style:{"white-space":"nowrap"},dir:"rtl",class:"h"},{default:t(()=>[le,a("tbody",null,[(f(!0),F(M,null,j(v.value,(r,A)=>(f(),F("tr",{key:r.id},[a("td",null,p(A+1),1),a("td",null,p(r.name.ar),1),a("td",null,p(r.name.en),1),a("td",null,p(r.level.ar),1),a("td",null,p(r.level.en),1),a("td",null,p(r.created_at),1),a("td",ae,[e(g,{onClick:z=>V(r),class:"mx-3",icon:"mdi-delete",color:"red",size:"small"},null,8,["onClick"]),e(g,{onClick:z=>N(r),icon:"mdi-square-edit-outline",color:"info",size:"small"},null,8,["onClick"])])]))),128))])]),_:1})):(f(),F("p",te,"لا توجد اي بيانات"))]),_:1})}}};export{ke as default};
