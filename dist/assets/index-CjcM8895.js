import{_ as j}from"./imageInput-DrJt6mwd.js";import{n as O,s as q,f as H,d as K,_ as Q}from"./ThemeSettings-DRdEUUWQ.js";import{p as G,o as W,h as X,u as Y,a9 as Z,c as ee,aa as le,v as l,x as A,F as z,r as c,H as N,I as P,L as o,O as $,M as t,P as d,q as te,S as J,J as ae,K as R,R as ne,Q as oe}from"./index-CTZIvFHE.js";import{i as ue,x as I}from"./forwardRefs-D4cyrmBm.js";import{e as i,V as L,d as se}from"./VRow-B2a_pzm7.js";import{V as de}from"./VForm-lrdTen5H.js";import{V as m,a as re}from"./VTextField-CmJuGy6Y.js";import{m as ie,V as B}from"./VCheckboxBtn-B-TkIeQs.js";import{m as me,u as ce,V as E}from"./VInput-BVlugDXU.js";import{V as M}from"./VDialog-RZ1VBsiG.js";import{_ as pe}from"./ShowImages-fXT5nCn8.js";import{V as ve}from"./VTable-DgYLhXms.js";import"./VChip-__5tyFae.js";import"./VSwitch-SKcbN60r.js";import"./VSelectionControl-BZN2FF6b.js";import"./VOverlay-SrWR4M6n.js";const fe=G({...me(),...W(ie(),["inline"])},"VCheckbox"),Ve=X()({name:"VCheckbox",inheritAttrs:!1,props:fe(),emits:{"update:modelValue":y=>!0,"update:focused":y=>!0},setup(y,U){let{attrs:C,slots:F}=U;const V=Y(y,"modelValue"),{isFocused:h,focus:u,blur:f}=ce(y),p=Z(),x=ee(()=>y.id||`checkbox-${p}`);return ue(()=>{const[v,b]=le(C),g=E.filterProps(y),k=B.filterProps(y);return l(E,A({class:["v-checkbox",y.class]},v,g,{modelValue:V.value,"onUpdate:modelValue":r=>V.value=r,id:x.value,focused:h.value,style:y.style}),{...F,default:r=>{let{id:_,messagesId:D,isDisabled:S,isReadonly:T,isValid:n}=r;return l(B,A(k,{id:_.value,"aria-describedby":D.value,disabled:S.value,readonly:T.value},b,{error:n.value===!1,modelValue:V.value,"onUpdate:modelValue":s=>V.value=s,onFocus:u,onBlur:f}),F)}})}),{}}}),_e={class:"ma-5"},ye={__name:"ExperienceForm",emits:["runItems"],setup(y,{expose:U,emit:C}){const F=z(),V=C,h=c(!1),u=c({}),f=c({}),p=c({}),x=c({}),v=c({}),b=c({}),g=c({}),k=c({}),r=c({});function _(){f.value={ar:"",en:""},p.value={ar:"",en:""},x.value={ar:"",en:""},v.value={ar:"",en:""},b.value={ar:"",en:""},g.value={ar:"",en:""},k.value={ar:"",en:""},r.value={ar:"",en:""},u.value={start_date:"",end_date:"",is_current:!1,id:null},h.value=!1,u.value.id&&V("runItems")}function D(s){const e=new FormData;e.append("title",JSON.stringify(f.value)),e.append("company",JSON.stringify(p.value)),e.append("description",JSON.stringify(x.value)),e.append("responsibilities",JSON.stringify(v.value)),e.append("achievements",JSON.stringify(b.value)),e.append("employment_type",JSON.stringify(g.value)),e.append("industry",JSON.stringify(k.value)),e.append("location",JSON.stringify(r.value)),e.append("user_id",F.user.id),e.append("is_current",u.value.is_current?1:0),e.append("end_date",u.value.end_date||""),e.append("start_date",u.value.start_date),s.length&&s.forEach(w=>{e.append("photos[]",w,w.name)}),u.value.id&&e.append("_method","put"),q("experiences",e,u.value.id).then(w=>{u.value=w.data,V("runItems"),_()})}const S=c(null),T=()=>{if(!f.value.ar&&!f.value.en){O("حقل العنوان مطلوب عربي او انجليزي");return}if(!p.value.ar&&!p.value.en){O("حقل الشركة مطلوب عربي او انجليزي");return}if(!u.value.start_date){O("حقل تاريخ البدء مطلوب ");return}if(!u.value.end_date&&!u.value.is_current){O("ادخل تاريخ الانتهاء او اختر حتي الان ");return}S.value&&S.value.compressImages().then(s=>{D(s)})},n=(s={})=>{Object.keys(s).length!==0&&(f.value=s.title,p.value=s.company,x.value=s.description,v.value=s.responsibilities,b.value=s.achievements,g.value=s.employment_type,k.value=s.industry,r.value=s.location,u.value=s,s.end_date.en==="1"||s.end_date.en==="0"?(u.value.is_current=s.end_date.en==="1",u.value.end_date=""):u.value.end_date=s.end_date.en),h.value=!0};return U({addNew:n}),(s,e)=>{const w=j;return N(),P("div",null,[l(i,{cols:"auto"},{default:o(()=>[l(I,{onClick:e[0]||(e[0]=a=>n()),icon:"mdi-plus",color:"success",size:"small",to:""})]),_:1}),l(M,{class:"text-center",modelValue:h.value,"onUpdate:modelValue":e[20]||(e[20]=a=>h.value=a),"max-width":"900",persistent:""},{default:o(()=>[l(L,{class:"pa-5"},{actions:o(()=>[l(I,{onClick:_},{default:o(()=>[$(" اغلاق ")]),_:1}),l(I,{onClick:T},{default:o(()=>[$(" موافق ")]),_:1})]),default:o(()=>[t("h2",_e,d(u.value.id?"تعديل ":" اضافة "),1),l(de,null,{default:o(()=>[l(se,null,{default:o(()=>[l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:f.value.ar,"onUpdate:modelValue":e[1]||(e[1]=a=>f.value.ar=a),label:"العنوان"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:f.value.en,"onUpdate:modelValue":e[2]||(e[2]=a=>f.value.en=a),label:"Title"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:p.value.ar,"onUpdate:modelValue":e[3]||(e[3]=a=>p.value.ar=a),label:"الشركة"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:p.value.en,"onUpdate:modelValue":e[4]||(e[4]=a=>p.value.en=a),label:"Company"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:x.value.ar,"onUpdate:modelValue":e[5]||(e[5]=a=>x.value.ar=a),label:"الوصف"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:x.value.en,"onUpdate:modelValue":e[6]||(e[6]=a=>x.value.en=a),label:"Description"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:v.value.ar,"onUpdate:modelValue":e[7]||(e[7]=a=>v.value.ar=a),label:"المسؤوليات"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:v.value.en,"onUpdate:modelValue":e[8]||(e[8]=a=>v.value.en=a),label:"Responsibilities"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:b.value.ar,"onUpdate:modelValue":e[9]||(e[9]=a=>b.value.ar=a),label:"الإنجازات"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:b.value.en,"onUpdate:modelValue":e[10]||(e[10]=a=>b.value.en=a),label:"Achievements"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:g.value.ar,"onUpdate:modelValue":e[11]||(e[11]=a=>g.value.ar=a),label:"نوع الوظيفه"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:g.value.en,"onUpdate:modelValue":e[12]||(e[12]=a=>g.value.en=a),label:"Employment Type"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:k.value.ar,"onUpdate:modelValue":e[13]||(e[13]=a=>k.value.ar=a),label:"المجال"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:k.value.en,"onUpdate:modelValue":e[14]||(e[14]=a=>k.value.en=a),label:"Industry"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:r.value.ar,"onUpdate:modelValue":e[15]||(e[15]=a=>r.value.ar=a),label:"الموقع"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:r.value.en,"onUpdate:modelValue":e[16]||(e[16]=a=>r.value.en=a),label:"Location"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{type:"date",modelValue:u.value.start_date,"onUpdate:modelValue":e[17]||(e[17]=a=>u.value.start_date=a),label:"تاريخ البدء"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(Ve,{modelValue:u.value.is_current,"onUpdate:modelValue":e[18]||(e[18]=a=>u.value.is_current=a),label:"حتي الان"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{type:"date",modelValue:u.value.end_date,"onUpdate:modelValue":e[19]||(e[19]=a=>u.value.end_date=a),label:"تاريخ الانتهاء"},null,8,["modelValue"])]),_:1}),l(w,{ref_key:"imageInputRef",ref:S},null,512)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},xe=t("h2",{class:"ma-5"},"هل تريد حذف العنصر بالفعل",-1),be=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"#"),t("th",{class:"text-center"},"العنوان"),t("th",{class:"text-center"},"title"),t("th",{class:"text-center"},"الشركة"),t("th",{class:"text-center"},"Company"),t("th",{class:"text-center"},"الوصف"),t("th",{class:"text-center"},"Description"),t("th",{class:"text-center"},"المسؤوليات"),t("th",{class:"text-center"},"responsibilities"),t("th",{class:"text-center"},"الإنجازات"),t("th",{class:"text-center"},"achievements"),t("th",{class:"text-center"},"نوع الوظيفه"),t("th",{class:"text-center"},"employmenttype"),t("th",{class:"text-center"},"المجال"),t("th",{class:"text-center"},"industry"),t("th",{class:"text-center"},"الموقع"),t("th",{class:"text-center"},"location"),t("th",{class:"text-center"},"تاريخ البدء"),t("th",{class:"text-center"},"تاريخ الانتهاء"),t("th",{class:"text-center"},"End Date"),t("th",{class:"text-center"},"تاريخ الانشاء"),t("th",{class:"text-center sticky-column"},". . .")])],-1),ge={class:"sticky-column"},ke={key:2,class:"text-alert"},Be={__name:"index",setup(y){const U=z(),C=c(!1),F=c(null),V=c([]),h=c(""),u=c(null);function f(){u.value?u.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}const p=c(null),x=r=>{p.value.opaenDialog(r)};te(()=>{v()});function v(){U.loadengApi=!0,H("experiences").then(r=>{V.value=r.data,h.value=""})}function b(r){C.value=!0,h.value=r}function g(){U.loadengApi=!0,K("experiences/delete",{id:[h.value.id]}).then(()=>{v(),C.value=!1})}const k=r=>{var _;(_=F.value)==null||_.addNew(r)};return(r,_)=>{const D=Q,S=pe,T=ye;return N(),J(re,null,{default:o(()=>[l(M,{class:"text-center",modelValue:C.value,"onUpdate:modelValue":_[1]||(_[1]=n=>C.value=n),"max-width":"400",persistent:""},{default:o(()=>[l(L,{class:"pa-5"},{default:o(()=>[xe,l(I,{class:"ma-1",onClick:g},{default:o(()=>[$(" موافق ")]),_:1}),l(I,{class:"ma-1",onClick:_[0]||(_[0]=n=>C.value=!1)},{default:o(()=>[$(" اغلاق ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),ae(U).user?(N(),J(D,{key:0,ref_key:"dialogThemeForm",ref:u,detTheme:{nameEn:"about",nameAr:"عني"},onClick:f},null,512)):R("",!0),l(S,{ref_key:"isShowImage",ref:p,onRunItems:v},null,512),l(T,{ref_key:"itemForm",ref:F,onRunItems:v},null,512),V.value.length>0?(N(),J(ve,{key:1,style:{"white-space":"nowrap"},dir:"rtl",class:"h"},{default:o(()=>[be,t("tbody",null,[(N(!0),P(oe,null,ne(V.value,(n,s)=>(N(),P("tr",{key:n.id},[t("td",null,d(s+1),1),t("td",null,d(n.title.ar),1),t("td",null,d(n.title.en),1),t("td",null,d(n.company.ar),1),t("td",null,d(n.company.en),1),t("td",null,d(n.description.ar),1),t("td",null,d(n.description.en),1),t("td",null,d(n.responsibilities.ar),1),t("td",null,d(n.responsibilities.en),1),t("td",null,d(n.achievements.ar),1),t("td",null,d(n.achievements.en),1),t("td",null,d(n.employment_type.ar),1),t("td",null,d(n.employment_type.en),1),t("td",null,d(n.industry.ar),1),t("td",null,d(n.industry.en),1),t("td",null,d(n.location.ar),1),t("td",null,d(n.location.en),1),t("td",null,d(n.start_date),1),t("td",null,d(n.end_date.ar=="1"?"حتي الان":n.end_date.ar),1),t("td",null,d(n.end_date.en=="1"?"so far":n.end_date.en),1),t("td",null,d(n.created_at),1),t("td",ge,[l(I,{onClick:e=>x(n.photos),icon:"mdi-image-edit-outline",color:"info",size:"small"},null,8,["onClick"]),l(I,{onClick:e=>b(n),class:"mx-3",icon:"mdi-delete",color:"red",size:"small"},null,8,["onClick"]),l(I,{onClick:e=>k(n),icon:"mdi-pencil",color:"info",size:"small"},null,8,["onClick"])])]))),128))])]),_:1})):R("",!0),V.value.length?R("",!0):(N(),P("p",ke,"لا توجد اي بيانات"))]),_:1})}}};export{Be as default};
