import{_ as L,a as M}from"./ShowImages-Bur4Xyjk.js";import{s as j,n as F,f as q,d as P}from"./apiService-BA9EEqEn.js";import{J as T,r as p,L as C,M as O,v as l,P as n,S as J,Q as t,T as s,q as Q,V as E,U as G,F as H,O as R}from"./index-C8DWXbqV.js";import{t as b}from"./VBtn-pRSLUBRL.js";import{V as d,a as K,b as i}from"./VTextField-oaDLYT2i.js";import{V as B,a as W}from"./VCard-C-Jb_4YB.js";import{V as X}from"./VForm-DLnFpABe.js";import{V as Y}from"./VCheckbox-pdLpIOiI.js";import{V as z}from"./VDialog-CKN-AFhS.js";import{V as Z}from"./VTable-CJA41c6O.js";import"./VFileInput-40nLz5uG.js";import"./VInput-B9NLRJ23.js";import"./VIcon-B9YTT6W-.js";import"./VChip-Bv7O8EVZ.js";import"./VCheckboxBtn-Cmd_hGZT.js";import"./VSelectionControl-rXG1Ogze.js";import"./VOverlay-BRtty8ag.js";const ee={class:"ma-5"},le={__name:"ExperienceForm",emits:["runItems"],setup(A,{expose:h,emit:k}){const N=T(),U=k,g=p(!1),u=p({}),f=p({}),v=p({}),V=p({}),_=p({}),y=p({}),m=p({}),c=p({}),x=p({});function w(){f.value={ar:"",en:""},v.value={ar:"",en:""},V.value={ar:"",en:""},_.value={ar:"",en:""},y.value={ar:"",en:""},m.value={ar:"",en:""},c.value={ar:"",en:""},x.value={ar:"",en:""},u.value={start_date:"",end_date:"",is_current:!1,id:null},g.value=!1,u.value.id&&U("runItems")}function o(r){const e=new FormData;e.append("title",JSON.stringify(f.value)),e.append("company",JSON.stringify(v.value)),e.append("description",JSON.stringify(V.value)),e.append("responsibilities",JSON.stringify(_.value)),e.append("achievements",JSON.stringify(y.value)),e.append("employment_type",JSON.stringify(m.value)),e.append("industry",JSON.stringify(c.value)),e.append("location",JSON.stringify(x.value)),e.append("user_id",N.user.id),e.append("is_current",u.value.is_current?1:0),e.append("end_date",u.value.end_date||""),e.append("start_date",u.value.start_date),r.length&&r.forEach(I=>{e.append("photos[]",I,I.name)}),u.value.id&&e.append("_method","put"),j("experiences",e,u.value.id).then(I=>{u.value=I.data,U("runItems"),w()})}const S=p(null),D=()=>{if(!f.value.ar&&!f.value.en){F("حقل العنوان مطلوب عربي او انجليزي");return}if(!v.value.ar&&!v.value.en){F("حقل الشركة مطلوب عربي او انجليزي");return}if(!u.value.start_date){F("حقل تاريخ البدء مطلوب ");return}if(!u.value.end_date&&!u.value.is_current){F("ادخل تاريخ الانتهاء او اختر حتي الان ");return}S.value&&S.value.compressImages()},$=(r={})=>{Object.keys(r).length!==0&&(f.value=r.title,v.value=r.company,V.value=r.description,_.value=r.responsibilities,y.value=r.achievements,m.value=r.employment_type,c.value=r.industry,x.value=r.location,u.value=r,r.end_date.en==="1"||r.end_date.en==="0"?(u.value.is_current=r.end_date.en==="1",u.value.end_date=""):u.value.end_date=r.end_date.en),g.value=!0};return h({addNew:$}),(r,e)=>{const I=L;return C(),O("div",null,[l(d,{cols:"auto"},{default:n(()=>[l(b,{onClick:e[0]||(e[0]=a=>$()),icon:"mdi-plus",color:"success",size:"small",to:""})]),_:1}),l(z,{class:"text-center",modelValue:g.value,"onUpdate:modelValue":e[20]||(e[20]=a=>g.value=a),"max-width":"900",persistent:""},{default:n(()=>[l(B,{class:"pa-5"},{actions:n(()=>[l(b,{onClick:w},{default:n(()=>[J(" اغلاق ")]),_:1}),l(b,{onClick:D},{default:n(()=>[J(" موافق ")]),_:1})]),default:n(()=>[t("h2",ee,s(u.value.id?"تعديل ":" اضافة "),1),l(X,null,{default:n(()=>[l(K,null,{default:n(()=>[l(d,{cols:"12",md:"6"},{default:n(()=>[l(i,{modelValue:f.value.ar,"onUpdate:modelValue":e[1]||(e[1]=a=>f.value.ar=a),label:"العنوان"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:n(()=>[l(i,{modelValue:f.value.en,"onUpdate:modelValue":e[2]||(e[2]=a=>f.value.en=a),label:"Title"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:n(()=>[l(i,{modelValue:v.value.ar,"onUpdate:modelValue":e[3]||(e[3]=a=>v.value.ar=a),label:"الشركة"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:n(()=>[l(i,{modelValue:v.value.en,"onUpdate:modelValue":e[4]||(e[4]=a=>v.value.en=a),label:"Company"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:n(()=>[l(i,{modelValue:V.value.ar,"onUpdate:modelValue":e[5]||(e[5]=a=>V.value.ar=a),label:"الوصف"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:n(()=>[l(i,{modelValue:V.value.en,"onUpdate:modelValue":e[6]||(e[6]=a=>V.value.en=a),label:"Description"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:n(()=>[l(i,{modelValue:_.value.ar,"onUpdate:modelValue":e[7]||(e[7]=a=>_.value.ar=a),label:"المسؤوليات"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:n(()=>[l(i,{modelValue:_.value.en,"onUpdate:modelValue":e[8]||(e[8]=a=>_.value.en=a),label:"Responsibilities"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:n(()=>[l(i,{modelValue:y.value.ar,"onUpdate:modelValue":e[9]||(e[9]=a=>y.value.ar=a),label:"الإنجازات"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:n(()=>[l(i,{modelValue:y.value.en,"onUpdate:modelValue":e[10]||(e[10]=a=>y.value.en=a),label:"Achievements"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:n(()=>[l(i,{modelValue:m.value.ar,"onUpdate:modelValue":e[11]||(e[11]=a=>m.value.ar=a),label:"نوع الوظيفه"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:n(()=>[l(i,{modelValue:m.value.en,"onUpdate:modelValue":e[12]||(e[12]=a=>m.value.en=a),label:"Employment Type"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:n(()=>[l(i,{modelValue:c.value.ar,"onUpdate:modelValue":e[13]||(e[13]=a=>c.value.ar=a),label:"المجال"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:n(()=>[l(i,{modelValue:c.value.en,"onUpdate:modelValue":e[14]||(e[14]=a=>c.value.en=a),label:"Industry"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:n(()=>[l(i,{modelValue:x.value.ar,"onUpdate:modelValue":e[15]||(e[15]=a=>x.value.ar=a),label:"الموقع"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:n(()=>[l(i,{modelValue:x.value.en,"onUpdate:modelValue":e[16]||(e[16]=a=>x.value.en=a),label:"Location"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:n(()=>[l(i,{type:"date",modelValue:u.value.start_date,"onUpdate:modelValue":e[17]||(e[17]=a=>u.value.start_date=a),label:"تاريخ البدء"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:n(()=>[l(Y,{modelValue:u.value.is_current,"onUpdate:modelValue":e[18]||(e[18]=a=>u.value.is_current=a),label:"حتي الان"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:n(()=>[l(i,{type:"date",modelValue:u.value.end_date,"onUpdate:modelValue":e[19]||(e[19]=a=>u.value.end_date=a),label:"تاريخ الانتهاء"},null,8,["modelValue"])]),_:1}),l(I,{ref_key:"imageInputRef",ref:S,onSaveCompressedImages:o},null,512)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},te=t("h2",{class:"ma-5"},"هل تريد حذف العنصر بالفعل",-1),ae=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"#"),t("th",{class:"text-center"},"العنوان"),t("th",{class:"text-center"},"title"),t("th",{class:"text-center"},"الشركة"),t("th",{class:"text-center"},"Company"),t("th",{class:"text-center"},"الوصف"),t("th",{class:"text-center"},"Description"),t("th",{class:"text-center"},"المسؤوليات"),t("th",{class:"text-center"},"responsibilities"),t("th",{class:"text-center"},"الإنجازات"),t("th",{class:"text-center"},"achievements"),t("th",{class:"text-center"},"نوع الوظيفه"),t("th",{class:"text-center"},"employmenttype"),t("th",{class:"text-center"},"المجال"),t("th",{class:"text-center"},"industry"),t("th",{class:"text-center"},"الموقع"),t("th",{class:"text-center"},"location"),t("th",{class:"text-center"},"تاريخ البدء"),t("th",{class:"text-center"},"تاريخ الانتهاء"),t("th",{class:"text-center"},"End Date"),t("th",{class:"text-center"},"تاريخ الانشاء"),t("th",{class:"text-center sticky-column"},". . .")])],-1),ne={class:"sticky-column"},oe={key:1,class:"text-alert"},Ue={__name:"index",setup(A){const h=T(),k=p(!1),N=p(null),U=p([]),g=p(""),u=p(null),f=m=>{u.value.opaenDialog(m)};Q(()=>{v()});function v(){h.loadengApi=!0,q("experiences").then(m=>{U.value=m.data,g.value=""})}function V(m){k.value=!0,g.value=m}function _(){h.loadengApi=!0,P("experiences/delete",{id:[g.value.id]}).then(()=>{v(),k.value=!1})}const y=m=>{var c;(c=N.value)==null||c.addNew(m)};return(m,c)=>{const x=M,w=le;return C(),E(W,null,{default:n(()=>[l(z,{class:"text-center",modelValue:k.value,"onUpdate:modelValue":c[1]||(c[1]=o=>k.value=o),"max-width":"400",persistent:""},{default:n(()=>[l(B,{class:"pa-5"},{default:n(()=>[te,l(b,{class:"ma-1",onClick:_},{default:n(()=>[J(" موافق ")]),_:1}),l(b,{class:"ma-1",onClick:c[0]||(c[0]=o=>k.value=!1)},{default:n(()=>[J(" اغلاق ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(x,{ref_key:"isShowImage",ref:u,onRunItems:v},null,512),l(w,{ref_key:"itemForm",ref:N,onRunItems:v},null,512),U.value.length>0?(C(),E(Z,{key:0,style:{"white-space":"nowrap"},dir:"rtl",class:"h"},{default:n(()=>[ae,t("tbody",null,[(C(!0),O(H,null,G(U.value,(o,S)=>(C(),O("tr",{key:o.id},[t("td",null,s(S+1),1),t("td",null,s(o.title.ar),1),t("td",null,s(o.title.en),1),t("td",null,s(o.company.ar),1),t("td",null,s(o.company.en),1),t("td",null,s(o.description.ar),1),t("td",null,s(o.description.en),1),t("td",null,s(o.responsibilities.ar),1),t("td",null,s(o.responsibilities.en),1),t("td",null,s(o.achievements.ar),1),t("td",null,s(o.achievements.en),1),t("td",null,s(o.employment_type.ar),1),t("td",null,s(o.employment_type.en),1),t("td",null,s(o.industry.ar),1),t("td",null,s(o.industry.en),1),t("td",null,s(o.location.ar),1),t("td",null,s(o.location.en),1),t("td",null,s(o.start_date),1),t("td",null,s(o.end_date.ar=="1"?"حتي الان":o.end_date.ar),1),t("td",null,s(o.end_date.en=="1"?"so far":o.end_date.en),1),t("td",null,s(o.created_at),1),t("td",ne,[l(b,{onClick:D=>f(o.photos),icon:"mdi-image-edit-outline",color:"info",size:"small"},null,8,["onClick"]),l(b,{onClick:D=>V(o),class:"mx-3",icon:"mdi-delete",color:"red",size:"small"},null,8,["onClick"]),l(b,{onClick:D=>y(o),icon:"mdi-pencil",color:"info",size:"small"},null,8,["onClick"])])]))),128))])]),_:1})):R("",!0),U.value.length?R("",!0):(C(),O("p",oe,"لا توجد اي بيانات"))]),_:1})}}};export{Ue as default};
