import{n as w,s as L,f as A,d as O}from"./apiService-DulmIJs7.js";import{F as N,r as d,H as f,I as C,v as e,L as n,O as F,M as t,P as p,q as z,S as T,J as E,K as J,R,Q as M}from"./index-C8qnKO4A.js";import{x as v}from"./forwardRefs-BH4GyTRV.js";import{e as k,V as D,d as j}from"./VRow-CYHt8B7L.js";import{V as q}from"./VForm-CyfRPG3t.js";import{V as y,a as H}from"./VTextField-cr-t4cQq.js";import{V as S}from"./VDialog-C6dFZO1R.js";import{_ as K}from"./ThemeSettings-_2ovx4q3.js";import{V as P}from"./VTable-D2UZ8fAq.js";import"./VInput-CcnKb4cN.js";import"./VOverlay-DuCYlJSv.js";import"./VSwitch-DDB5LSA4.js";const Q={class:"ma-5"},G={__name:"LanguageForm",emits:["runItems"],setup(b,{expose:g,emit:x}){const m=N(),_=x,i=d(!1),c=d({}),o=d({}),u=d({});function V(){o.value={ar:"",en:""},u.value={ar:"",en:""},i.value=!1,c.value="",_("runItems")}function I(){if(!o.value.ar&&!o.value.en){w("حقل الاسم مطلوب عربي او انجليزي");return}if(!u.value.ar&&!u.value.en){w("حقل المستوي مطلوب عربي او انجليزي");return}m.loadengApi=!0;const a=new FormData;a.append("name",JSON.stringify(o.value)),a.append("level",JSON.stringify(u.value)),a.append("user_id",m.user.id),c.value.id&&a.append("_method","put"),L("languages",a,c.value.id).then(l=>{c.value=l.data,_("runItems"),V()})}const h=(a={})=>{Object.keys(a).length!==0&&(o.value=a.name,u.value=a.level),i.value=!0,c.value=a};return g({addNew:h}),(a,l)=>(f(),C("div",null,[e(k,{cols:"auto"},{default:n(()=>[e(v,{onClick:l[0]||(l[0]=s=>h()),icon:"mdi-plus",color:"success",size:"small",to:""})]),_:1}),e(S,{class:"text-center",modelValue:i.value,"onUpdate:modelValue":l[5]||(l[5]=s=>i.value=s),"max-width":"900",persistent:""},{default:n(()=>[e(D,{class:"pa-5"},{actions:n(()=>[e(v,{onClick:V},{default:n(()=>[F(" اغلاق ")]),_:1}),e(v,{onClick:I},{default:n(()=>[F(" موافق ")]),_:1})]),default:n(()=>[t("h2",Q,p(c.value.id?"تعديل ":" اضافة "),1),e(q,null,{default:n(()=>[e(j,null,{default:n(()=>[e(k,{cols:"12",md:"6"},{default:n(()=>[e(y,{modelValue:o.value.ar,"onUpdate:modelValue":l[1]||(l[1]=s=>o.value.ar=s),label:"الاسم"},null,8,["modelValue"])]),_:1}),e(k,{cols:"12",md:"6"},{default:n(()=>[e(y,{modelValue:o.value.en,"onUpdate:modelValue":l[2]||(l[2]=s=>o.value.en=s),label:"Name"},null,8,["modelValue"])]),_:1}),e(k,{cols:"12",md:"6"},{default:n(()=>[e(y,{modelValue:u.value.ar,"onUpdate:modelValue":l[3]||(l[3]=s=>u.value.ar=s),label:"المستوي"},null,8,["modelValue"])]),_:1}),e(k,{cols:"12",md:"6"},{default:n(()=>[e(y,{modelValue:u.value.en,"onUpdate:modelValue":l[4]||(l[4]=s=>u.value.en=s),label:"Level"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},W=t("h2",{class:"ma-5"},"هل تريد حذف العنصر بالفعل",-1),X=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"#"),t("th",{class:"text-center"},"الاسم"),t("th",{class:"text-center"},"name"),t("th",{class:"text-center"},"المستوي"),t("th",{class:"text-center"},"level"),t("th",{class:"text-center"},"تاريخ الانشاء"),t("th",{class:"text-center sticky-column"},". . .")])],-1),Y={class:"sticky-column"},Z={key:2,class:"text-alert"},ce={__name:"index",setup(b){const g=N(),x=d(null),m=d(!1),_=d([]),i=d("");function c(a){m.value=!0,i.value=a}const o=d(null);function u(){o.value?o.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}z(()=>{V()});function V(){g.loadengApi=!0,A("languages").then(a=>{_.value=a.data,i.value=""})}function I(){g.loadengApi=!0,O("languages/delete",{id:[i.value.id]}).then(()=>{V(),m.value=!1})}const h=a=>{var l;(l=x.value)==null||l.addNew(a)};return(a,l)=>{const s=K,U=G;return f(),T(H,null,{default:n(()=>[e(S,{class:"text-center",modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=r=>m.value=r),"max-width":"400",persistent:""},{default:n(()=>[e(D,{class:"pa-5"},{default:n(()=>[W,e(v,{class:"ma-1",onClick:I},{default:n(()=>[F(" موافق ")]),_:1}),e(v,{class:"ma-1",onClick:l[0]||(l[0]=r=>m.value=!1)},{default:n(()=>[F(" اغلاق ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),E(g).user?(f(),T(s,{key:0,ref_key:"dialogThemeForm",ref:o,detTheme:{nameEn:"languages",nameAr:"اللغات"},onClick:u},null,512)):J("",!0),e(U,{ref_key:"itemForm",ref:x,onRunItems:V},null,512),_.value.length>0?(f(),T(P,{key:1,style:{"white-space":"nowrap"},dir:"rtl",class:"h"},{default:n(()=>[X,t("tbody",null,[(f(!0),C(M,null,R(_.value,(r,$)=>(f(),C("tr",{key:r.id},[t("td",null,p($+1),1),t("td",null,p(r.name.ar),1),t("td",null,p(r.name.en),1),t("td",null,p(r.level.ar),1),t("td",null,p(r.level.en),1),t("td",null,p(r.created_at),1),t("td",Y,[e(v,{onClick:B=>c(r),class:"mx-3",icon:"mdi-delete",color:"red",size:"small"},null,8,["onClick"]),e(v,{onClick:B=>h(r),icon:"mdi-pencil",color:"info",size:"small"},null,8,["onClick"])])]))),128))])]),_:1})):(f(),C("p",Z,"لا توجد اي بيانات"))]),_:1})}}};export{ce as default};
