import{F as T,r as _,q as $,H as c,I,v as e,L as t,O as b,S as N,K as F,M as w,P as H,U as P,a9 as R,W as J,J as n,Q as M,R as q,am as z}from"./index-DoUa79Mj.js";import{k as D,V as L}from"./VBtn-ByDIVYCH.js";import{g as A}from"./index-CPodMjtC.js";import{e as r,V as S,d as C,b as K}from"./VRow-DZDJQVib.js";import{V as O}from"./VForm-B_Ufe_Z7.js";import{V as f}from"./VTextField-DwDypr5x.js";import{V as U}from"./VTextarea-C8DpH_Cl.js";import{V as Q,_ as W}from"./imageInput-C7eY035c.js";import{V as B}from"./VDialog-D8YprR3A.js";import{_ as j}from"./ThemeSettings-LYEVB81B.js";import{a as G,s as X}from"./apiService-Q18LkiAH.js";import{V as Y,a as d}from"./VList-v2Fi6tLI.js";import{V as Z}from"./VContainer-D3lAfPRy.js";import"./VInput-BG1HDC-H.js";import"./forwardRefs-ByVqR1CM.js";import"./VChip-mQXjCYxY.js";import"./VOverlay-DALfeHwa.js";import"./VSwitch-B4XaDZ4X.js";import"./ssrBoot-DhW1gQz3.js";const ee=w("h2",{class:"ma-5"},H("تعديل "),-1),le={__name:"UserForm",emits:["runItems"],setup(E,{expose:g,emit:x}){const u=T(),i=_(!1),p=_(null),l=_({}),v=_(null);$(()=>{l.value=u.user,v.value=u.user.profile_image});const h=s=>{R.error(s,{theme:"colored",position:R.POSITION.TOP_LEFT})};function V(){i.value=!1}const y=()=>{const s=p.value;if(s){const a=new FileReader;a.onload=o=>{v.value=o.target.result},a.readAsDataURL(s)}else v.value=null};function k(){u.loadengApi=!0;const s=new FormData;s.append("first_name",JSON.stringify(l.value.first_name)),s.append("last_name",JSON.stringify(l.value.last_name)),s.append("address",JSON.stringify(l.value.address)),s.append("bio_ar",l.value.bio_ar),s.append("bio_en",l.value.bio_en),s.append("about_ar",l.value.about_ar),s.append("about_en",l.value.about_en),s.append("position",JSON.stringify(l.value.position)),s.append("email",l.value.email),s.append("phone",l.value.phone),p.value&&s.append("profile_image",p.value),s.append("_method","put"),P.post(`users/${l.value.id}`,s).then(a=>{u.fetchUser().then(()=>{u.loadengApi=!1})}).catch(a=>{u.loadengApi=!1,h("هناك خطا ما حاول مره اخري")})}return g({dialogForm:()=>{i.value=!0}}),(s,a)=>(c(),I("div",null,[e(r,{cols:"auto"},{default:t(()=>[e(D,{class:"ma-1",color:"success"},{default:t(()=>[b(" تعديل البيانات "),e(A,{icon:"mdi-square-edit-outline",end:""})]),_:1})]),_:1}),e(B,{class:"text-center",modelValue:i.value,"onUpdate:modelValue":a[15]||(a[15]=o=>i.value=o),"max-width":"900",persistent:""},{default:t(()=>[e(S,{class:"pa-5"},{actions:t(()=>[e(D,{onClick:V},{default:t(()=>[b(" اغلاق ")]),_:1}),e(D,{onClick:k},{default:t(()=>[b(" موافق ")]),_:1})]),default:t(()=>[ee,e(O,null,{default:t(()=>[e(C,null,{default:t(()=>[e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.first_name.ar,"onUpdate:modelValue":a[0]||(a[0]=o=>l.value.first_name.ar=o),label:" الاسم الاول "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.first_name.en,"onUpdate:modelValue":a[1]||(a[1]=o=>l.value.first_name.en=o),label:"First Name"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.last_name.ar,"onUpdate:modelValue":a[2]||(a[2]=o=>l.value.last_name.ar=o),label:" الاسم الاخير "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.last_name.en,"onUpdate:modelValue":a[3]||(a[3]=o=>l.value.last_name.en=o),label:" Last Name"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.address.ar,"onUpdate:modelValue":a[4]||(a[4]=o=>l.value.address.ar=o),label:" العنوان "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.address.en,"onUpdate:modelValue":a[5]||(a[5]=o=>l.value.address.en=o),label:" Address"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.position.ar,"onUpdate:modelValue":a[6]||(a[6]=o=>l.value.position.ar=o),label:" الوظيفة "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.position.en,"onUpdate:modelValue":a[7]||(a[7]=o=>l.value.position.en=o),label:" Position"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(U,{dir:"rtl",style:{direction:"rtl","text-align":"right","unicode-bidi":"bidi-override"},modelValue:l.value.bio_ar,"onUpdate:modelValue":a[8]||(a[8]=o=>l.value.bio_ar=o),label:" نبذه عنك "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(U,{modelValue:l.value.bio_en,"onUpdate:modelValue":a[9]||(a[9]=o=>l.value.bio_en=o),label:" Bio"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(U,{dir:"rtl",style:{direction:"rtl","text-align":"right","unicode-bidi":"bidi-override"},modelValue:l.value.about_ar,"onUpdate:modelValue":a[10]||(a[10]=o=>l.value.about_ar=o),label:"  عني "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(U,{modelValue:l.value.about_en,"onUpdate:modelValue":a[11]||(a[11]=o=>l.value.about_en=o),label:" About Me"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.email,"onUpdate:modelValue":a[12]||(a[12]=o=>l.value.email=o),label:" Email"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:l.value.phone,"onUpdate:modelValue":a[13]||(a[13]=o=>l.value.phone=o),label:" Phone"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(Q,{modelValue:p.value,"onUpdate:modelValue":a[14]||(a[14]=o=>p.value=o),label:" الصورة الشخصيه ",accept:"image/*","prepend-icon":"mdi-camera",onChange:y},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[v.value?(c(),N(L,{key:0,style:{margin:"auto"},src:v.value,"max-width":"200"},null,8,["src"])):F("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},ae=w("h2",{class:"ma-5"},"صور الرئيسية",-1),te={key:1,class:"text-alert"},oe=w("h3",null,"يمكنك تحميل صوره او اكثر",-1),se={__name:"HeroForm",emits:["runItems"],setup(E,{expose:g,emit:x}){const{xs:u}=J(),i=T(),p=_(!1),l=m=>{G("photo",m).then(()=>{i.user.hero=i.user.hero.filter(s=>s.id!==m)})};function v(){p.value=!1}function h(m){const s=new FormData;s.append("user_id",i.user.id),m.length&&m.forEach(a=>{s.append("hero[]",a,a.name)}),s.append("_method","put"),X("users",s,i.user.id).then(a=>{i.user.hero=a.data.hero})}const V=_(null),y=()=>{V.value&&V.value.compressImages(5).then(m=>{h(m)}).catch(m=>{console.log("error ",m)})},k=()=>{p.value=!0};return g({openDialogShowHero:k}),(m,s)=>{const a=W;return c(),I("div",null,[e(r,{cols:"auto"},{default:t(()=>[e(D,{class:"ma-1",color:"info",onClick:s[0]||(s[0]=o=>k())},{default:t(()=>[b(" تعديل صور الرئيسية "),e(A,{icon:"mdi-image-outline",end:""})]),_:1})]),_:1}),e(B,{style:{"z-index":"50"},class:"text-center",modelValue:p.value,"onUpdate:modelValue":s[1]||(s[1]=o=>p.value=o),"max-width":"900",fullscreen:n(u)},{default:t(()=>[e(S,{class:"pa-5"},{actions:t(()=>[e(D,{onClick:v},{default:t(()=>[b(" اغلاق ")]),_:1}),e(D,{onClick:y},{default:t(()=>[b(" موافق ")]),_:1})]),default:t(()=>[ae,n(i).user.hero.length?(c(),N(C,{key:0,style:{"background-color":"#ada7a0","text-align":"center","overflow-x":"auto"}},{default:t(()=>[(c(!0),I(M,null,q(n(i).user.hero,o=>(c(),N(r,{key:o,class:"d-flex child-flex"},{default:t(()=>[e(L,{"min-width":"150px","max-width":"300px",src:o.path,"aspect-ratio":"1",class:"bg-grey-lighten-2",cover:""},{default:t(()=>[e(A,{onClick:z(ue=>l(o.id),["stop"]),class:"icon-delete-image",icon:"mdi-delete-outline"},null,8,["onClick"])]),_:2},1032,["src"])]),_:2},1024))),128))]),_:1})):F("",!0),n(i).user.hero.length?F("",!0):(c(),I("p",te,"لا توجد صور")),e(O,null,{default:t(()=>[e(C,{class:"my-10"},{default:t(()=>[oe,e(a,{ref_key:"imageInputRef",ref:V,onSaveCompressedImages:h},null,512)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","fullscreen"])])}}},ye={__name:"index",setup(E){const g=_(null),x=_(null),u=T(),i=_(null);function p(){i.value?i.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}const l=_(null);function v(){l.value?l.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}const h=()=>{g.value.dialogForm()},V=()=>{x.value.openDialogShowHero()};return(y,k)=>{const m=j,s=le;return n(u).loadengApi?F("",!0):(c(),N(Z,{key:0,class:"user-info"},{default:t(()=>[n(u).user?(c(),N(m,{key:0,ref_key:"dialogThemeFormHero",ref:l,detTheme:{nameEn:"hero",nameAr:"الرئيسية",h2:!0,h4:!0,p:!0,cv:!0,work:!0,sectionTitle:!0,imag:!0},onClick:v},null,512)):F("",!0),n(u).user?(c(),N(m,{key:1,ref_key:"dialogThemeFormAbout",ref:i,detTheme:{nameEn:"about",nameAr:"عني",h2:!0,h4:!0,p:!0,btn:!0},onClick:p},null,512)):F("",!0),e(s,{ref_key:"dialogItemForm",ref:g,onClick:h},null,512),e(se,{ref_key:"dialogHeroForm",ref:x,onClick:V},null,512),e(S,{title:(n(u).user.first_name.en||"N D")+" - "+(n(u).user.first_name.ar||"N D"),subtitle:n(u).user.email||"N D",class:"mt-1"},{default:t(()=>[e(K,null,{default:t(()=>[b(H(n(u).user.phone),1)]),_:1}),e(Y,null,{default:t(()=>[e(d,{class:"ma-2 pa-2",subtitle:n(u).user.first_name.en||"N D",title:"First Name (EN)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.first_name.ar||"N D",title:"الاسم الاول (AR)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.last_name.en||"N D",title:"Last Name (EN)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.last_name.ar||"N D",title:"الاسم الاخير (AR)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.address.en||"N D",title:"Address (EN)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.address.ar||"N D",title:"العنوان (AR)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.bio_en||"N D",title:"Bio (EN)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.bio_ar||"N D",title:"نبذه عنك (AR)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.about_en||"N D",title:"About Me (EN)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.about_ar||"N D",title:" عني (AR)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.position.en||"N D",title:"Position (EN)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.position.ar||"N D",title:"الوظيفة (AR)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(u).user.username||"N D",title:"User Name"},null,8,["subtitle"])]),_:1})]),_:1},8,["title","subtitle"])]),_:1}))}}};export{ye as default};
