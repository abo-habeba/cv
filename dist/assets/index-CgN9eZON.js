import{F as T,r as v,q as $,H as c,I,v as e,L as t,O as g,S as N,K as F,M as w,P as H,U as P,a8 as R,J as n,Q as J,R as M,am as q}from"./index-BIF3s1a1.js";import{x,y as A,v as L}from"./forwardRefs-CjauyFXr.js";import{e as r,V as S,d as C,b as z}from"./VRow-BpV5DCwW.js";import{V as O}from"./VForm-DRdthrkJ.js";import{V as _,a as K}from"./VTextField-BukltbZ_.js";import{V as U}from"./VTextarea-CoAmot4j.js";import{V as Q,_ as j}from"./imageInput-B12fu069.js";import{V as B}from"./VDialog-Dqyz0yaE.js";import{_ as G}from"./ThemeSettings-BpVTZxq6.js";import{a as W,s as X}from"./apiService-BsUYf_se.js";import{V as Y,a as p}from"./VList-C6znISLw.js";import"./VInput-yqNWny9m.js";import"./VChip-CMdScr72.js";import"./VOverlay-CD5XsOVi.js";import"./VSwitch-B2Jd-Zxm.js";import"./ssrBoot-B6L8OJmq.js";const Z=w("h2",{class:"ma-5"},H("تعديل "),-1),ee={__name:"UserForm",emits:["runItems"],setup(E,{expose:h,emit:y}){const o=T(),m=v(!1),b=v(null),l=v({}),f=v(null);$(()=>{l.value=o.user,f.value=o.user.profile_image});const V=u=>{R.error(u,{theme:"colored",position:R.POSITION.TOP_LEFT})};function D(){m.value=!1}const k=()=>{const u=b.value;if(u){const a=new FileReader;a.onload=s=>{f.value=s.target.result},a.readAsDataURL(u)}else f.value=null};function d(){o.loadengApi=!0;const u=new FormData;u.append("first_name",JSON.stringify(l.value.first_name)),u.append("last_name",JSON.stringify(l.value.last_name)),u.append("address",JSON.stringify(l.value.address)),u.append("bio_ar",l.value.bio_ar),u.append("bio_en",l.value.bio_en),u.append("about_ar",l.value.about_ar),u.append("about_en",l.value.about_en),u.append("position",JSON.stringify(l.value.position)),u.append("email",l.value.email),u.append("phone",l.value.phone),b.value&&u.append("profile_image",b.value),u.append("_method","put"),P.post(`users/${l.value.id}`,u).then(a=>{o.fetchUser().then(()=>{o.loadengApi=!1})}).catch(a=>{o.loadengApi=!1,V("هناك خطا ما حاول مره اخري")})}return h({dialogForm:()=>{m.value=!0}}),(u,a)=>(c(),I("div",null,[e(r,{cols:"auto"},{default:t(()=>[e(x,{class:"ma-1",color:"success"},{default:t(()=>[g(" تعديل البيانات "),e(A,{icon:"mdi-square-edit-outline",end:""})]),_:1})]),_:1}),e(B,{class:"text-center",modelValue:m.value,"onUpdate:modelValue":a[15]||(a[15]=s=>m.value=s),"max-width":"900",persistent:""},{default:t(()=>[e(S,{class:"pa-5"},{actions:t(()=>[e(x,{onClick:D},{default:t(()=>[g(" اغلاق ")]),_:1}),e(x,{onClick:d},{default:t(()=>[g(" موافق ")]),_:1})]),default:t(()=>[Z,e(O,null,{default:t(()=>[e(C,null,{default:t(()=>[e(r,{cols:"12",md:"6"},{default:t(()=>[e(_,{modelValue:l.value.first_name.ar,"onUpdate:modelValue":a[0]||(a[0]=s=>l.value.first_name.ar=s),label:" الاسم الاول "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(_,{modelValue:l.value.first_name.en,"onUpdate:modelValue":a[1]||(a[1]=s=>l.value.first_name.en=s),label:"First Name"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(_,{modelValue:l.value.last_name.ar,"onUpdate:modelValue":a[2]||(a[2]=s=>l.value.last_name.ar=s),label:" الاسم الاخير "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(_,{modelValue:l.value.last_name.en,"onUpdate:modelValue":a[3]||(a[3]=s=>l.value.last_name.en=s),label:" Last Name"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(_,{modelValue:l.value.address.ar,"onUpdate:modelValue":a[4]||(a[4]=s=>l.value.address.ar=s),label:" العنوان "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(_,{modelValue:l.value.address.en,"onUpdate:modelValue":a[5]||(a[5]=s=>l.value.address.en=s),label:" Address"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(_,{modelValue:l.value.position.ar,"onUpdate:modelValue":a[6]||(a[6]=s=>l.value.position.ar=s),label:" الوظيفة "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(_,{modelValue:l.value.position.en,"onUpdate:modelValue":a[7]||(a[7]=s=>l.value.position.en=s),label:" Position"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(U,{dir:"rtl",style:{direction:"rtl","text-align":"right","unicode-bidi":"bidi-override"},modelValue:l.value.bio_ar,"onUpdate:modelValue":a[8]||(a[8]=s=>l.value.bio_ar=s),label:" نبذه عنك "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(U,{modelValue:l.value.bio_en,"onUpdate:modelValue":a[9]||(a[9]=s=>l.value.bio_en=s),label:" Bio"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(U,{dir:"rtl",style:{direction:"rtl","text-align":"right","unicode-bidi":"bidi-override"},modelValue:l.value.about_ar,"onUpdate:modelValue":a[10]||(a[10]=s=>l.value.about_ar=s),label:"  عني "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(U,{modelValue:l.value.about_en,"onUpdate:modelValue":a[11]||(a[11]=s=>l.value.about_en=s),label:" About Me"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(_,{modelValue:l.value.email,"onUpdate:modelValue":a[12]||(a[12]=s=>l.value.email=s),label:" Email"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(_,{modelValue:l.value.phone,"onUpdate:modelValue":a[13]||(a[13]=s=>l.value.phone=s),label:" Phone"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(Q,{modelValue:b.value,"onUpdate:modelValue":a[14]||(a[14]=s=>b.value=s),label:" الصورة الشخصيه ",accept:"image/*","prepend-icon":"mdi-camera",onChange:k},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[f.value?(c(),N(L,{key:0,style:{margin:"auto"},src:f.value,"max-width":"200"},null,8,["src"])):F("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},le=w("h2",{class:"ma-5"},"صور الرئيسية",-1),ae={key:1,class:"text-alert"},te=w("h3",null,"يمكنك تحميل صوره او اكثر",-1),oe={__name:"HeroForm",emits:["runItems"],setup(E,{expose:h,emit:y}){const o=T(),m=v(!1),b=d=>{W("photo",d).then(()=>{o.user.hero=o.user.hero.filter(i=>i.id!==d)})};function l(){m.value=!1}function f(d){const i=new FormData;i.append("user_id",o.user.id),d.length&&d.forEach(u=>{i.append("hero[]",u,u.name)}),i.append("_method","put"),X("users",i,o.user.id).then(u=>{o.user.hero=u.data.hero})}const V=v(null),D=()=>{V.value&&V.value.compressImages(5).then(d=>{f(d)}).catch(d=>{console.log("error ",d)})},k=()=>{m.value=!0};return h({openDialogShowHero:k}),(d,i)=>{const u=j;return c(),I("div",null,[e(r,{cols:"auto"},{default:t(()=>[e(x,{class:"ma-1",color:"info",onClick:i[0]||(i[0]=a=>k())},{default:t(()=>[g(" تعديل صور الرئيسية "),e(A,{icon:"mdi-image-outline",end:""})]),_:1})]),_:1}),e(B,{style:{"z-index":"50"},class:"text-center",modelValue:m.value,"onUpdate:modelValue":i[1]||(i[1]=a=>m.value=a),"max-width":"900",persistent:""},{default:t(()=>[e(S,{class:"pa-5"},{actions:t(()=>[e(x,{onClick:l},{default:t(()=>[g(" اغلاق ")]),_:1}),e(x,{onClick:D},{default:t(()=>[g(" موافق ")]),_:1})]),default:t(()=>[le,n(o).user.hero.length?(c(),N(C,{key:0,style:{"background-color":"#ada7a0","text-align":"center","overflow-x":"auto"}},{default:t(()=>[(c(!0),I(J,null,M(n(o).user.hero,a=>(c(),N(r,{key:a,class:"d-flex child-flex"},{default:t(()=>[e(L,{"min-width":"150px","max-width":"300px",src:a.path,"aspect-ratio":"1",class:"bg-grey-lighten-2",cover:""},{default:t(()=>[e(A,{onClick:q(s=>b(a.id),["stop"]),class:"icon-delete-image",icon:"mdi-delete-outline"},null,8,["onClick"])]),_:2},1032,["src"])]),_:2},1024))),128))]),_:1})):F("",!0),n(o).user.hero.length?F("",!0):(c(),I("p",ae,"لا توجد صور")),e(O,null,{default:t(()=>[e(C,{class:"my-10"},{default:t(()=>[te,e(u,{ref_key:"imageInputRef",ref:V,onSaveCompressedImages:f},null,512)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},Ne={__name:"index",setup(E){const h=v(null),y=v(null),o=T(),m=v(null);function b(){m.value?m.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}const l=v(null);function f(){l.value?l.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}const V=()=>{h.value.dialogForm()},D=()=>{y.value.openDialogShowHero()};return(k,d)=>{const i=G,u=ee;return n(o).loadengApi?F("",!0):(c(),N(K,{key:0,class:"user-info"},{default:t(()=>[n(o).user?(c(),N(i,{key:0,ref_key:"dialogThemeFormHero",ref:l,detTheme:{nameEn:"hero",nameAr:"الرئيسية",h2:!0,h4:!0,p:!0,cv:!0,work:!0,sectionTitle:!0,imag:!0},onClick:f},null,512)):F("",!0),n(o).user?(c(),N(i,{key:1,ref_key:"dialogThemeFormAbout",ref:m,detTheme:{nameEn:"about",nameAr:"عني",h2:!0,h4:!0,p:!0,btn:!0},onClick:b},null,512)):F("",!0),e(u,{ref_key:"dialogItemForm",ref:h,onClick:V},null,512),e(oe,{ref_key:"dialogHeroForm",ref:y,onClick:D},null,512),e(S,{title:(n(o).user.first_name.en||"N D")+" - "+(n(o).user.first_name.ar||"N D"),subtitle:n(o).user.email||"N D",class:"mt-1"},{default:t(()=>[e(z,null,{default:t(()=>[g(H(n(o).user.phone),1)]),_:1}),e(Y,null,{default:t(()=>[e(p,{class:"ma-2 pa-2",subtitle:n(o).user.first_name.en||"N D",title:"First Name (EN)"},null,8,["subtitle"]),e(p,{class:"ma-2 pa-2",subtitle:n(o).user.first_name.ar||"N D",title:"الاسم الاول (AR)"},null,8,["subtitle"]),e(p,{class:"ma-2 pa-2",subtitle:n(o).user.last_name.en||"N D",title:"Last Name (EN)"},null,8,["subtitle"]),e(p,{class:"ma-2 pa-2",subtitle:n(o).user.last_name.ar||"N D",title:"الاسم الاخير (AR)"},null,8,["subtitle"]),e(p,{class:"ma-2 pa-2",subtitle:n(o).user.address.en||"N D",title:"Address (EN)"},null,8,["subtitle"]),e(p,{class:"ma-2 pa-2",subtitle:n(o).user.address.ar||"N D",title:"العنوان (AR)"},null,8,["subtitle"]),e(p,{class:"ma-2 pa-2",subtitle:n(o).user.bio_en||"N D",title:"Bio (EN)"},null,8,["subtitle"]),e(p,{class:"ma-2 pa-2",subtitle:n(o).user.bio_ar||"N D",title:"نبذه عنك (AR)"},null,8,["subtitle"]),e(p,{class:"ma-2 pa-2",subtitle:n(o).user.about_en||"N D",title:"About Me (EN)"},null,8,["subtitle"]),e(p,{class:"ma-2 pa-2",subtitle:n(o).user.about_ar||"N D",title:" عني (AR)"},null,8,["subtitle"]),e(p,{class:"ma-2 pa-2",subtitle:n(o).user.position.en||"N D",title:"Position (EN)"},null,8,["subtitle"]),e(p,{class:"ma-2 pa-2",subtitle:n(o).user.position.ar||"N D",title:"الوظيفة (AR)"},null,8,["subtitle"]),e(p,{class:"ma-2 pa-2",subtitle:n(o).user.username||"N D",title:"User Name"},null,8,["subtitle"])]),_:1})]),_:1},8,["title","subtitle"])]),_:1}))}}};export{Ne as default};
