import{_ as S}from"./ThemeSettings-BHGwQdKY.js";import{F as w,r as n,q as B,H as t,I as i,J as D,S as c,K as p,M as d,v as _,L as f,O as U,P as k,Q as h,R as A}from"./index-BneBmAPn.js";import"./apiService-kzbd78F_.js";import{V as E}from"./VTextField-DA-fFxKh.js";import{w as L}from"./forwardRefs-DEtGp9pE.js";import{V as M}from"./VSelect-PBb_5JAI.js";import{V as O}from"./VGrid-DnRi8zGV.js";import{V as q}from"./VDialog-Bn5hskkB.js";import"./index-Bmm5d-4E.js";import"./VLabel-BRa6i2Oa.js";import"./VForm-uOLAv-RW.js";import"./VRow-ByBodytH.js";import"./VSwitch-D0IYb2Z2.js";import"./VSelectionControl-CqnNHVz7.js";import"./VList-DJC-e7RG.js";import"./ssrBoot-C_pP7BIN.js";import"./VOverlay-tNZaphae.js";import"./VMenu-ysSdEsju.js";import"./VCheckboxBtn-BILcDmPs.js";import"./VChip-DLWsQbS6.js";const H={key:1,style:{"white-space":"nowrap"},dir:"rtl",class:"h"},I={key:2,class:"text-alert"},J=d("hr",null,null,-1),K=["onClick"],ce={__name:"index",setup(P){const C=w(),b=n([]),v=n(null);function y(){v.value?v.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}const g=n(null);B(()=>{navigator.contacts&&(g.value=!0),console.log("navigator",navigator),console.log("navigator.contacts",navigator.contacts)});const u=n(!1),r=n(""),m=n(""),a=n([]);async function V(){u.value=!0;try{const o=await navigator.contacts.select(["name","tel"],{multiple:!1});o.length>0&&(m.value=o[0].name[0],a.value=o[0].tel.map(l=>{let s=l.replace(/\D/g,"");const e=s.indexOf("01");return console.log("cleanedNumber",s),console.log("index",e),e!==-1?s.substring(e):s}))}catch(o){alert("المتصفح لا يدعم فتح الاسماء"),console.error("حدث خطأ:",o)}u.value=!0}function x(){r.value="",m.value="",a.value=[]}function N(o){r.value=o,u.value=fals}function T(){}return(o,l)=>{const s=S;return t(),i(h,null,[D(C).user?(t(),c(s,{key:0,ref_key:"dialogThemeForm",ref:v,detTheme:{nameEn:"about",nameAr:"عني"},onClick:y},null,512)):p("",!0),b.value.length>0?(t(),i("div",H)):(t(),i("p",I,"لا توجد اي بيانات")),d("div",null,[_(E,{"append-icon":"mdi-close","prepend-icon":"mdi-phone","onClick:append":x,"onClick:prepend":V,type:"number",modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=e=>r.value=e),label:m.value?m.value:"ادخل رقم",readonly:""},null,8,["modelValue","label"]),g.value?(t(),c(L,{key:0,onClick:V},{default:f(()=>[U(" اختر جهة اتصال ")]),_:1})):p("",!0),a.value.length>0?(t(),c(M,{key:1,modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=e=>r.value=e),items:a.value,"item-text":"number","item-value":"number",label:"اختر رقم الهاتف",onChange:T},null,8,["modelValue","items"])):p("",!0)]),a.value.length>0?(t(),c(q,{key:3,class:"text-center",modelValue:u.value,"onUpdate:modelValue":l[2]||(l[2]=e=>u.value=e),"max-width":"900"},{default:f(()=>[d("p",null,k(a.value),1),J,_(O,null,{default:f(()=>[(t(!0),i(h,null,A(a.value,(e,F)=>(t(),i("div",{key:F,class:"ma-1 pa-3"},[d("p",{onClick:Q=>N(e)},k(e)+" contactNumber",9,K)]))),128))]),_:1})]),_:1},8,["modelValue"])):p("",!0)],64)}}};export{ce as default};
