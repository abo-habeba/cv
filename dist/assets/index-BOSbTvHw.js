import{_ as w}from"./ThemeSettings-xj6j3LkI.js";import{F as A,r as d,q as B,U as k,H as n,S as _,L as o,v as r,O as T,J as D,K as E,M as e,I as g,R as P,Q as L,a8 as m,P as a}from"./index-iyU_xq7t.js";import{V as j}from"./VRow-DwAt1PbW.js";import{x as p}from"./forwardRefs-DwkHy9Hf.js";import{V as M}from"./VDialog-DnZDRrgB.js";import{V as U}from"./VTable-C8cnVZx-.js";import{a as $}from"./VTextField-DqXDFucX.js";import"./apiService-DfrdTnE9.js";import"./VInput-BcSXRzRS.js";import"./VForm-C1nAx09s.js";import"./VSwitch-B4v4qjnl.js";import"./VOverlay-DF7wq8LR.js";const z=e("h2",{class:"ma-5"},"هل تريد حذف العنصر بالفعل",-1),q=e("thead",null,[e("tr",null,[e("th",{class:"text-center"},"#"),e("th",{class:"text-center"},"الاسم"),e("th",{class:"text-center"},"Name"),e("th",{class:"text-center"},"البريد الإلكتروني"),e("th",{class:"text-center"},"الهاتف"),e("th",{class:"text-center"},"الرسالة"),e("th",{class:"text-center"},"Message"),e("th",{class:"text-center"},"الموضوع"),e("th",{class:"text-center"},"Subject"),e("th",{class:"text-center"},"تاريخ الإنشاء"),e("th",{class:"text-center"})])],-1),H={key:2,class:"text-alert mt-10"},se={__name:"index",setup(J){const c=A(),V=l=>{m.success(l,{theme:"colored",position:m.POSITION.TOP_LEFT})},x=l=>{m.error(l,{theme:"colored",position:m.POSITION.TOP_LEFT})},C=d(null),u=d(!1),i=d([]),f=d("");function y(l){u.value=!0,f.value=l}B(()=>{v()});function v(){c.loadengApi=!0,k.get("contacts",i.value).then(l=>{i.value=l.data.data,c.loadengApi=!1,f.value=""}).catch(()=>{x("هناك خطا ما حاول مره اخري")})}const h=d(null);function F(){h.value?h.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}function S(){c.loadengApi=!0,k.post("contacts/delete",{id:[f.value.id]}).then(()=>{v(),u.value=!1,c.loadengApi=!1,V(" تم الحذف")}).catch(l=>{x(l.response.data.message)})}const I=l=>{var s;(s=C.value)==null||s.addNew(l)};return(l,s)=>{const N=w;return n(),_($,null,{default:o(()=>[r(M,{class:"text-center",modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=t=>u.value=t),"max-width":"400",persistent:""},{default:o(()=>[r(j,{class:"pa-5"},{default:o(()=>[z,r(p,{class:"ma-1",onClick:S},{default:o(()=>[T(" موافق ")]),_:1}),r(p,{class:"ma-1",onClick:s[0]||(s[0]=t=>u.value=!1)},{default:o(()=>[T(" اغلاق ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),D(c).user?(n(),_(N,{key:0,ref_key:"dialogThemeForm",ref:h,detTheme:{nameEn:"contacts",nameAr:"الرسائل"},onClick:F},null,512)):E("",!0),i.value.length>0?(n(),_(U,{key:1,style:{"white-space":"nowrap"},dir:"rtl",class:"h mt-10"},{default:o(()=>[q,e("tbody",null,[(n(!0),g(L,null,P(i.value,(t,O)=>(n(),g("tr",{key:t.id},[e("td",null,a(O+1),1),e("td",null,a(t.name.ar),1),e("td",null,a(t.name.en),1),e("td",null,a(t.email),1),e("td",null,a(t.phone),1),e("td",null,a(t.message.ar),1),e("td",null,a(t.message.en),1),e("td",null,a(t.subject.ar),1),e("td",null,a(t.subject.en),1),e("td",null,a(t.created_at),1),e("td",null,[r(p,{onClick:b=>y(t),class:"ml-3",icon:"mdi-delete",color:"red",size:"small"},null,8,["onClick"]),r(p,{onClick:b=>I(t),icon:"mdi-pencil",color:"info",size:"small"},null,8,["onClick"])])]))),128))])]),_:1})):(n(),g("p",H,"لا توجد اي بيانات"))]),_:1})}}};export{se as default};
