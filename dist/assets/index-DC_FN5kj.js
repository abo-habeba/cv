import{_ as H}from"./ShowImages-_LbTzaoa.js";import{_ as Q}from"./imageInput-Dv5qoAA5.js";import{n as O,s as W,f as Y,d as G}from"./apiService-DJl06C9D.js";import{p as K,J as X,l as Z,A as ee,h as le,c as te,ak as ae,m as l,D as z,H as ne,O as j,r as m,Q as S,R,S as o,U as B,Y as a,V as u,W as A,N as oe,z as se,$ as J,a2 as P,_ as ue,I as de}from"./index-B_INyi6s.js";import{b as re,w as ie,x as w}from"./VGrid-B2erfyjZ.js";import{b as E,V as me,a as d}from"./VRow-Blc9M78H.js";import{V as ce}from"./VForm-DN_2fu7y.js";import{V as i}from"./VTextField-B_LHzmYe.js";import{m as pe,V as L}from"./VCheckboxBtn-BROVVO9f.js";import{m as ve,u as fe,V as M}from"./VInput-3Ijvp9PA.js";import{V as q}from"./VDialog-DxgiNH1U.js";import{_ as Ve}from"./ThemeSettings-CmMm26R4.js";import{_ as _e}from"./Breadcrumbs-gfTqwcfX.js";import{V as ye}from"./VTable-CBL9MKAu.js";import{V as xe}from"./VContainer-C1vZhk8r.js";import"./VLabel-CI5_faWj.js";import"./VChip-TUTOoshy.js";import"./index-D3xhWn2W.js";import"./VSelectionControl-BQk9-tQ0.js";import"./VSwitch-CpkTrUhk.js";const be=K({...ve(),...X(pe(),["inline"])},"VCheckbox"),ge=Z()({name:"VCheckbox",inheritAttrs:!1,props:be(),emits:{"update:modelValue":_=>!0,"update:focused":_=>!0},setup(_,D){let{attrs:U,slots:g}=D;const h=ee(_,"modelValue"),{isFocused:C,focus:k,blur:s}=fe(_),v=le(),c=te(()=>_.id||`checkbox-${v}`);return re(()=>{const[y,p]=ae(U),x=M.filterProps(_),b=L.filterProps(_);return l(M,z({class:["v-checkbox",_.class]},y,x,{modelValue:h.value,"onUpdate:modelValue":f=>h.value=f,id:c.value,focused:C.value,style:_.style}),{...g,default:f=>{let{id:r,messagesId:V,isDisabled:T,isReadonly:F,isValid:$}=f;return l(L,z(b,{id:r.value,"aria-describedby":V.value,disabled:T.value,readonly:F.value},p,{error:$.value===!1,modelValue:h.value,"onUpdate:modelValue":N=>h.value=N,onFocus:k,onBlur:s}),g)}})}),{}}}),ke={class:"ma-5"},he={__name:"ExperienceForm",emits:["runItems"],setup(_,{expose:D,emit:U}){const{xs:g}=ne(),h=j(),C=U,k=m(!1),s=m({}),v=m({}),c=m({}),y=m({}),p=m({}),x=m({}),b=m({}),f=m({}),r=m({});function V(){v.value={ar:"",en:""},c.value={ar:"",en:""},y.value={ar:"",en:""},p.value={ar:"",en:""},x.value={ar:"",en:""},b.value={ar:"",en:""},f.value={ar:"",en:""},r.value={ar:"",en:""},s.value={start_date:"",end_date:"",is_current:!1,id:null},k.value=!1,s.value.id&&C("runItems")}function T(t){const e=new FormData;e.append("title",JSON.stringify(v.value)),e.append("company",JSON.stringify(c.value)),e.append("description",JSON.stringify(y.value)),e.append("responsibilities",JSON.stringify(p.value)),e.append("achievements",JSON.stringify(x.value)),e.append("employment_type",JSON.stringify(b.value)),e.append("industry",JSON.stringify(f.value)),e.append("location",JSON.stringify(r.value)),e.append("user_id",h.user.id),e.append("is_current",s.value.is_current?1:0),e.append("end_date",s.value.end_date||""),e.append("start_date",s.value.start_date),t.length&&t.forEach(I=>{e.append("photos[]",I,I.name)}),s.value.id&&e.append("_method","put"),W("experiences",e,s.value.id).then(I=>{s.value=I.data,C("runItems"),V()})}const F=m(null),$=()=>{if(!v.value.ar&&!v.value.en){O("حقل العنوان مطلوب عربي او انجليزي");return}if(!c.value.ar&&!c.value.en){O("حقل الشركة مطلوب عربي او انجليزي");return}if(!s.value.start_date){O("حقل تاريخ البدء مطلوب ");return}if(!s.value.end_date&&!s.value.is_current){O("ادخل تاريخ الانتهاء او اختر حتي الان ");return}F.value&&F.value.compressImages().then(t=>{T(t)})},N=(t={})=>{Object.keys(t).length!==0&&(v.value=t.title,c.value=t.company,y.value=t.description,p.value=t.responsibilities,x.value=t.achievements,b.value=t.employment_type,f.value=t.industry,r.value=t.location,s.value=t,t.end_date.en==="1"||t.end_date.en==="0"?(s.value.is_current=t.end_date.en==="1",s.value.end_date=""):s.value.end_date=t.end_date.en),k.value=!0};return D({addNew:N}),(t,e)=>{const I=Q;return S(),R("div",null,[l(ie,{onClick:e[0]||(e[0]=n=>N()),color:"info",size:"35",icon:"mdi-plus-outline"}),l(q,{class:"text-center",modelValue:k.value,"onUpdate:modelValue":e[20]||(e[20]=n=>k.value=n),"max-width":"900",fullscreen:A(g)},{default:o(()=>[l(E,{class:"pa-5"},{actions:o(()=>[l(w,{onClick:V},{default:o(()=>[B(" اغلاق ")]),_:1}),l(w,{onClick:$},{default:o(()=>[B(" موافق ")]),_:1})]),default:o(()=>[a("h2",ke,u(s.value.id?"تعديل ":" اضافة "),1),l(ce,null,{default:o(()=>[l(me,null,{default:o(()=>[l(d,{cols:"12",md:"6"},{default:o(()=>[l(i,{modelValue:v.value.ar,"onUpdate:modelValue":e[1]||(e[1]=n=>v.value.ar=n),label:"العنوان"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(i,{modelValue:v.value.en,"onUpdate:modelValue":e[2]||(e[2]=n=>v.value.en=n),label:"Title"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(i,{modelValue:c.value.ar,"onUpdate:modelValue":e[3]||(e[3]=n=>c.value.ar=n),label:"الشركة"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(i,{modelValue:c.value.en,"onUpdate:modelValue":e[4]||(e[4]=n=>c.value.en=n),label:"Company"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(i,{modelValue:y.value.ar,"onUpdate:modelValue":e[5]||(e[5]=n=>y.value.ar=n),label:"الوصف"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(i,{modelValue:y.value.en,"onUpdate:modelValue":e[6]||(e[6]=n=>y.value.en=n),label:"Description"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(i,{modelValue:p.value.ar,"onUpdate:modelValue":e[7]||(e[7]=n=>p.value.ar=n),label:"المسؤوليات"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(i,{modelValue:p.value.en,"onUpdate:modelValue":e[8]||(e[8]=n=>p.value.en=n),label:"Responsibilities"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(i,{modelValue:x.value.ar,"onUpdate:modelValue":e[9]||(e[9]=n=>x.value.ar=n),label:"الإنجازات"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(i,{modelValue:x.value.en,"onUpdate:modelValue":e[10]||(e[10]=n=>x.value.en=n),label:"Achievements"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(i,{modelValue:b.value.ar,"onUpdate:modelValue":e[11]||(e[11]=n=>b.value.ar=n),label:"نوع الوظيفه"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(i,{modelValue:b.value.en,"onUpdate:modelValue":e[12]||(e[12]=n=>b.value.en=n),label:"Employment Type"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(i,{modelValue:f.value.ar,"onUpdate:modelValue":e[13]||(e[13]=n=>f.value.ar=n),label:"المجال"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(i,{modelValue:f.value.en,"onUpdate:modelValue":e[14]||(e[14]=n=>f.value.en=n),label:"Industry"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(i,{modelValue:r.value.ar,"onUpdate:modelValue":e[15]||(e[15]=n=>r.value.ar=n),label:"الموقع"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(i,{modelValue:r.value.en,"onUpdate:modelValue":e[16]||(e[16]=n=>r.value.en=n),label:"Location"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(i,{type:"date",modelValue:s.value.start_date,"onUpdate:modelValue":e[17]||(e[17]=n=>s.value.start_date=n),label:"تاريخ البدء"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(ge,{modelValue:s.value.is_current,"onUpdate:modelValue":e[18]||(e[18]=n=>s.value.is_current=n),label:"حتي الان"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(i,{type:"date",modelValue:s.value.end_date,"onUpdate:modelValue":e[19]||(e[19]=n=>s.value.end_date=n),label:"تاريخ الانتهاء"},null,8,["modelValue"])]),_:1}),l(I,{ref_key:"imageInputRef",ref:F},null,512)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","fullscreen"])])}}},Ce=a("h2",{class:"ma-5"},"هل تريد حذف العنصر بالفعل",-1),Ie=a("thead",null,[a("tr",null,[a("th",{class:"text-center"},"#"),a("th",{class:"text-center"},"العنوان"),a("th",{class:"text-center"},"title"),a("th",{class:"text-center"},"الشركة"),a("th",{class:"text-center"},"Company"),a("th",{class:"text-center"},"الوصف"),a("th",{class:"text-center"},"Description"),a("th",{class:"text-center"},"المسؤوليات"),a("th",{class:"text-center"},"responsibilities"),a("th",{class:"text-center"},"الإنجازات"),a("th",{class:"text-center"},"achievements"),a("th",{class:"text-center"},"نوع الوظيفه"),a("th",{class:"text-center"},"employmenttype"),a("th",{class:"text-center"},"المجال"),a("th",{class:"text-center"},"industry"),a("th",{class:"text-center"},"الموقع"),a("th",{class:"text-center"},"location"),a("th",{class:"text-center"},"تاريخ البدء"),a("th",{class:"text-center"},"تاريخ الانتهاء"),a("th",{class:"text-center"},"End Date"),a("th",{class:"text-center"},"تاريخ الانشاء"),a("th",{class:"text-center sticky-column"},". . .")])],-1),Ue={class:"sticky-column"},Fe={key:1,class:"text-alert"},We={__name:"index",setup(_){const D=oe(),U=j(),g=m(!1),h=m(null),C=m([]),k=m(""),s=m(null);function v(){s.value?s.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}const c=m(null),y=r=>{c.value.opaenDialog(r)};se(()=>{p()});function p(){U.loadengApi=!0,Y("experiences").then(r=>{C.value=r.data,k.value=""})}function x(r){g.value=!0,k.value=r}function b(){U.loadengApi=!0,G("experiences/delete",{id:[k.value.id]}).then(()=>{p(),g.value=!1})}const f=r=>{var V;(V=h.value)==null||V.addNew(r)};return(r,V)=>{const T=_e,F=Ve,$=he,N=H;return S(),J(xe,null,{default:o(()=>[l(T),l(q,{class:"text-center",modelValue:g.value,"onUpdate:modelValue":V[1]||(V[1]=t=>g.value=t),"max-width":"400",persistent:""},{default:o(()=>[l(E,{class:"pa-5"},{default:o(()=>[Ce,l(w,{class:"ma-1",onClick:b},{default:o(()=>[B(" موافق ")]),_:1}),l(w,{class:"ma-1",onClick:V[0]||(V[0]=t=>g.value=!1)},{default:o(()=>[B(" اغلاق ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(E,{"max-width":"500px",class:"text-center my-5 mx-auto",subtitle:A(D).meta.description,title:A(D).meta.title},{append:o(()=>[A(U).user?(S(),J(F,{key:0,ref_key:"dialogThemeForm",ref:s,detTheme:{nameEn:"experiences",nameAr:"الخبرات"},onClick:v},null,512)):P("",!0)]),prepend:o(()=>[l($,{ref_key:"itemForm",ref:h,onRunItems:p},null,512)]),_:1},8,["subtitle","title"]),l(N,{ref_key:"isShowImage",ref:c,onRunItems:p},null,512),C.value.length>0?(S(),J(ye,{key:0,style:{"white-space":"nowrap"},dir:"rtl",class:"h"},{default:o(()=>[Ie,a("tbody",null,[(S(!0),R(de,null,ue(C.value,(t,e)=>(S(),R("tr",{key:t.id},[a("td",null,u(e+1),1),a("td",null,u(t.title.ar),1),a("td",null,u(t.title.en),1),a("td",null,u(t.company.ar),1),a("td",null,u(t.company.en),1),a("td",null,u(t.description.ar),1),a("td",null,u(t.description.en),1),a("td",null,u(t.responsibilities.ar),1),a("td",null,u(t.responsibilities.en),1),a("td",null,u(t.achievements.ar),1),a("td",null,u(t.achievements.en),1),a("td",null,u(t.employment_type.ar),1),a("td",null,u(t.employment_type.en),1),a("td",null,u(t.industry.ar),1),a("td",null,u(t.industry.en),1),a("td",null,u(t.location.ar),1),a("td",null,u(t.location.en),1),a("td",null,u(t.start_date),1),a("td",null,u(t.end_date.ar=="1"?"حتي الان":t.end_date.ar),1),a("td",null,u(t.end_date.en=="1"?"so far":t.end_date.en),1),a("td",null,u(t.created_at),1),a("td",Ue,[l(w,{onClick:I=>y(t.photos),icon:"mdi-image-edit-outline",color:"info",size:"small"},null,8,["onClick"]),l(w,{onClick:I=>x(t),class:"mx-3",icon:"mdi-delete",color:"red",size:"small"},null,8,["onClick"]),l(w,{onClick:I=>f(t),icon:"mdi-square-edit-outline",color:"info",size:"small"},null,8,["onClick"])])]))),128))])]),_:1})):P("",!0),C.value.length?P("",!0):(S(),R("p",Fe,"لا توجد اي بيانات"))]),_:1})}}};export{We as default};
