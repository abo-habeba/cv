import{_ as A}from"./ShowImages-i6Ak1e-R.js";import{_ as J}from"./imageInput-C7eY035c.js";import{n as L,s as M,f as j,d as q}from"./apiService-Q18LkiAH.js";import{W as H,F as R,r as i,H as g,I as F,v as e,L as a,O as S,M as t,P as f,J as B,q as K,S as T,K as P,R as Q,Q as W}from"./index-DoUa79Mj.js";import{k as v}from"./VBtn-ByDIVYCH.js";import{e as h,V as z,d as G}from"./VRow-DZDJQVib.js";import{V as X}from"./VForm-B_Ufe_Z7.js";import{V as b}from"./VTextField-DwDypr5x.js";import{V as U}from"./VTextarea-C8DpH_Cl.js";import{V as E}from"./VDialog-D8YprR3A.js";import{_ as Y}from"./ThemeSettings-LYEVB81B.js";import{V as Z}from"./VTable-B0P-F9Du.js";import{V as ee}from"./VContainer-D3lAfPRy.js";import"./index-CPodMjtC.js";import"./VInput-BG1HDC-H.js";import"./forwardRefs-ByVqR1CM.js";import"./VChip-mQXjCYxY.js";import"./VOverlay-DALfeHwa.js";import"./VSwitch-B4XaDZ4X.js";const le={class:"ma-5"},te={__name:"SkillsForm",emits:["runItems"],setup(O,{expose:x,emit:y}){const{xs:_}=H(),k=R(),c=i(!1),s=i({}),r=i({}),d=i({}),C=y;function V(){r.value={ar:"",en:""},d.value={ar:"",en:""},s.value.level="",s.value.id="",c.value=!1,C("runItems")}function w(o){const l=new FormData;l.append("name",JSON.stringify(r.value)),l.append("description",JSON.stringify(d.value)),s.value.level&&l.append("level",s.value.level),console.log("item.value.level",s.value.level||null),l.append("user_id",k.user.id),console.log("userStore.user.id",k.user.id),o.length&&o.forEach(p=>{l.append("photos[]",p,p.name)}),s.value.id&&l.append("_method","put"),M("skills",l,s.value.id).then(p=>{s.value=p.data,C("runItems"),V()})}const I=i(null),D=()=>{if(!r.value.ar&&!r.value.en){L("حقل الاسم مطلوب عربي او انجليزي");return}I.value&&I.value.compressImages().then(o=>{w(o)})},m=(o={})=>{Object.keys(o).length!==0&&(r.value=o.name,d.value=o.description),c.value=!0,s.value=o};return x({addNew:m}),(o,l)=>{const p=J;return g(),F("div",null,[e(h,{cols:"auto"},{default:a(()=>[e(v,{onClick:l[0]||(l[0]=n=>m()),icon:"mdi-plus",color:"success",size:"small",to:""})]),_:1}),e(E,{fullscreen:B(_),class:"text-center",modelValue:c.value,"onUpdate:modelValue":l[6]||(l[6]=n=>c.value=n),"max-width":"900"},{default:a(()=>[e(z,{class:"pa-5"},{actions:a(()=>[e(v,{onClick:V},{default:a(()=>[S(" اغلاق ")]),_:1}),e(v,{onClick:D},{default:a(()=>[S(" موافق ")]),_:1})]),default:a(()=>[t("h2",le,f(s.value.id?"تعديل ":" اضافة "),1),e(X,null,{default:a(()=>[e(G,null,{default:a(()=>[e(h,{cols:"12",md:"6"},{default:a(()=>[e(b,{modelValue:r.value.ar,"onUpdate:modelValue":l[1]||(l[1]=n=>r.value.ar=n),label:"الاسم"},null,8,["modelValue"])]),_:1}),e(h,{cols:"12",md:"6"},{default:a(()=>[e(b,{modelValue:r.value.en,"onUpdate:modelValue":l[2]||(l[2]=n=>r.value.en=n),label:"name"},null,8,["modelValue"])]),_:1}),e(h,{cols:"12",md:"6"},{default:a(()=>[e(U,{modelValue:d.value.ar,"onUpdate:modelValue":l[3]||(l[3]=n=>d.value.ar=n),label:"الوصف"},null,8,["modelValue"])]),_:1}),e(h,{cols:"12",md:"6"},{default:a(()=>[e(U,{modelValue:d.value.en,"onUpdate:modelValue":l[4]||(l[4]=n=>d.value.en=n),label:"description"},null,8,["modelValue"])]),_:1}),e(h,{cols:"12",md:"6"},{default:a(()=>[e(b,{modelValue:s.value.level,"onUpdate:modelValue":l[5]||(l[5]=n=>s.value.level=n),type:"number",label:"المستوي",rules:[n=>n>=1&&n<=100||"يجب أن يكون الرقم بين 1 الي 100"]},null,8,["modelValue","rules"])]),_:1}),e(p,{ref_key:"imageInputRef",ref:I},null,512)]),_:1})]),_:1})]),_:1})]),_:1},8,["fullscreen","modelValue"])])}}},ae=t("h2",{class:"ma-5"},"هل تريد حذف العنصر بالفعل",-1),oe=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"#"),t("th",{class:"text-center"},"الاسم"),t("th",{class:"text-center"},"name"),t("th",{class:"text-center"},"الوصف"),t("th",{class:"text-center"},"description"),t("th",{class:"text-center"},"المستوي"),t("th",{class:"text-center"},"تاريخ الانشا"),t("th",{class:"text-center sticky-column"},". . .")])],-1),ne={class:"sticky-column"},se={key:2,class:"text-alert"},Se={__name:"index",setup(O){const x=R(),y=i(null),_=i(!1),k=i([]),c=i(""),s=i(null);function r(){s.value?s.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}const d=i(null),C=m=>{d.value.opaenDialog(m)};K(()=>{V()});function V(){x.loadengApi=!0,j("skills").then(m=>{k.value=m.data,c.value=""})}function w(m){_.value=!0,c.value=m}function I(){x.loadengApi=!0,q("skills/delete",{id:[c.value.id]}).then(()=>{V(),_.value=!1})}const D=m=>{var o;(o=y.value)==null||o.addNew(m)};return(m,o)=>{const l=Y,p=te,n=A;return g(),T(ee,null,{default:a(()=>[e(E,{class:"text-center",modelValue:_.value,"onUpdate:modelValue":o[1]||(o[1]=u=>_.value=u),"max-width":"400",persistent:""},{default:a(()=>[e(z,{class:"pa-5"},{default:a(()=>[ae,e(v,{class:"ma-1",onClick:I},{default:a(()=>[S(" موافق ")]),_:1}),e(v,{class:"ma-1",onClick:o[0]||(o[0]=u=>_.value=!1)},{default:a(()=>[S(" اغلاق ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),B(x).user?(g(),T(l,{key:0,ref_key:"dialogThemeForm",ref:s,detTheme:{nameEn:"skills",nameAr:"المهارات",h2:!0,h4:!0,imag:!0,progress:!0},onClick:r},null,512)):P("",!0),e(p,{ref_key:"itemForm",ref:y,onRunItems:V},null,512),e(n,{ref_key:"isShowImage",ref:d,onRunItems:V},null,512),k.value.length>0?(g(),T(Z,{key:1,style:{"white-space":"nowrap"},dir:"rtl",class:"h"},{default:a(()=>[oe,t("tbody",null,[(g(!0),F(W,null,Q(k.value,(u,N)=>(g(),F("tr",{key:N},[t("td",null,f(N+1),1),t("td",null,f(u.name.ar),1),t("td",null,f(u.name.en),1),t("td",null,f(u.description.ar),1),t("td",null,f(u.description.en),1),t("td",null,f(u.level),1),t("td",null,f(u.created_at),1),t("td",ne,[e(v,{onClick:$=>C(u.photos),icon:"mdi-image-edit-outline",color:"info",size:"small"},null,8,["onClick"]),e(v,{onClick:$=>w(u),class:"mx-3",icon:"mdi-delete",color:"red",size:"small"},null,8,["onClick"]),e(v,{onClick:$=>D(u),icon:"mdi-pencil",color:"info",size:"small"},null,8,["onClick"])])]))),128))])]),_:1})):(g(),F("p",se,"لا توجد اي بيانات"))]),_:1})}}};export{Se as default};
