import{n as D,s as A,f as O,d as z}from"./apiService-Q18LkiAH.js";import{W as E,F as N,r as i,H as f,I as F,v as e,L as a,O as I,M as t,P as p,J as S,q as J,S as w,K as R,R as M,Q as j}from"./index-DoUa79Mj.js";import{k as v}from"./VBtn-ByDIVYCH.js";import{e as x,V as b,d as q}from"./VRow-DZDJQVib.js";import{V as H}from"./VForm-B_Ufe_Z7.js";import{V as C}from"./VTextField-DwDypr5x.js";import{V as U}from"./VDialog-D8YprR3A.js";import{_ as K}from"./ThemeSettings-LYEVB81B.js";import{V as P}from"./VTable-B0P-F9Du.js";import{V as Q}from"./VContainer-D3lAfPRy.js";import"./index-CPodMjtC.js";import"./VInput-BG1HDC-H.js";import"./forwardRefs-ByVqR1CM.js";import"./VOverlay-DALfeHwa.js";import"./VSwitch-B4XaDZ4X.js";const W={class:"ma-5"},G={__name:"LanguageForm",emits:["runItems"],setup($,{expose:k,emit:h}){const{xs:c}=E(),_=N(),V=h,g=i(!1),m=i({}),u=i({}),o=i({});function y(){u.value={ar:"",en:""},o.value={ar:"",en:""},g.value=!1,m.value="",V("runItems")}function T(){if(!u.value.ar&&!u.value.en){D("حقل الاسم مطلوب عربي او انجليزي");return}if(!o.value.ar&&!o.value.en){D("حقل المستوي مطلوب عربي او انجليزي");return}_.loadengApi=!0;const l=new FormData;l.append("name",JSON.stringify(u.value)),l.append("level",JSON.stringify(o.value)),l.append("user_id",_.user.id),m.value.id&&l.append("_method","put"),A("languages",l,m.value.id).then(n=>{m.value=n.data,V("runItems"),y()})}const d=(l={})=>{Object.keys(l).length!==0&&(u.value=l.name,o.value=l.level),g.value=!0,m.value=l};return k({addNew:d}),(l,n)=>(f(),F("div",null,[e(x,{cols:"auto"},{default:a(()=>[e(v,{onClick:n[0]||(n[0]=s=>d()),icon:"mdi-plus",color:"success",size:"small",to:""})]),_:1}),e(U,{class:"text-center",modelValue:g.value,"onUpdate:modelValue":n[5]||(n[5]=s=>g.value=s),"max-width":"900",fullscreen:S(c)},{default:a(()=>[e(b,{class:"pa-5"},{actions:a(()=>[e(v,{onClick:y},{default:a(()=>[I(" اغلاق ")]),_:1}),e(v,{onClick:T},{default:a(()=>[I(" موافق ")]),_:1})]),default:a(()=>[t("h2",W,p(m.value.id?"تعديل ":" اضافة "),1),e(H,null,{default:a(()=>[e(q,null,{default:a(()=>[e(x,{cols:"12",md:"6"},{default:a(()=>[e(C,{modelValue:u.value.ar,"onUpdate:modelValue":n[1]||(n[1]=s=>u.value.ar=s),label:"الاسم"},null,8,["modelValue"])]),_:1}),e(x,{cols:"12",md:"6"},{default:a(()=>[e(C,{modelValue:u.value.en,"onUpdate:modelValue":n[2]||(n[2]=s=>u.value.en=s),label:"Name"},null,8,["modelValue"])]),_:1}),e(x,{cols:"12",md:"6"},{default:a(()=>[e(C,{modelValue:o.value.ar,"onUpdate:modelValue":n[3]||(n[3]=s=>o.value.ar=s),label:"المستوي"},null,8,["modelValue"])]),_:1}),e(x,{cols:"12",md:"6"},{default:a(()=>[e(C,{modelValue:o.value.en,"onUpdate:modelValue":n[4]||(n[4]=s=>o.value.en=s),label:"Level"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","fullscreen"])]))}},X=t("h2",{class:"ma-5"},"هل تريد حذف العنصر بالفعل",-1),Y=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"#"),t("th",{class:"text-center"},"الاسم"),t("th",{class:"text-center"},"name"),t("th",{class:"text-center"},"المستوي"),t("th",{class:"text-center"},"level"),t("th",{class:"text-center"},"تاريخ الانشاء"),t("th",{class:"text-center sticky-column"},". . .")])],-1),Z={class:"sticky-column"},ee={key:2,class:"text-alert"},_e={__name:"index",setup($){const k=N(),h=i(null),c=i(!1),_=i([]),V=i("");function g(d){c.value=!0,V.value=d}const m=i(null);function u(){m.value?m.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}J(()=>{o()});function o(){k.loadengApi=!0,O("languages").then(d=>{_.value=d.data,V.value=""})}function y(){k.loadengApi=!0,z("languages/delete",{id:[V.value.id]}).then(()=>{o(),c.value=!1})}const T=d=>{var l;(l=h.value)==null||l.addNew(d)};return(d,l)=>{const n=K,s=G;return f(),w(Q,null,{default:a(()=>[e(U,{class:"text-center",modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=r=>c.value=r),"max-width":"400",persistent:""},{default:a(()=>[e(b,{class:"pa-5"},{default:a(()=>[X,e(v,{class:"ma-1",onClick:y},{default:a(()=>[I(" موافق ")]),_:1}),e(v,{class:"ma-1",onClick:l[0]||(l[0]=r=>c.value=!1)},{default:a(()=>[I(" اغلاق ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),S(k).user?(f(),w(n,{key:0,ref_key:"dialogThemeForm",ref:m,detTheme:{nameEn:"languages",nameAr:"اللغات"},onClick:u},null,512)):R("",!0),e(s,{ref_key:"itemForm",ref:h,onRunItems:o},null,512),_.value.length>0?(f(),w(P,{key:1,style:{"white-space":"nowrap"},dir:"rtl",class:"h"},{default:a(()=>[Y,t("tbody",null,[(f(!0),F(j,null,M(_.value,(r,B)=>(f(),F("tr",{key:r.id},[t("td",null,p(B+1),1),t("td",null,p(r.name.ar),1),t("td",null,p(r.name.en),1),t("td",null,p(r.level.ar),1),t("td",null,p(r.level.en),1),t("td",null,p(r.created_at),1),t("td",Z,[e(v,{onClick:L=>g(r),class:"mx-3",icon:"mdi-delete",color:"red",size:"small"},null,8,["onClick"]),e(v,{onClick:L=>T(r),icon:"mdi-pencil",color:"info",size:"small"},null,8,["onClick"])])]))),128))])]),_:1})):(f(),F("p",ee,"لا توجد اي بيانات"))]),_:1})}}};export{_e as default};
