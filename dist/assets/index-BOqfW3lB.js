import{_ as w}from"./ThemeSettings-C1Eu0Voz.js";import{_ as A}from"./Breadcrumbs--TJbL8_o.js";import{F as D,r as i,q as E,U as V,H as n,S as _,L as r,v as o,O as k,J as P,K as L,M as e,I as g,R as $,Q as j,aa as m,P as l}from"./index-DzjEeuTt.js";import{V as M}from"./VRow-BAVtBjwu.js";import{v as p}from"./VBtn-CVODcAi2.js";import{V as U}from"./VDialog-C7ayTQge.js";import{V as q}from"./VTable-BRjPby71.js";import{V as z}from"./VContainer-BDZxjhI4.js";import"./apiService-C4G_DcCS.js";import"./VTextField-BuNN6gNv.js";import"./forwardRefs-DJ7-8hGF.js";import"./VInput-zU58qXlR.js";import"./VForm-Dw2r1Kqq.js";import"./VSwitch-zt64d5a3.js";import"./VOverlay-Cn2T_KZz.js";const H=e("h2",{class:"ma-5"},"هل تريد حذف العنصر بالفعل",-1),J=e("thead",null,[e("tr",null,[e("th",{class:"text-center"},"#"),e("th",{class:"text-center"},"الاسم"),e("th",{class:"text-center"},"Name"),e("th",{class:"text-center"},"البريد الإلكتروني"),e("th",{class:"text-center"},"الهاتف"),e("th",{class:"text-center"},"الرسالة"),e("th",{class:"text-center"},"Message"),e("th",{class:"text-center"},"الموضوع"),e("th",{class:"text-center"},"Subject"),e("th",{class:"text-center"},"تاريخ الإنشاء"),e("th",{class:"text-center"})])],-1),K={key:2,class:"text-alert mt-10"},ue={__name:"index",setup(Q){const c=D(),T=a=>{m.success(a,{theme:"colored",position:m.POSITION.TOP_LEFT})},v=a=>{m.error(a,{theme:"colored",position:m.POSITION.TOP_LEFT})},C=i(null),u=i(!1),d=i([]),f=i("");function y(a){u.value=!0,f.value=a}E(()=>{x()});function x(){c.loadengApi=!0,V.get("contacts",d.value).then(a=>{d.value=a.data.data,c.loadengApi=!1,f.value=""}).catch(()=>{v("هناك خطا ما حاول مره اخري")})}const h=i(null);function F(){h.value?h.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}function S(){c.loadengApi=!0,V.post("contacts/delete",{id:[f.value.id]}).then(()=>{x(),u.value=!1,c.loadengApi=!1,T(" تم الحذف")}).catch(a=>{v(a.response.data.message)})}const I=a=>{var s;(s=C.value)==null||s.addNew(a)};return(a,s)=>{const N=A,O=w;return n(),_(z,null,{default:r(()=>[o(N),o(U,{class:"text-center",modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=t=>u.value=t),"max-width":"400",persistent:""},{default:r(()=>[o(M,{class:"pa-5"},{default:r(()=>[H,o(p,{class:"ma-1",onClick:S},{default:r(()=>[k(" موافق ")]),_:1}),o(p,{class:"ma-1",onClick:s[0]||(s[0]=t=>u.value=!1)},{default:r(()=>[k(" اغلاق ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),P(c).user?(n(),_(O,{key:0,ref_key:"dialogThemeForm",ref:h,detTheme:{nameEn:"contacts",nameAr:"الرسائل"},onClick:F},null,512)):L("",!0),d.value.length>0?(n(),_(q,{key:1,style:{"white-space":"nowrap"},dir:"rtl",class:"h mt-10"},{default:r(()=>[J,e("tbody",null,[(n(!0),g(j,null,$(d.value,(t,b)=>(n(),g("tr",{key:t.id},[e("td",null,l(b+1),1),e("td",null,l(t.name.ar),1),e("td",null,l(t.name.en),1),e("td",null,l(t.email),1),e("td",null,l(t.phone),1),e("td",null,l(t.message.ar),1),e("td",null,l(t.message.en),1),e("td",null,l(t.subject.ar),1),e("td",null,l(t.subject.en),1),e("td",null,l(t.created_at),1),e("td",null,[o(p,{onClick:B=>y(t),class:"ml-3",icon:"mdi-delete",color:"red",size:"small"},null,8,["onClick"]),o(p,{onClick:B=>I(t),icon:"mdi-square-edit-outline",color:"info",size:"small"},null,8,["onClick"])])]))),128))])]),_:1})):(n(),g("p",K,"لا توجد اي بيانات"))]),_:1})}}};export{ue as default};
