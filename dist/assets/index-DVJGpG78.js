import{_ as H}from"./imageInput-C7eY035c.js";import{n as P,s as K,f as Q,d as W}from"./apiService-Q18LkiAH.js";import{p as G,o as X,h as Y,u as Z,aa as ee,c as le,ab as te,v as l,x as B,W as ae,F as L,r as p,H as D,I as $,L as o,O as J,M as t,P as d,J as M,q as ne,S as R,K as A,R as oe,Q as se}from"./index-DoUa79Mj.js";import{k as I}from"./VBtn-ByDIVYCH.js";import{e as i,V as j,d as ue}from"./VRow-DZDJQVib.js";import{V as de}from"./VForm-B_Ufe_Z7.js";import{V as m}from"./VTextField-DwDypr5x.js";import{m as re,V as E}from"./VCheckboxBtn-CArG19bm.js";import{m as ie,u as me,V as z}from"./VInput-BG1HDC-H.js";import{b as ce}from"./index-CPodMjtC.js";import{V as q}from"./VDialog-D8YprR3A.js";import{_ as pe}from"./ShowImages-i6Ak1e-R.js";import{_ as ve}from"./ThemeSettings-LYEVB81B.js";import{V as fe}from"./VTable-B0P-F9Du.js";import{V as Ve}from"./VContainer-D3lAfPRy.js";import"./forwardRefs-ByVqR1CM.js";import"./VChip-mQXjCYxY.js";import"./VSwitch-B4XaDZ4X.js";import"./VOverlay-DALfeHwa.js";const _e=G({...ie(),...X(re(),["inline"])},"VCheckbox"),ye=Y()({name:"VCheckbox",inheritAttrs:!1,props:_e(),emits:{"update:modelValue":_=>!0,"update:focused":_=>!0},setup(_,U){let{attrs:h,slots:F}=U;const y=Z(_,"modelValue"),{isFocused:C,focus:k,blur:s}=me(_),v=ee(),V=le(()=>_.id||`checkbox-${v}`);return ce(()=>{const[f,x]=te(h),b=z.filterProps(_),g=E.filterProps(_);return l(z,B({class:["v-checkbox",_.class]},f,b,{modelValue:y.value,"onUpdate:modelValue":r=>y.value=r,id:V.value,focused:C.value,style:_.style}),{...F,default:r=>{let{id:c,messagesId:N,isDisabled:O,isReadonly:S,isValid:n}=r;return l(E,B(g,{id:c.value,"aria-describedby":N.value,disabled:O.value,readonly:S.value},x,{error:n.value===!1,modelValue:y.value,"onUpdate:modelValue":w=>y.value=w,onFocus:k,onBlur:s}),F)}})}),{}}}),xe={class:"ma-5"},be={__name:"ExperienceForm",emits:["runItems"],setup(_,{expose:U,emit:h}){const{xs:F}=ae(),y=L(),C=h,k=p(!1),s=p({}),v=p({}),V=p({}),f=p({}),x=p({}),b=p({}),g=p({}),r=p({}),c=p({});function N(){v.value={ar:"",en:""},V.value={ar:"",en:""},f.value={ar:"",en:""},x.value={ar:"",en:""},b.value={ar:"",en:""},g.value={ar:"",en:""},r.value={ar:"",en:""},c.value={ar:"",en:""},s.value={start_date:"",end_date:"",is_current:!1,id:null},k.value=!1,s.value.id&&C("runItems")}function O(u){const e=new FormData;e.append("title",JSON.stringify(v.value)),e.append("company",JSON.stringify(V.value)),e.append("description",JSON.stringify(f.value)),e.append("responsibilities",JSON.stringify(x.value)),e.append("achievements",JSON.stringify(b.value)),e.append("employment_type",JSON.stringify(g.value)),e.append("industry",JSON.stringify(r.value)),e.append("location",JSON.stringify(c.value)),e.append("user_id",y.user.id),e.append("is_current",s.value.is_current?1:0),e.append("end_date",s.value.end_date||""),e.append("start_date",s.value.start_date),u.length&&u.forEach(T=>{e.append("photos[]",T,T.name)}),s.value.id&&e.append("_method","put"),K("experiences",e,s.value.id).then(T=>{s.value=T.data,C("runItems"),N()})}const S=p(null),n=()=>{if(!v.value.ar&&!v.value.en){P("حقل العنوان مطلوب عربي او انجليزي");return}if(!V.value.ar&&!V.value.en){P("حقل الشركة مطلوب عربي او انجليزي");return}if(!s.value.start_date){P("حقل تاريخ البدء مطلوب ");return}if(!s.value.end_date&&!s.value.is_current){P("ادخل تاريخ الانتهاء او اختر حتي الان ");return}S.value&&S.value.compressImages().then(u=>{O(u)})},w=(u={})=>{Object.keys(u).length!==0&&(v.value=u.title,V.value=u.company,f.value=u.description,x.value=u.responsibilities,b.value=u.achievements,g.value=u.employment_type,r.value=u.industry,c.value=u.location,s.value=u,u.end_date.en==="1"||u.end_date.en==="0"?(s.value.is_current=u.end_date.en==="1",s.value.end_date=""):s.value.end_date=u.end_date.en),k.value=!0};return U({addNew:w}),(u,e)=>{const T=H;return D(),$("div",null,[l(i,{cols:"auto"},{default:o(()=>[l(I,{onClick:e[0]||(e[0]=a=>w()),icon:"mdi-plus",color:"success",size:"small",to:""})]),_:1}),l(q,{class:"text-center",modelValue:k.value,"onUpdate:modelValue":e[20]||(e[20]=a=>k.value=a),"max-width":"900",fullscreen:M(F)},{default:o(()=>[l(j,{class:"pa-5"},{actions:o(()=>[l(I,{onClick:N},{default:o(()=>[J(" اغلاق ")]),_:1}),l(I,{onClick:n},{default:o(()=>[J(" موافق ")]),_:1})]),default:o(()=>[t("h2",xe,d(s.value.id?"تعديل ":" اضافة "),1),l(de,null,{default:o(()=>[l(ue,null,{default:o(()=>[l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:v.value.ar,"onUpdate:modelValue":e[1]||(e[1]=a=>v.value.ar=a),label:"العنوان"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:v.value.en,"onUpdate:modelValue":e[2]||(e[2]=a=>v.value.en=a),label:"Title"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:V.value.ar,"onUpdate:modelValue":e[3]||(e[3]=a=>V.value.ar=a),label:"الشركة"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:V.value.en,"onUpdate:modelValue":e[4]||(e[4]=a=>V.value.en=a),label:"Company"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:f.value.ar,"onUpdate:modelValue":e[5]||(e[5]=a=>f.value.ar=a),label:"الوصف"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:f.value.en,"onUpdate:modelValue":e[6]||(e[6]=a=>f.value.en=a),label:"Description"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:x.value.ar,"onUpdate:modelValue":e[7]||(e[7]=a=>x.value.ar=a),label:"المسؤوليات"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:x.value.en,"onUpdate:modelValue":e[8]||(e[8]=a=>x.value.en=a),label:"Responsibilities"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:b.value.ar,"onUpdate:modelValue":e[9]||(e[9]=a=>b.value.ar=a),label:"الإنجازات"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:b.value.en,"onUpdate:modelValue":e[10]||(e[10]=a=>b.value.en=a),label:"Achievements"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:g.value.ar,"onUpdate:modelValue":e[11]||(e[11]=a=>g.value.ar=a),label:"نوع الوظيفه"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:g.value.en,"onUpdate:modelValue":e[12]||(e[12]=a=>g.value.en=a),label:"Employment Type"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:r.value.ar,"onUpdate:modelValue":e[13]||(e[13]=a=>r.value.ar=a),label:"المجال"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:r.value.en,"onUpdate:modelValue":e[14]||(e[14]=a=>r.value.en=a),label:"Industry"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:c.value.ar,"onUpdate:modelValue":e[15]||(e[15]=a=>c.value.ar=a),label:"الموقع"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:c.value.en,"onUpdate:modelValue":e[16]||(e[16]=a=>c.value.en=a),label:"Location"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{type:"date",modelValue:s.value.start_date,"onUpdate:modelValue":e[17]||(e[17]=a=>s.value.start_date=a),label:"تاريخ البدء"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(ye,{modelValue:s.value.is_current,"onUpdate:modelValue":e[18]||(e[18]=a=>s.value.is_current=a),label:"حتي الان"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(m,{type:"date",modelValue:s.value.end_date,"onUpdate:modelValue":e[19]||(e[19]=a=>s.value.end_date=a),label:"تاريخ الانتهاء"},null,8,["modelValue"])]),_:1}),l(T,{ref_key:"imageInputRef",ref:S},null,512)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","fullscreen"])])}}},ge=t("h2",{class:"ma-5"},"هل تريد حذف العنصر بالفعل",-1),ke=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"#"),t("th",{class:"text-center"},"العنوان"),t("th",{class:"text-center"},"title"),t("th",{class:"text-center"},"الشركة"),t("th",{class:"text-center"},"Company"),t("th",{class:"text-center"},"الوصف"),t("th",{class:"text-center"},"Description"),t("th",{class:"text-center"},"المسؤوليات"),t("th",{class:"text-center"},"responsibilities"),t("th",{class:"text-center"},"الإنجازات"),t("th",{class:"text-center"},"achievements"),t("th",{class:"text-center"},"نوع الوظيفه"),t("th",{class:"text-center"},"employmenttype"),t("th",{class:"text-center"},"المجال"),t("th",{class:"text-center"},"industry"),t("th",{class:"text-center"},"الموقع"),t("th",{class:"text-center"},"location"),t("th",{class:"text-center"},"تاريخ البدء"),t("th",{class:"text-center"},"تاريخ الانتهاء"),t("th",{class:"text-center"},"End Date"),t("th",{class:"text-center"},"تاريخ الانشاء"),t("th",{class:"text-center sticky-column"},". . .")])],-1),he={class:"sticky-column"},Ce={key:2,class:"text-alert"},je={__name:"index",setup(_){const U=L(),h=p(!1),F=p(null),y=p([]),C=p(""),k=p(null);function s(){k.value?k.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}const v=p(null),V=r=>{v.value.opaenDialog(r)};ne(()=>{f()});function f(){U.loadengApi=!0,Q("experiences").then(r=>{y.value=r.data,C.value=""})}function x(r){h.value=!0,C.value=r}function b(){U.loadengApi=!0,W("experiences/delete",{id:[C.value.id]}).then(()=>{f(),h.value=!1})}const g=r=>{var c;(c=F.value)==null||c.addNew(r)};return(r,c)=>{const N=ve,O=pe,S=be;return D(),R(Ve,null,{default:o(()=>[l(q,{class:"text-center",modelValue:h.value,"onUpdate:modelValue":c[1]||(c[1]=n=>h.value=n),"max-width":"400",persistent:""},{default:o(()=>[l(j,{class:"pa-5"},{default:o(()=>[ge,l(I,{class:"ma-1",onClick:b},{default:o(()=>[J(" موافق ")]),_:1}),l(I,{class:"ma-1",onClick:c[0]||(c[0]=n=>h.value=!1)},{default:o(()=>[J(" اغلاق ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),M(U).user?(D(),R(N,{key:0,ref_key:"dialogThemeForm",ref:k,detTheme:{nameEn:"experiences",nameAr:"الخبرات"},onClick:s},null,512)):A("",!0),l(O,{ref_key:"isShowImage",ref:v,onRunItems:f},null,512),l(S,{ref_key:"itemForm",ref:F,onRunItems:f},null,512),y.value.length>0?(D(),R(fe,{key:1,style:{"white-space":"nowrap"},dir:"rtl",class:"h"},{default:o(()=>[ke,t("tbody",null,[(D(!0),$(se,null,oe(y.value,(n,w)=>(D(),$("tr",{key:n.id},[t("td",null,d(w+1),1),t("td",null,d(n.title.ar),1),t("td",null,d(n.title.en),1),t("td",null,d(n.company.ar),1),t("td",null,d(n.company.en),1),t("td",null,d(n.description.ar),1),t("td",null,d(n.description.en),1),t("td",null,d(n.responsibilities.ar),1),t("td",null,d(n.responsibilities.en),1),t("td",null,d(n.achievements.ar),1),t("td",null,d(n.achievements.en),1),t("td",null,d(n.employment_type.ar),1),t("td",null,d(n.employment_type.en),1),t("td",null,d(n.industry.ar),1),t("td",null,d(n.industry.en),1),t("td",null,d(n.location.ar),1),t("td",null,d(n.location.en),1),t("td",null,d(n.start_date),1),t("td",null,d(n.end_date.ar=="1"?"حتي الان":n.end_date.ar),1),t("td",null,d(n.end_date.en=="1"?"so far":n.end_date.en),1),t("td",null,d(n.created_at),1),t("td",he,[l(I,{onClick:u=>V(n.photos),icon:"mdi-image-edit-outline",color:"info",size:"small"},null,8,["onClick"]),l(I,{onClick:u=>x(n),class:"mx-3",icon:"mdi-delete",color:"red",size:"small"},null,8,["onClick"]),l(I,{onClick:u=>g(n),icon:"mdi-pencil",color:"info",size:"small"},null,8,["onClick"])])]))),128))])]),_:1})):A("",!0),y.value.length?A("",!0):(D(),$("p",Ce,"لا توجد اي بيانات"))]),_:1})}}};export{je as default};
