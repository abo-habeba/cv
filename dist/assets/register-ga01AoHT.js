import{p as J,a2 as Z,m as q,h as Q,u as X,c as w,j as G,B as H,a3 as K,v as n,x as W,J as Y,r as p,q as ee,M as d,P as u,L as r,S as y,F as P,U as S,O as h,Q as L,X as ae,V as A,T as B}from"./index-CqfrMEfM.js";import{a as te,V as le}from"./VCard-B4P0dXim.js";import{a as ne,V as oe,b as f}from"./VTextField-CocHDasl.js";import{B as se,z as re,v as ie,p as ue,b as de,c as ce,d as me,e as ve,g as pe,A as ye,w as fe,r as be,Z as Ve,f as ke,h as ge,i as xe,j as z,t as D}from"./VBtn-BorV_UMz.js";import{m as Ce,a as _e,c as we,V as Pe}from"./VIcon-C6a6RaiZ.js";import"./VInput-LtYC3Qym.js";const Se=se("v-alert-title"),he=["success","info","warning","error"],Ae=J({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:Z,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>he.includes(e)},...Ce(),...re(),...ie(),...ue(),...de(),...ce(),...me(),..._e(),...q(),...ve({variant:"flat"})},"VAlert"),V=Q()({name:"VAlert",props:Ae(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,c){let{emit:s,slots:a}=c;const b=X(e,"modelValue"),m=w(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),i=w(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:k}=G(e),{colorClasses:g,colorStyles:x,variantClasses:C}=pe(i),{densityClasses:t}=ye(e),{dimensionStyles:o}=fe(e),{elevationClasses:l}=be(e),{locationStyles:F}=Ve(e),{positionClasses:R}=ke(e),{roundedClasses:U}=ge(e),{textColorClasses:N,textColorStyles:j}=we(H(e,"borderColor")),{t:O}=K(),I=w(()=>({"aria-label":O(e.closeLabel),onClick(_){b.value=!1,s("click:close",_)}}));return()=>{const _=!!(a.prepend||m.value),E=!!(a.title||e.title),M=!!(a.close||e.closable);return b.value&&n(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},k.value,g.value,t.value,l.value,R.value,U.value,C.value,e.class],style:[x.value,o.value,F.value,e.style],role:"alert"},{default:()=>{var T,$;return[xe(!1,"v-alert"),e.border&&n("div",{key:"border",class:["v-alert__border",N.value],style:j.value},null),_&&n("div",{key:"prepend",class:"v-alert__prepend"},[a.prepend?n(z,{key:"prepend-defaults",disabled:!m.value,defaults:{VIcon:{density:e.density,icon:m.value,size:e.prominent?44:28}}},a.prepend):n(Pe,{key:"prepend-icon",density:e.density,icon:m.value,size:e.prominent?44:28},null)]),n("div",{class:"v-alert__content"},[E&&n(Se,{key:"title"},{default:()=>{var v;return[((v=a.title)==null?void 0:v.call(a))??e.title]}}),((T=a.text)==null?void 0:T.call(a))??e.text,($=a.default)==null?void 0:$.call(a)]),a.append&&n("div",{key:"append",class:"v-alert__append"},[a.append()]),M&&n("div",{key:"close",class:"v-alert__close"},[a.close?n(z,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var v;return[(v=a.close)==null?void 0:v.call(a,{props:I.value})]}}):n(D,W({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},I.value),null)])]}})}}}),Be={id:"register"},Ie={key:0},Te={key:1},$e={key:2},Le=L("div",{class:"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between"},[L("a",{class:"text-caption text-decoration-none text-blue",href:"/login",rel:"noopener noreferrer"}," اذا كان لديك حساب ادخل من هنا")],-1),je={__name:"register",setup(e){const c=Y(),s=p(!1),a=p({}),b=p(!1),m=p(`${window.location.origin}/`),i=p({}),k=[t=>!!t||"يرجى إدخال اسم المستخدم",t=>!t.includes(" ")||"يجب ألا يحتوي اسم المستخدم على مسافات ",t=>t===t.toLowerCase()||"يجب أن تكون جميع الحروف صغيرة ",t=>!/[{}|\\^[\]`"<>#/?]/.test(t)||'يجب ألا يحتوي اسم المستخدم على العلامات التالية: { } | \\ ^ [ ] ` " < > # / ؟',t=>/^[a-zA-Z]+$/.test(t)||"يجب أن يحتوي اسم المستخدم على أحرف انجليزية فقط"],g=[t=>!!t||"يرجى إدخال الايميل"],x=[t=>!!t||"يرجى إدخال كلمة السر"];ee(()=>{c.loadengApi=!1});function C(){b.value=!1,c.loadengApi=!0,ae.post("register",a.value).then(t=>{console.log(t),localStorage.setItem("token",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.user)),c.loadengApi=!1,location.reload()}).catch(t=>{i.value=t.response.data.errors,c.loadengApi=!1,console.log(t.response.data)})}return(t,o)=>(r(),d("div",Be,[n(te,null,{default:u(()=>[n(ne,null,{default:u(()=>[n(oe,{cols:"12",sm:"11",md:"8",lg:"6",xl:"6",class:"mx-auto"},{default:u(()=>[n(le,{class:"register-box mx-auto pa-12 pb-8",elevation:"8","max-width":"448",rounded:"lg"},{default:u(()=>[n(V,{class:"mb-3",type:"warning",variant:"outlined"},{default:u(()=>[y(" هذا الاسم يستخدم في رابط المتصفح ")]),_:1}),n(f,{density:"compact",label:" اسم المستخدم ",prefix:m.value,"prepend-inner-icon":"mdi-web",variant:"outlined",modelValue:a.value.username,"onUpdate:modelValue":o[0]||(o[0]=l=>a.value.username=l),rules:k},null,8,["prefix","modelValue"]),i.value.username?(r(),d("div",Ie,[(r(!0),d(P,null,S(i.value.username,l=>(r(),A(V,{key:l,class:"mb-3",type:"error",variant:"outlined"},{default:u(()=>[y(B(l),1)]),_:2},1024))),128))])):h("",!0),n(f,{density:"compact",placeholder:"ادخل الايميل","prepend-inner-icon":"mdi-email-outline",variant:"outlined",modelValue:a.value.email,"onUpdate:modelValue":o[1]||(o[1]=l=>a.value.email=l),rules:g},null,8,["modelValue"]),i.value.email?(r(),d("div",Te,[(r(!0),d(P,null,S(i.value.email,l=>(r(),A(V,{key:l,class:"mb-3",type:"error",variant:"outlined"},{default:u(()=>[y(B(l),1)]),_:2},1024))),128))])):h("",!0),n(f,{"append-inner-icon":s.value?"mdi-eye-off":"mdi-eye",type:s.value?"text":"password",density:"compact",placeholder:"ادخل كلمة المرور","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":o[2]||(o[2]=l=>s.value=!s.value),modelValue:a.value.password,"onUpdate:modelValue":o[3]||(o[3]=l=>a.value.password=l),rules:x},null,8,["append-inner-icon","type","modelValue"]),n(f,{"append-inner-icon":s.value?"mdi-eye-off":"mdi-eye",type:s.value?"text":"password",density:"compact",placeholder:" اعد كتابة كلمة المرور","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":o[4]||(o[4]=l=>s.value=!s.value),rules:[l=>l===a.value.password||"كلمة المرور غير متطابقتان"]},null,8,["append-inner-icon","type","rules"]),n(f,{density:"compact",label:" رقم الهاتف ",type:"number","prepend-inner-icon":"mdi-phone-outline",variant:"outlined",modelValue:a.value.phone,"onUpdate:modelValue":o[5]||(o[5]=l=>a.value.phone=l)},null,8,["modelValue"]),i.value.phone?(r(),d("div",$e,[(r(!0),d(P,null,S(i.value.phone,l=>(r(),A(V,{key:l,class:"mb-3",type:"error",variant:"outlined"},{default:u(()=>[y(B(l),1)]),_:2},1024))),128))])):h("",!0),n(D,{onClick:C,class:"mb-8",color:"blue",size:"large",variant:"tonal",block:""},{default:u(()=>[y(" انشاء حساب ")]),_:1}),Le]),_:1})]),_:1})]),_:1})]),_:1})]))}};export{je as default};
