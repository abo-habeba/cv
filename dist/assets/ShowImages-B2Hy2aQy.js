import{J as vt,r as Le,L as me,M as ke,v as Ce,P as ye,F as Ge,U as et,V as Oe,O as $e}from"./index-C7jwuLnp.js";import{a as tt,V as De}from"./VTextField-B42DQZaT.js";import{s as nt}from"./VBtn-bhQgZDhr.js";import{V as mt}from"./VFileInput-BlZIVfP1.js";import{a as bt}from"./apiService-elT0YV_w.js";import{V as At}from"./VIcon-Gn3jLoof.js";import{V as wt}from"./VDialog-DWcSih6q.js";function yt(S,R){return R.forEach(function(D){D&&typeof D!="string"&&!Array.isArray(D)&&Object.keys(D).forEach(function(h){if(h!=="default"&&!(h in S)){var e=Object.getOwnPropertyDescriptor(D,h);Object.defineProperty(S,h,e.get?e:{enumerable:!0,get:function(){return D[h]}})}})}),Object.freeze(S)}function rt(S,R){return new Promise(function(D,h){let e;return Ut(S).then(function(t){try{return e=t,D(new Blob([R.slice(0,2),e,R.slice(2)],{type:"image/jpeg"}))}catch(c){return h(c)}},h)})}const Ut=S=>new Promise((R,D)=>{const h=new FileReader;h.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let c=0;if(t.getUint16(c)!==65496)return D("not a valid JPEG");for(c+=2;;){const a=t.getUint16(c);if(a===65498)break;const p=t.getUint16(c+2);if(a===65505&&t.getUint32(c+4)===1165519206){const v=c+10;let n;switch(t.getUint16(v)){case 18761:n=!0;break;case 19789:n=!1;break;default:return D("TIFF header contains invalid endian")}if(t.getUint16(v+2,n)!==42)return D("TIFF header contains invalid version");const i=t.getUint32(v+4,n),r=v+i+2+12*t.getUint16(v+i,n);for(let f=v+i+2;f<r;f+=12)if(t.getUint16(f,n)==274){if(t.getUint16(f+2,n)!==3)return D("Orientation data type is invalid");if(t.getUint32(f+4,n)!==1)return D("Orientation data count is invalid");t.setUint16(f+8,1,n);break}return R(e.slice(c,c+2+p))}c+=2+p}return R(new Blob)}),h.readAsArrayBuffer(S)});var ze={},_t={get exports(){return ze},set exports(S){ze=S}};(function(S){var R,D,h={};_t.exports=h,h.parse=function(e,t){for(var c=h.bin.readUshort,a=h.bin.readUint,p=0,v={},n=new Uint8Array(e),i=n.length-4;a(n,i)!=101010256;)i--;p=i,p+=4;var r=c(n,p+=4);c(n,p+=2);var f=a(n,p+=2),d=a(n,p+=4);p+=4,p=d;for(var _=0;_<r;_++){a(n,p),p+=4,p+=4,p+=4,a(n,p+=4),f=a(n,p+=4);var C=a(n,p+=4),A=c(n,p+=4),H=c(n,p+2),T=c(n,p+4);p+=6;var E=a(n,p+=8);p+=4,p+=A+H+T,h._readLocal(n,E,v,f,C,t)}return v},h._readLocal=function(e,t,c,a,p,v){var n=h.bin.readUshort,i=h.bin.readUint;i(e,t),n(e,t+=4),n(e,t+=2);var r=n(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var f=n(e,t+=8),d=n(e,t+=2);t+=2;var _=h.bin.readUTF8(e,t,f);if(t+=f,t+=d,v)c[_]={size:p,csize:a};else{var C=new Uint8Array(e.buffer,t);if(r==0)c[_]=new Uint8Array(C.buffer.slice(t,t+a));else{if(r!=8)throw"unknown compression method: "+r;var A=new Uint8Array(p);h.inflateRaw(C,A),c[_]=A}}},h.inflateRaw=function(e,t){return h.F.inflate(e,t)},h.inflate=function(e,t){return e[0],e[1],h.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},h.deflate=function(e,t){t==null&&(t={level:6});var c=0,a=new Uint8Array(50+Math.floor(1.1*e.length));a[c]=120,a[c+1]=156,c+=2,c=h.F.deflateRaw(e,a,c,t.level);var p=h.adler(e,0,e.length);return a[c+0]=p>>>24&255,a[c+1]=p>>>16&255,a[c+2]=p>>>8&255,a[c+3]=p>>>0&255,new Uint8Array(a.buffer,0,c+4)},h.deflateRaw=function(e,t){t==null&&(t={level:6});var c=new Uint8Array(50+Math.floor(1.1*e.length)),a=h.F.deflateRaw(e,c,a,t.level);return new Uint8Array(c.buffer,0,a)},h.encode=function(e,t){t==null&&(t=!1);var c=0,a=h.bin.writeUint,p=h.bin.writeUshort,v={};for(var n in e){var i=!h._noNeed(n)&&!t,r=e[n],f=h.crc.crc(r,0,r.length);v[n]={cpr:i,usize:r.length,crc:f,file:i?h.deflateRaw(r):r}}for(var n in v)c+=v[n].file.length+30+46+2*h.bin.sizeUTF8(n);c+=22;var d=new Uint8Array(c),_=0,C=[];for(var n in v){var A=v[n];C.push(_),_=h._writeHeader(d,_,n,A,0)}var H=0,T=_;for(var n in v)A=v[n],C.push(_),_=h._writeHeader(d,_,n,A,1,C[H++]);var E=_-T;return a(d,_,101010256),_+=4,p(d,_+=4,H),p(d,_+=2,H),a(d,_+=2,E),a(d,_+=4,T),_+=4,_+=2,d.buffer},h._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},h._writeHeader=function(e,t,c,a,p,v){var n=h.bin.writeUint,i=h.bin.writeUshort,r=a.file;return n(e,t,p==0?67324752:33639248),t+=4,p==1&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,a.cpr?8:0),n(e,t+=2,0),n(e,t+=4,a.crc),n(e,t+=4,r.length),n(e,t+=4,a.usize),i(e,t+=4,h.bin.sizeUTF8(c)),i(e,t+=2,0),t+=2,p==1&&(t+=2,t+=2,n(e,t+=6,v),t+=4),t+=h.bin.writeUTF8(e,t,c),p==0&&(e.set(r,t),t+=r.length),t},h.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var c=t,a=0;a<8;a++)1&c?c=3988292384^c>>>1:c>>>=1;e[t]=c}return e}(),update:function(e,t,c,a){for(var p=0;p<a;p++)e=h.crc.table[255&(e^t[c+p])]^e>>>8;return e},crc:function(e,t,c){return 4294967295^h.crc.update(4294967295,e,t,c)}},h.adler=function(e,t,c){for(var a=1,p=0,v=t,n=t+c;v<n;){for(var i=Math.min(v+5552,n);v<i;)p+=a+=e[v++];a%=65521,p%=65521}return p<<16|a},h.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,c){e[t]=255&c,e[t+1]=c>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,c){e[t]=255&c,e[t+1]=c>>8&255,e[t+2]=c>>16&255,e[t+3]=c>>24&255},readASCII:function(e,t,c){for(var a="",p=0;p<c;p++)a+=String.fromCharCode(e[t+p]);return a},writeASCII:function(e,t,c){for(var a=0;a<c.length;a++)e[t+a]=c.charCodeAt(a)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,c){for(var a,p="",v=0;v<c;v++)p+="%"+h.bin.pad(e[t+v].toString(16));try{a=decodeURIComponent(p)}catch{return h.bin.readASCII(e,t,c)}return a},writeUTF8:function(e,t,c){for(var a=c.length,p=0,v=0;v<a;v++){var n=c.charCodeAt(v);if(!(4294967168&n))e[t+p]=n,p++;else if(!(4294965248&n))e[t+p]=192|n>>6,e[t+p+1]=128|n>>0&63,p+=2;else if(!(4294901760&n))e[t+p]=224|n>>12,e[t+p+1]=128|n>>6&63,e[t+p+2]=128|n>>0&63,p+=3;else{if(4292870144&n)throw"e";e[t+p]=240|n>>18,e[t+p+1]=128|n>>12&63,e[t+p+2]=128|n>>6&63,e[t+p+3]=128|n>>0&63,p+=4}}return p},sizeUTF8:function(e){for(var t=e.length,c=0,a=0;a<t;a++){var p=e.charCodeAt(a);if(!(4294967168&p))c++;else if(!(4294965248&p))c+=2;else if(!(4294901760&p))c+=3;else{if(4292870144&p)throw"e";c+=4}}return c}},h.F={},h.F.deflateRaw=function(e,t,c,a){var p=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],v=h.F.U,n=h.F._goodIndex;h.F._hash;var i=h.F._putsE,r=0,f=c<<3,d=0,_=e.length;if(a==0){for(;r<_;)i(t,f,r+(y=Math.min(65535,_-r))==_?1:0),f=h.F._copyExact(e,r,y,t,f+8),r+=y;return f>>>3}var C=v.lits,A=v.strt,H=v.prev,T=0,E=0,O=0,g=0,M=0,l=0;for(_>2&&(A[l=h.F._hash(e,0)]=0),r=0;r<_;r++){if(M=l,r+1<_-2){l=h.F._hash(e,r+1);var s=r+1&32767;H[s]=A[l],A[l]=s}if(d<=r){(T>14e3||E>26697)&&_-r>100&&(d<r&&(C[T]=r-d,T+=2,d=r),f=h.F._writeBlock(r==_-1||d==_?1:0,C,T,g,e,O,r-O,t,f),T=E=g=0,O=r);var b=0;r<_-2&&(b=h.F._bestMatch(e,r,H,M,Math.min(p[2],_-r),p[3]));var y=b>>>16,w=65535&b;if(b!=0){w=65535&b;var U=n(y=b>>>16,v.of0);v.lhst[257+U]++;var m=n(w,v.df0);v.dhst[m]++,g+=v.exb[U]+v.dxb[m],C[T]=y<<23|r-d,C[T+1]=w<<16|U<<8|m,T+=2,d=r+y}else v.lhst[e[r]]++;E++}}for(O==r&&e.length!=0||(d<r&&(C[T]=r-d,T+=2,d=r),f=h.F._writeBlock(1,C,T,g,e,O,r-O,t,f),T=0,E=0,T=E=g=0,O=r);7&f;)f++;return f>>>3},h.F._bestMatch=function(e,t,c,a,p,v){var n=32767&t,i=c[n],r=n-i+32768&32767;if(i==n||a!=h.F._hash(e,t-r))return 0;for(var f=0,d=0,_=Math.min(32767,t);r<=_&&--v!=0&&i!=n;){if(f==0||e[t+f]==e[t+f-r]){var C=h.F._howLong(e,t,r);if(C>f){if(d=r,(f=C)>=p)break;r+2<C&&(C=r+2);for(var A=0,H=0;H<C-2;H++){var T=t-r+H+32768&32767,E=T-c[T]+32768&32767;E>A&&(A=E,i=T)}}}r+=(n=i)-(i=c[n])+32768&32767}return f<<16|d},h.F._howLong=function(e,t,c){if(e[t]!=e[t-c]||e[t+1]!=e[t+1-c]||e[t+2]!=e[t+2-c])return 0;var a=t,p=Math.min(e.length,t+258);for(t+=3;t<p&&e[t]==e[t-c];)t++;return t-a},h.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},h.saved=0,h.F._writeBlock=function(e,t,c,a,p,v,n,i,r){var f,d,_,C,A,H,T,E,O,g=h.F.U,M=h.F._putsF,l=h.F._putsE;g.lhst[256]++,d=(f=h.F.getTrees())[0],_=f[1],C=f[2],A=f[3],H=f[4],T=f[5],E=f[6],O=f[7];var s=32+(r+3&7?8-(r+3&7):0)+(n<<3),b=a+h.F.contSize(g.fltree,g.lhst)+h.F.contSize(g.fdtree,g.dhst),y=a+h.F.contSize(g.ltree,g.lhst)+h.F.contSize(g.dtree,g.dhst);y+=14+3*T+h.F.contSize(g.itree,g.ihst)+(2*g.ihst[16]+3*g.ihst[17]+7*g.ihst[18]);for(var w=0;w<286;w++)g.lhst[w]=0;for(w=0;w<30;w++)g.dhst[w]=0;for(w=0;w<19;w++)g.ihst[w]=0;var U=s<b&&s<y?0:b<y?1:2;if(M(i,r,e),M(i,r+1,U),r+=3,U==0){for(;7&r;)r++;r=h.F._copyExact(p,v,n,i,r)}else{var m,F;if(U==1&&(m=g.fltree,F=g.fdtree),U==2){h.F.makeCodes(g.ltree,d),h.F.revCodes(g.ltree,d),h.F.makeCodes(g.dtree,_),h.F.revCodes(g.dtree,_),h.F.makeCodes(g.itree,C),h.F.revCodes(g.itree,C),m=g.ltree,F=g.dtree,l(i,r,A-257),l(i,r+=5,H-1),l(i,r+=5,T-4),r+=4;for(var u=0;u<T;u++)l(i,r+3*u,g.itree[1+(g.ordr[u]<<1)]);r+=3*T,r=h.F._codeTiny(E,g.itree,i,r),r=h.F._codeTiny(O,g.itree,i,r)}for(var o=v,k=0;k<c;k+=2){for(var I=t[k],P=I>>>23,N=o+(8388607&I);o<N;)r=h.F._writeLit(p[o++],m,i,r);if(P!=0){var z=t[k+1],B=z>>16,L=z>>8&255,x=255&z;l(i,r=h.F._writeLit(257+L,m,i,r),P-g.of0[L]),r+=g.exb[L],M(i,r=h.F._writeLit(x,F,i,r),B-g.df0[x]),r+=g.dxb[x],o+=P}}r=h.F._writeLit(256,m,i,r)}return r},h.F._copyExact=function(e,t,c,a,p){var v=p>>>3;return a[v]=c,a[v+1]=c>>>8,a[v+2]=255-a[v],a[v+3]=255-a[v+1],v+=4,a.set(new Uint8Array(e.buffer,t,c),v),p+(c+4<<3)},h.F.getTrees=function(){for(var e=h.F.U,t=h.F._hufTree(e.lhst,e.ltree,15),c=h.F._hufTree(e.dhst,e.dtree,15),a=[],p=h.F._lenCodes(e.ltree,a),v=[],n=h.F._lenCodes(e.dtree,v),i=0;i<a.length;i+=2)e.ihst[a[i]]++;for(i=0;i<v.length;i+=2)e.ihst[v[i]]++;for(var r=h.F._hufTree(e.ihst,e.itree,7),f=19;f>4&&e.itree[1+(e.ordr[f-1]<<1)]==0;)f--;return[t,c,r,p,n,f,a,v]},h.F.getSecond=function(e){for(var t=[],c=0;c<e.length;c+=2)t.push(e[c+1]);return t},h.F.nonZero=function(e){for(var t="",c=0;c<e.length;c+=2)e[c+1]!=0&&(t+=(c>>1)+",");return t},h.F.contSize=function(e,t){for(var c=0,a=0;a<t.length;a++)c+=t[a]*e[1+(a<<1)];return c},h.F._codeTiny=function(e,t,c,a){for(var p=0;p<e.length;p+=2){var v=e[p],n=e[p+1];a=h.F._writeLit(v,t,c,a);var i=v==16?2:v==17?3:7;v>15&&(h.F._putsE(c,a,n,i),a+=i)}return a},h.F._lenCodes=function(e,t){for(var c=e.length;c!=2&&e[c-1]==0;)c-=2;for(var a=0;a<c;a+=2){var p=e[a+1],v=a+3<c?e[a+3]:-1,n=a+5<c?e[a+5]:-1,i=a==0?-1:e[a-1];if(p==0&&v==p&&n==p){for(var r=a+5;r+2<c&&e[r+2]==p;)r+=2;(f=Math.min(r+1-a>>>1,138))<11?t.push(17,f-3):t.push(18,f-11),a+=2*f-2}else if(p==i&&v==p&&n==p){for(r=a+5;r+2<c&&e[r+2]==p;)r+=2;var f=Math.min(r+1-a>>>1,6);t.push(16,f-3),a+=2*f-2}else t.push(p,0)}return c>>>1},h.F._hufTree=function(e,t,c){var a=[],p=e.length,v=t.length,n=0;for(n=0;n<v;n+=2)t[n]=0,t[n+1]=0;for(n=0;n<p;n++)e[n]!=0&&a.push({lit:n,f:e[n]});var i=a.length,r=a.slice(0);if(i==0)return 0;if(i==1){var f=a[0].lit;return r=f==0?1:0,t[1+(f<<1)]=1,t[1+(r<<1)]=1,1}a.sort(function(E,O){return E.f-O.f});var d=a[0],_=a[1],C=0,A=1,H=2;for(a[0]={lit:-1,f:d.f+_.f,l:d,r:_,d:0};A!=i-1;)d=C!=A&&(H==i||a[C].f<a[H].f)?a[C++]:a[H++],_=C!=A&&(H==i||a[C].f<a[H].f)?a[C++]:a[H++],a[A++]={lit:-1,f:d.f+_.f,l:d,r:_};var T=h.F.setDepth(a[A-1],0);for(T>c&&(h.F.restrictDepth(r,c,T),T=c),n=0;n<i;n++)t[1+(r[n].lit<<1)]=r[n].d;return T},h.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(h.F.setDepth(e.l,t+1),h.F.setDepth(e.r,t+1))},h.F.restrictDepth=function(e,t,c){var a=0,p=1<<c-t,v=0;for(e.sort(function(i,r){return r.d==i.d?i.f-r.f:r.d-i.d}),a=0;a<e.length&&e[a].d>t;a++){var n=e[a].d;e[a].d=t,v+=p-(1<<c-n)}for(v>>>=c-t;v>0;)(n=e[a].d)<t?(e[a].d++,v-=1<<t-n-1):a++;for(;a>=0;a--)e[a].d==t&&v<0&&(e[a].d--,v++);v!=0&&console.log("debt left")},h.F._goodIndex=function(e,t){var c=0;return t[16|c]<=e&&(c|=16),t[8|c]<=e&&(c|=8),t[4|c]<=e&&(c|=4),t[2|c]<=e&&(c|=2),t[1|c]<=e&&(c|=1),c},h.F._writeLit=function(e,t,c,a){return h.F._putsF(c,a,t[e<<1]),a+t[1+(e<<1)]},h.F.inflate=function(e,t){var c=Uint8Array;if(e[0]==3&&e[1]==0)return t||new c(0);var a=h.F,p=a._bitsF,v=a._bitsE,n=a._decodeTiny,i=a.makeCodes,r=a.codes2map,f=a._get17,d=a.U,_=t==null;_&&(t=new c(e.length>>>2<<3));for(var C,A,H=0,T=0,E=0,O=0,g=0,M=0,l=0,s=0,b=0;H==0;)if(H=p(e,b,1),T=p(e,b+1,2),b+=3,T!=0){if(_&&(t=h.F._check(t,s+(1<<17))),T==1&&(C=d.flmap,A=d.fdmap,M=511,l=31),T==2){E=v(e,b,5)+257,O=v(e,b+5,5)+1,g=v(e,b+10,4)+4,b+=14;for(var y=0;y<38;y+=2)d.itree[y]=0,d.itree[y+1]=0;var w=1;for(y=0;y<g;y++){var U=v(e,b+3*y,3);d.itree[1+(d.ordr[y]<<1)]=U,U>w&&(w=U)}b+=3*g,i(d.itree,w),r(d.itree,w,d.imap),C=d.lmap,A=d.dmap,b=n(d.imap,(1<<w)-1,E+O,e,b,d.ttree);var m=a._copyOut(d.ttree,0,E,d.ltree);M=(1<<m)-1;var F=a._copyOut(d.ttree,E,O,d.dtree);l=(1<<F)-1,i(d.ltree,m),r(d.ltree,m,C),i(d.dtree,F),r(d.dtree,F,A)}for(;;){var u=C[f(e,b)&M];b+=15&u;var o=u>>>4;if(!(o>>>8))t[s++]=o;else{if(o==256)break;var k=s+o-254;if(o>264){var I=d.ldef[o-257];k=s+(I>>>3)+v(e,b,7&I),b+=7&I}var P=A[f(e,b)&l];b+=15&P;var N=P>>>4,z=d.ddef[N],B=(z>>>4)+p(e,b,15&z);for(b+=15&z,_&&(t=h.F._check(t,s+(1<<17)));s<k;)t[s]=t[s++-B],t[s]=t[s++-B],t[s]=t[s++-B],t[s]=t[s++-B];s=k}}}else{7&b&&(b+=8-(7&b));var L=4+(b>>>3),x=e[L-4]|e[L-3]<<8;_&&(t=h.F._check(t,s+x)),t.set(new c(e.buffer,e.byteOffset+L,x),s),b=L+x<<3,s+=x}return t.length==s?t:t.slice(0,s)},h.F._check=function(e,t){var c=e.length;if(t<=c)return e;var a=new Uint8Array(Math.max(c<<1,t));return a.set(e,0),a},h.F._decodeTiny=function(e,t,c,a,p,v){for(var n=h.F._bitsE,i=h.F._get17,r=0;r<c;){var f=e[i(a,p)&t];p+=15&f;var d=f>>>4;if(d<=15)v[r]=d,r++;else{var _=0,C=0;d==16?(C=3+n(a,p,2),p+=2,_=v[r-1]):d==17?(C=3+n(a,p,3),p+=3):d==18&&(C=11+n(a,p,7),p+=7);for(var A=r+C;r<A;)v[r]=_,r++}}return p},h.F._copyOut=function(e,t,c,a){for(var p=0,v=0,n=a.length>>>1;v<c;){var i=e[v+t];a[v<<1]=0,a[1+(v<<1)]=i,i>p&&(p=i),v++}for(;v<n;)a[v<<1]=0,a[1+(v<<1)]=0,v++;return p},h.F.makeCodes=function(e,t){for(var c,a,p,v,n=h.F.U,i=e.length,r=n.bl_count,f=0;f<=t;f++)r[f]=0;for(f=1;f<i;f+=2)r[e[f]]++;var d=n.next_code;for(c=0,r[0]=0,a=1;a<=t;a++)c=c+r[a-1]<<1,d[a]=c;for(p=0;p<i;p+=2)(v=e[p+1])!=0&&(e[p]=d[v],d[v]++)},h.F.codes2map=function(e,t,c){for(var a=e.length,p=h.F.U.rev15,v=0;v<a;v+=2)if(e[v+1]!=0)for(var n=v>>1,i=e[v+1],r=n<<4|i,f=t-i,d=e[v]<<f,_=d+(1<<f);d!=_;)c[p[d]>>>15-t]=r,d++},h.F.revCodes=function(e,t){for(var c=h.F.U.rev15,a=15-t,p=0;p<e.length;p+=2){var v=e[p]<<t-e[p+1];e[p]=c[v]>>>a}},h.F._putsE=function(e,t,c){c<<=7&t;var a=t>>>3;e[a]|=c,e[a+1]|=c>>>8},h.F._putsF=function(e,t,c){c<<=7&t;var a=t>>>3;e[a]|=c,e[a+1]|=c>>>8,e[a+2]|=c>>>16},h.F._bitsE=function(e,t,c){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<c)-1},h.F._bitsF=function(e,t,c){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<c)-1},h.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},h.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},h.F.U=(R=Uint16Array,D=Uint32Array,{next_code:new R(16),bl_count:new R(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new R(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new D(32),flmap:new R(512),fltree:[],fdmap:new R(32),fdtree:[],lmap:new R(32768),ltree:[],ttree:[],dmap:new R(32768),dtree:[],imap:new R(512),itree:[],rev15:new R(32768),lhst:new D(286),dhst:new D(30),ihst:new D(19),lits:new D(15e3),strt:new R(65536),prev:new R(32768)}),function(){for(var e=h.F.U,t=0;t<32768;t++){var c=t;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,e.rev15[t]=(c>>>16|c<<16)>>>17}function a(p,v,n){for(;v--!=0;)p.push(0,n)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];a(e.fltree,144,8),a(e.fltree,112,9),a(e.fltree,24,7),a(e.fltree,8,8),h.F.makeCodes(e.fltree,9),h.F.codes2map(e.fltree,9,e.flmap),h.F.revCodes(e.fltree,9),a(e.fdtree,32,5),h.F.makeCodes(e.fdtree,5),h.F.codes2map(e.fdtree,5,e.fdmap),h.F.revCodes(e.fdtree,5),a(e.itree,19,0),a(e.ltree,286,0),a(e.dtree,30,0),a(e.ttree,320,0)}()})();var It=yt({__proto__:null,default:ze},[ze]);const he=function(){var S={nextZero(n,i){for(;n[i]!=0;)i++;return i},readUshort:(n,i)=>n[i]<<8|n[i+1],writeUshort(n,i,r){n[i]=r>>8&255,n[i+1]=255&r},readUint:(n,i)=>16777216*n[i]+(n[i+1]<<16|n[i+2]<<8|n[i+3]),writeUint(n,i,r){n[i]=r>>24&255,n[i+1]=r>>16&255,n[i+2]=r>>8&255,n[i+3]=255&r},readASCII(n,i,r){let f="";for(let d=0;d<r;d++)f+=String.fromCharCode(n[i+d]);return f},writeASCII(n,i,r){for(let f=0;f<r.length;f++)n[i+f]=r.charCodeAt(f)},readBytes(n,i,r){const f=[];for(let d=0;d<r;d++)f.push(n[i+d]);return f},pad:n=>n.length<2?`0${n}`:n,readUTF8(n,i,r){let f,d="";for(let _=0;_<r;_++)d+=`%${S.pad(n[i+_].toString(16))}`;try{f=decodeURIComponent(d)}catch{return S.readASCII(n,i,r)}return f}};function R(n,i,r,f){const d=i*r,_=t(f),C=Math.ceil(i*_/8),A=new Uint8Array(4*d),H=new Uint32Array(A.buffer),{ctype:T}=f,{depth:E}=f,O=S.readUshort;if(T==6){const I=d<<2;if(E==8)for(var g=0;g<I;g+=4)A[g]=n[g],A[g+1]=n[g+1],A[g+2]=n[g+2],A[g+3]=n[g+3];if(E==16)for(g=0;g<I;g++)A[g]=n[g<<1]}else if(T==2){const I=f.tabs.tRNS;if(I==null){if(E==8)for(g=0;g<d;g++){var M=3*g;H[g]=255<<24|n[M+2]<<16|n[M+1]<<8|n[M]}if(E==16)for(g=0;g<d;g++)M=6*g,H[g]=255<<24|n[M+4]<<16|n[M+2]<<8|n[M]}else{var l=I[0];const P=I[1],N=I[2];if(E==8)for(g=0;g<d;g++){var s=g<<2;M=3*g,H[g]=255<<24|n[M+2]<<16|n[M+1]<<8|n[M],n[M]==l&&n[M+1]==P&&n[M+2]==N&&(A[s+3]=0)}if(E==16)for(g=0;g<d;g++)s=g<<2,M=6*g,H[g]=255<<24|n[M+4]<<16|n[M+2]<<8|n[M],O(n,M)==l&&O(n,M+2)==P&&O(n,M+4)==N&&(A[s+3]=0)}}else if(T==3){const I=f.tabs.PLTE,P=f.tabs.tRNS,N=P?P.length:0;if(E==1)for(var b=0;b<r;b++){var y=b*C,w=b*i;for(g=0;g<i;g++){s=w+g<<2;var U=3*(m=n[y+(g>>3)]>>7-((7&g)<<0)&1);A[s]=I[U],A[s+1]=I[U+1],A[s+2]=I[U+2],A[s+3]=m<N?P[m]:255}}if(E==2)for(b=0;b<r;b++)for(y=b*C,w=b*i,g=0;g<i;g++)s=w+g<<2,U=3*(m=n[y+(g>>2)]>>6-((3&g)<<1)&3),A[s]=I[U],A[s+1]=I[U+1],A[s+2]=I[U+2],A[s+3]=m<N?P[m]:255;if(E==4)for(b=0;b<r;b++)for(y=b*C,w=b*i,g=0;g<i;g++)s=w+g<<2,U=3*(m=n[y+(g>>1)]>>4-((1&g)<<2)&15),A[s]=I[U],A[s+1]=I[U+1],A[s+2]=I[U+2],A[s+3]=m<N?P[m]:255;if(E==8)for(g=0;g<d;g++){var m;s=g<<2,U=3*(m=n[g]),A[s]=I[U],A[s+1]=I[U+1],A[s+2]=I[U+2],A[s+3]=m<N?P[m]:255}}else if(T==4){if(E==8)for(g=0;g<d;g++){s=g<<2;var F=n[u=g<<1];A[s]=F,A[s+1]=F,A[s+2]=F,A[s+3]=n[u+1]}if(E==16)for(g=0;g<d;g++){var u;s=g<<2,F=n[u=g<<2],A[s]=F,A[s+1]=F,A[s+2]=F,A[s+3]=n[u+2]}}else if(T==0)for(l=f.tabs.tRNS?f.tabs.tRNS:-1,b=0;b<r;b++){const I=b*C,P=b*i;if(E==1)for(var o=0;o<i;o++){var k=(F=255*(n[I+(o>>>3)]>>>7-(7&o)&1))==255*l?0:255;H[P+o]=k<<24|F<<16|F<<8|F}else if(E==2)for(o=0;o<i;o++)k=(F=85*(n[I+(o>>>2)]>>>6-((3&o)<<1)&3))==85*l?0:255,H[P+o]=k<<24|F<<16|F<<8|F;else if(E==4)for(o=0;o<i;o++)k=(F=17*(n[I+(o>>>1)]>>>4-((1&o)<<2)&15))==17*l?0:255,H[P+o]=k<<24|F<<16|F<<8|F;else if(E==8)for(o=0;o<i;o++)k=(F=n[I+o])==l?0:255,H[P+o]=k<<24|F<<16|F<<8|F;else if(E==16)for(o=0;o<i;o++)F=n[I+(o<<1)],k=O(n,I+(o<<1))==l?0:255,H[P+o]=k<<24|F<<16|F<<8|F}return A}function D(n,i,r,f){const d=t(n),_=Math.ceil(r*d/8),C=new Uint8Array((_+1+n.interlace)*f);return i=n.tabs.CgBI?e(i,C):h(i,C),n.interlace==0?i=c(i,n,0,r,f):n.interlace==1&&(i=function(H,T){const E=T.width,O=T.height,g=t(T),M=g>>3,l=Math.ceil(E*g/8),s=new Uint8Array(O*l);let b=0;const y=[0,0,4,0,2,0,1],w=[0,4,0,2,0,1,0],U=[8,8,8,4,4,2,2],m=[8,8,4,4,2,2,1];let F=0;for(;F<7;){const o=U[F],k=m[F];let I=0,P=0,N=y[F];for(;N<O;)N+=o,P++;let z=w[F];for(;z<E;)z+=k,I++;const B=Math.ceil(I*g/8);c(H,T,b,I,P);let L=0,x=y[F];for(;x<O;){let Q=w[F],$=b+L*B<<3;for(;Q<E;){var u;if(g==1&&(u=(u=H[$>>3])>>7-(7&$)&1,s[x*l+(Q>>3)]|=u<<7-((7&Q)<<0)),g==2&&(u=(u=H[$>>3])>>6-(7&$)&3,s[x*l+(Q>>2)]|=u<<6-((3&Q)<<1)),g==4&&(u=(u=H[$>>3])>>4-(7&$)&15,s[x*l+(Q>>1)]|=u<<4-((1&Q)<<2)),g>=8){const W=x*l+Q*M;for(let V=0;V<M;V++)s[W+V]=H[($>>3)+V]}$+=g,Q+=k}L++,x+=o}I*P!=0&&(b+=P*(1+B)),F+=1}return s}(i,n)),i}function h(n,i){return e(new Uint8Array(n.buffer,2,n.length-6),i)}var e=function(){const n={H:{}};return n.H.N=function(i,r){const f=Uint8Array;let d,_,C=0,A=0,H=0,T=0,E=0,O=0,g=0,M=0,l=0;if(i[0]==3&&i[1]==0)return r||new f(0);const s=n.H,b=s.b,y=s.e,w=s.R,U=s.n,m=s.A,F=s.Z,u=s.m,o=r==null;for(o&&(r=new f(i.length>>>2<<5));C==0;)if(C=b(i,l,1),A=b(i,l+1,2),l+=3,A!=0){if(o&&(r=n.H.W(r,M+(1<<17))),A==1&&(d=u.J,_=u.h,O=511,g=31),A==2){H=y(i,l,5)+257,T=y(i,l+5,5)+1,E=y(i,l+10,4)+4,l+=14;let I=1;for(var k=0;k<38;k+=2)u.Q[k]=0,u.Q[k+1]=0;for(k=0;k<E;k++){const z=y(i,l+3*k,3);u.Q[1+(u.X[k]<<1)]=z,z>I&&(I=z)}l+=3*E,U(u.Q,I),m(u.Q,I,u.u),d=u.w,_=u.d,l=w(u.u,(1<<I)-1,H+T,i,l,u.v);const P=s.V(u.v,0,H,u.C);O=(1<<P)-1;const N=s.V(u.v,H,T,u.D);g=(1<<N)-1,U(u.C,P),m(u.C,P,d),U(u.D,N),m(u.D,N,_)}for(;;){const I=d[F(i,l)&O];l+=15&I;const P=I>>>4;if(!(P>>>8))r[M++]=P;else{if(P==256)break;{let N=M+P-254;if(P>264){const Q=u.q[P-257];N=M+(Q>>>3)+y(i,l,7&Q),l+=7&Q}const z=_[F(i,l)&g];l+=15&z;const B=z>>>4,L=u.c[B],x=(L>>>4)+b(i,l,15&L);for(l+=15&L;M<N;)r[M]=r[M++-x],r[M]=r[M++-x],r[M]=r[M++-x],r[M]=r[M++-x];M=N}}}}else{7&l&&(l+=8-(7&l));const I=4+(l>>>3),P=i[I-4]|i[I-3]<<8;o&&(r=n.H.W(r,M+P)),r.set(new f(i.buffer,i.byteOffset+I,P),M),l=I+P<<3,M+=P}return r.length==M?r:r.slice(0,M)},n.H.W=function(i,r){const f=i.length;if(r<=f)return i;const d=new Uint8Array(f<<1);return d.set(i,0),d},n.H.R=function(i,r,f,d,_,C){const A=n.H.e,H=n.H.Z;let T=0;for(;T<f;){const E=i[H(d,_)&r];_+=15&E;const O=E>>>4;if(O<=15)C[T]=O,T++;else{let g=0,M=0;O==16?(M=3+A(d,_,2),_+=2,g=C[T-1]):O==17?(M=3+A(d,_,3),_+=3):O==18&&(M=11+A(d,_,7),_+=7);const l=T+M;for(;T<l;)C[T]=g,T++}}return _},n.H.V=function(i,r,f,d){let _=0,C=0;const A=d.length>>>1;for(;C<f;){const H=i[C+r];d[C<<1]=0,d[1+(C<<1)]=H,H>_&&(_=H),C++}for(;C<A;)d[C<<1]=0,d[1+(C<<1)]=0,C++;return _},n.H.n=function(i,r){const f=n.H.m,d=i.length;let _,C,A,H;const T=f.j;for(var E=0;E<=r;E++)T[E]=0;for(E=1;E<d;E+=2)T[i[E]]++;const O=f.K;for(_=0,T[0]=0,C=1;C<=r;C++)_=_+T[C-1]<<1,O[C]=_;for(A=0;A<d;A+=2)H=i[A+1],H!=0&&(i[A]=O[H],O[H]++)},n.H.A=function(i,r,f){const d=i.length,_=n.H.m.r;for(let C=0;C<d;C+=2)if(i[C+1]!=0){const A=C>>1,H=i[C+1],T=A<<4|H,E=r-H;let O=i[C]<<E;const g=O+(1<<E);for(;O!=g;)f[_[O]>>>15-r]=T,O++}},n.H.l=function(i,r){const f=n.H.m.r,d=15-r;for(let _=0;_<i.length;_+=2){const C=i[_]<<r-i[_+1];i[_]=f[C]>>>d}},n.H.M=function(i,r,f){f<<=7&r;const d=r>>>3;i[d]|=f,i[d+1]|=f>>>8},n.H.I=function(i,r,f){f<<=7&r;const d=r>>>3;i[d]|=f,i[d+1]|=f>>>8,i[d+2]|=f>>>16},n.H.e=function(i,r,f){return(i[r>>>3]|i[1+(r>>>3)]<<8)>>>(7&r)&(1<<f)-1},n.H.b=function(i,r,f){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16)>>>(7&r)&(1<<f)-1},n.H.Z=function(i,r){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16)>>>(7&r)},n.H.i=function(i,r){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16|i[3+(r>>>3)]<<24)>>>(7&r)},n.H.m=function(){const i=Uint16Array,r=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new r(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new r(286),Y:new r(30),a:new r(19),t:new r(15e3),k:new i(65536),g:new i(32768)}}(),function(){const i=n.H.m;for(var r=0;r<32768;r++){let d=r;d=(2863311530&d)>>>1|(1431655765&d)<<1,d=(3435973836&d)>>>2|(858993459&d)<<2,d=(4042322160&d)>>>4|(252645135&d)<<4,d=(4278255360&d)>>>8|(16711935&d)<<8,i.r[r]=(d>>>16|d<<16)>>>17}function f(d,_,C){for(;_--!=0;)d.push(0,C)}for(r=0;r<32;r++)i.q[r]=i.S[r]<<3|i.T[r],i.c[r]=i.p[r]<<4|i.z[r];f(i._,144,8),f(i._,112,9),f(i._,24,7),f(i._,8,8),n.H.n(i._,9),n.H.A(i._,9,i.J),n.H.l(i._,9),f(i.$,32,5),n.H.n(i.$,5),n.H.A(i.$,5,i.h),n.H.l(i.$,5),f(i.Q,19,0),f(i.C,286,0),f(i.D,30,0),f(i.v,320,0)}(),n.H.N}();function t(n){return[1,null,3,1,2,null,4][n.ctype]*n.depth}function c(n,i,r,f,d){let _=t(i);const C=Math.ceil(f*_/8);let A,H;_=Math.ceil(_/8);let T=n[r],E=0;if(T>1&&(n[r]=[0,0,1][T-2]),T==3)for(E=_;E<C;E++)n[E+1]=n[E+1]+(n[E+1-_]>>>1)&255;for(let O=0;O<d;O++)if(A=r+O*C,H=A+O+1,T=n[H-1],E=0,T==0)for(;E<C;E++)n[A+E]=n[H+E];else if(T==1){for(;E<_;E++)n[A+E]=n[H+E];for(;E<C;E++)n[A+E]=n[H+E]+n[A+E-_]}else if(T==2)for(;E<C;E++)n[A+E]=n[H+E]+n[A+E-C];else if(T==3){for(;E<_;E++)n[A+E]=n[H+E]+(n[A+E-C]>>>1);for(;E<C;E++)n[A+E]=n[H+E]+(n[A+E-C]+n[A+E-_]>>>1)}else{for(;E<_;E++)n[A+E]=n[H+E]+a(0,n[A+E-C],0);for(;E<C;E++)n[A+E]=n[H+E]+a(n[A+E-_],n[A+E-C],n[A+E-_-C])}return n}function a(n,i,r){const f=n+i-r,d=f-n,_=f-i,C=f-r;return d*d<=_*_&&d*d<=C*C?n:_*_<=C*C?i:r}function p(n,i,r){r.width=S.readUint(n,i),i+=4,r.height=S.readUint(n,i),i+=4,r.depth=n[i],i++,r.ctype=n[i],i++,r.compress=n[i],i++,r.filter=n[i],i++,r.interlace=n[i],i++}function v(n,i,r,f,d,_,C,A,H){const T=Math.min(i,d),E=Math.min(r,_);let O=0,g=0;for(let F=0;F<E;F++)for(let u=0;u<T;u++)if(C>=0&&A>=0?(O=F*i+u<<2,g=(A+F)*d+C+u<<2):(O=(-A+F)*i-C+u<<2,g=F*d+u<<2),H==0)f[g]=n[O],f[g+1]=n[O+1],f[g+2]=n[O+2],f[g+3]=n[O+3];else if(H==1){var M=n[O+3]*.00392156862745098,l=n[O]*M,s=n[O+1]*M,b=n[O+2]*M,y=f[g+3]*(1/255),w=f[g]*y,U=f[g+1]*y,m=f[g+2]*y;const o=1-M,k=M+y*o,I=k==0?0:1/k;f[g+3]=255*k,f[g+0]=(l+w*o)*I,f[g+1]=(s+U*o)*I,f[g+2]=(b+m*o)*I}else if(H==2)M=n[O+3],l=n[O],s=n[O+1],b=n[O+2],y=f[g+3],w=f[g],U=f[g+1],m=f[g+2],M==y&&l==w&&s==U&&b==m?(f[g]=0,f[g+1]=0,f[g+2]=0,f[g+3]=0):(f[g]=l,f[g+1]=s,f[g+2]=b,f[g+3]=M);else if(H==3){if(M=n[O+3],l=n[O],s=n[O+1],b=n[O+2],y=f[g+3],w=f[g],U=f[g+1],m=f[g+2],M==y&&l==w&&s==U&&b==m)continue;if(M<220&&y>20)return!1}return!0}return{decode:function(i){const r=new Uint8Array(i);let f=8;const d=S,_=d.readUshort,C=d.readUint,A={tabs:{},frames:[]},H=new Uint8Array(r.length);let T,E=0,O=0;const g=[137,80,78,71,13,10,26,10];for(var M=0;M<8;M++)if(r[M]!=g[M])throw"The input is not a PNG file!";for(;f<r.length;){const F=d.readUint(r,f);f+=4;const u=d.readASCII(r,f,4);if(f+=4,u=="IHDR")p(r,f,A);else if(u=="iCCP"){for(var l=f;r[l]!=0;)l++;d.readASCII(r,f,l-f),r[l+1];const o=r.slice(l+2,f+F);let k=null;try{k=h(o)}catch{k=e(o)}A.tabs[u]=k}else if(u=="CgBI")A.tabs[u]=r.slice(f,f+4);else if(u=="IDAT"){for(M=0;M<F;M++)H[E+M]=r[f+M];E+=F}else if(u=="acTL")A.tabs[u]={num_frames:C(r,f),num_plays:C(r,f+4)},T=new Uint8Array(r.length);else if(u=="fcTL"){O!=0&&((m=A.frames[A.frames.length-1]).data=D(A,T.slice(0,O),m.rect.width,m.rect.height),O=0);const o={x:C(r,f+12),y:C(r,f+16),width:C(r,f+4),height:C(r,f+8)};let k=_(r,f+22);k=_(r,f+20)/(k==0?100:k);const I={rect:o,delay:Math.round(1e3*k),dispose:r[f+24],blend:r[f+25]};A.frames.push(I)}else if(u=="fdAT"){for(M=0;M<F-4;M++)T[O+M]=r[f+M+4];O+=F-4}else if(u=="pHYs")A.tabs[u]=[d.readUint(r,f),d.readUint(r,f+4),r[f+8]];else if(u=="cHRM")for(A.tabs[u]=[],M=0;M<8;M++)A.tabs[u].push(d.readUint(r,f+4*M));else if(u=="tEXt"||u=="zTXt"){A.tabs[u]==null&&(A.tabs[u]={});var s=d.nextZero(r,f),b=d.readASCII(r,f,s-f),y=f+F-s-1;if(u=="tEXt")U=d.readASCII(r,s+1,y);else{var w=h(r.slice(s+2,s+2+y));U=d.readUTF8(w,0,w.length)}A.tabs[u][b]=U}else if(u=="iTXt"){A.tabs[u]==null&&(A.tabs[u]={}),s=0,l=f,s=d.nextZero(r,l),b=d.readASCII(r,l,s-l);const o=r[l=s+1];var U;r[l+1],l+=2,s=d.nextZero(r,l),d.readASCII(r,l,s-l),l=s+1,s=d.nextZero(r,l),d.readUTF8(r,l,s-l),y=F-((l=s+1)-f),o==0?U=d.readUTF8(r,l,y):(w=h(r.slice(l,l+y)),U=d.readUTF8(w,0,w.length)),A.tabs[u][b]=U}else if(u=="PLTE")A.tabs[u]=d.readBytes(r,f,F);else if(u=="hIST"){const o=A.tabs.PLTE.length/3;for(A.tabs[u]=[],M=0;M<o;M++)A.tabs[u].push(_(r,f+2*M))}else if(u=="tRNS")A.ctype==3?A.tabs[u]=d.readBytes(r,f,F):A.ctype==0?A.tabs[u]=_(r,f):A.ctype==2&&(A.tabs[u]=[_(r,f),_(r,f+2),_(r,f+4)]);else if(u=="gAMA")A.tabs[u]=d.readUint(r,f)/1e5;else if(u=="sRGB")A.tabs[u]=r[f];else if(u=="bKGD")A.ctype==0||A.ctype==4?A.tabs[u]=[_(r,f)]:A.ctype==2||A.ctype==6?A.tabs[u]=[_(r,f),_(r,f+2),_(r,f+4)]:A.ctype==3&&(A.tabs[u]=r[f]);else if(u=="IEND")break;f+=F,d.readUint(r,f),f+=4}var m;return O!=0&&((m=A.frames[A.frames.length-1]).data=D(A,T.slice(0,O),m.rect.width,m.rect.height)),A.data=D(A,H,A.width,A.height),delete A.compress,delete A.interlace,delete A.filter,A},toRGBA8:function(i){const r=i.width,f=i.height;if(i.tabs.acTL==null)return[R(i.data,r,f,i).buffer];const d=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const _=r*f*4,C=new Uint8Array(_),A=new Uint8Array(_),H=new Uint8Array(_);for(let E=0;E<i.frames.length;E++){const O=i.frames[E],g=O.rect.x,M=O.rect.y,l=O.rect.width,s=O.rect.height,b=R(O.data,l,s,i);if(E!=0)for(var T=0;T<_;T++)H[T]=C[T];if(O.blend==0?v(b,l,s,C,r,f,g,M,0):O.blend==1&&v(b,l,s,C,r,f,g,M,1),d.push(C.buffer.slice(0)),O.dispose!=0){if(O.dispose==1)v(A,l,s,C,r,f,g,M,0);else if(O.dispose==2)for(T=0;T<_;T++)C[T]=H[T]}}return d},_paeth:a,_copyTile:v,_bin:S}}();(function(){const{_copyTile:S}=he,{_bin:R}=he,D=he._paeth;var h={table:function(){const l=new Uint32Array(256);for(let s=0;s<256;s++){let b=s;for(let y=0;y<8;y++)1&b?b=3988292384^b>>>1:b>>>=1;l[s]=b}return l}(),update(l,s,b,y){for(let w=0;w<y;w++)l=h.table[255&(l^s[b+w])]^l>>>8;return l},crc:(l,s,b)=>4294967295^h.update(4294967295,l,s,b)};function e(l,s,b,y){s[b]+=l[0]*y>>4,s[b+1]+=l[1]*y>>4,s[b+2]+=l[2]*y>>4,s[b+3]+=l[3]*y>>4}function t(l){return Math.max(0,Math.min(255,l))}function c(l,s){const b=l[0]-s[0],y=l[1]-s[1],w=l[2]-s[2],U=l[3]-s[3];return b*b+y*y+w*w+U*U}function a(l,s,b,y,w,U,m){m==null&&(m=1);const F=y.length,u=[];for(var o=0;o<F;o++){const x=y[o];u.push([x>>>0&255,x>>>8&255,x>>>16&255,x>>>24&255])}for(o=0;o<F;o++){let x=4294967295;for(var k=0,I=0;I<F;I++){var P=c(u[o],u[I]);I!=o&&P<x&&(x=P,k=I)}}const N=new Uint32Array(w.buffer),z=new Int16Array(s*b*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(o=0;o<B.length;o++)B[o]=255*((B[o]+.5)/16-.5);for(let x=0;x<b;x++)for(let Q=0;Q<s;Q++){var L;o=4*(x*s+Q),m!=2?L=[t(l[o]+z[o]),t(l[o+1]+z[o+1]),t(l[o+2]+z[o+2]),t(l[o+3]+z[o+3])]:(P=B[4*(3&x)+(3&Q)],L=[t(l[o]+P),t(l[o+1]+P),t(l[o+2]+P),t(l[o+3]+P)]),k=0;let $=16777215;for(I=0;I<F;I++){const j=c(L,u[I]);j<$&&($=j,k=I)}const W=u[k],V=[L[0]-W[0],L[1]-W[1],L[2]-W[2],L[3]-W[3]];m==1&&(Q!=s-1&&e(V,z,o+4,7),x!=b-1&&(Q!=0&&e(V,z,o+4*s-4,3),e(V,z,o+4*s,5),Q!=s-1&&e(V,z,o+4*s+4,1))),U[o>>2]=k,N[o>>2]=y[k]}}function p(l,s,b,y,w){w==null&&(w={});const{crc:U}=h,m=R.writeUint,F=R.writeUshort,u=R.writeASCII;let o=8;const k=l.frames.length>1;let I,P=!1,N=33+(k?20:0);if(w.sRGB!=null&&(N+=13),w.pHYs!=null&&(N+=21),w.iCCP!=null&&(I=pako.deflate(w.iCCP),N+=21+I.length+4),l.ctype==3){for(var z=l.plte.length,B=0;B<z;B++)l.plte[B]>>>24!=255&&(P=!0);N+=8+3*z+4+(P?8+1*z+4:0)}for(var L=0;L<l.frames.length;L++)k&&(N+=38),N+=(W=l.frames[L]).cimg.length+12,L!=0&&(N+=4);N+=12;const x=new Uint8Array(N),Q=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)x[B]=Q[B];if(m(x,o,13),o+=4,u(x,o,"IHDR"),o+=4,m(x,o,s),o+=4,m(x,o,b),o+=4,x[o]=l.depth,o++,x[o]=l.ctype,o++,x[o]=0,o++,x[o]=0,o++,x[o]=0,o++,m(x,o,U(x,o-17,17)),o+=4,w.sRGB!=null&&(m(x,o,1),o+=4,u(x,o,"sRGB"),o+=4,x[o]=w.sRGB,o++,m(x,o,U(x,o-5,5)),o+=4),w.iCCP!=null){const V=13+I.length;m(x,o,V),o+=4,u(x,o,"iCCP"),o+=4,u(x,o,"ICC profile"),o+=11,o+=2,x.set(I,o),o+=I.length,m(x,o,U(x,o-(V+4),V+4)),o+=4}if(w.pHYs!=null&&(m(x,o,9),o+=4,u(x,o,"pHYs"),o+=4,m(x,o,w.pHYs[0]),o+=4,m(x,o,w.pHYs[1]),o+=4,x[o]=w.pHYs[2],o++,m(x,o,U(x,o-13,13)),o+=4),k&&(m(x,o,8),o+=4,u(x,o,"acTL"),o+=4,m(x,o,l.frames.length),o+=4,m(x,o,w.loop!=null?w.loop:0),o+=4,m(x,o,U(x,o-12,12)),o+=4),l.ctype==3){for(m(x,o,3*(z=l.plte.length)),o+=4,u(x,o,"PLTE"),o+=4,B=0;B<z;B++){const V=3*B,j=l.plte[B],X=255&j,ee=j>>>8&255,Ue=j>>>16&255;x[o+V+0]=X,x[o+V+1]=ee,x[o+V+2]=Ue}if(o+=3*z,m(x,o,U(x,o-3*z-4,3*z+4)),o+=4,P){for(m(x,o,z),o+=4,u(x,o,"tRNS"),o+=4,B=0;B<z;B++)x[o+B]=l.plte[B]>>>24&255;o+=z,m(x,o,U(x,o-z-4,z+4)),o+=4}}let $=0;for(L=0;L<l.frames.length;L++){var W=l.frames[L];k&&(m(x,o,26),o+=4,u(x,o,"fcTL"),o+=4,m(x,o,$++),o+=4,m(x,o,W.rect.width),o+=4,m(x,o,W.rect.height),o+=4,m(x,o,W.rect.x),o+=4,m(x,o,W.rect.y),o+=4,F(x,o,y[L]),o+=2,F(x,o,1e3),o+=2,x[o]=W.dispose,o++,x[o]=W.blend,o++,m(x,o,U(x,o-30,30)),o+=4);const V=W.cimg;m(x,o,(z=V.length)+(L==0?0:4)),o+=4;const j=o;u(x,o,L==0?"IDAT":"fdAT"),o+=4,L!=0&&(m(x,o,$++),o+=4),x.set(V,o),o+=z,m(x,o,U(x,j,o-j)),o+=4}return m(x,o,0),o+=4,u(x,o,"IEND"),o+=4,m(x,o,U(x,o-4,4)),o+=4,x.buffer}function v(l,s,b){for(let y=0;y<l.frames.length;y++){const w=l.frames[y];w.rect.width;const U=w.rect.height,m=new Uint8Array(U*w.bpl+U);w.cimg=f(w.img,U,w.bpp,w.bpl,m,s,b)}}function n(l,s,b,y,w){const U=w[0],m=w[1],F=w[2],u=w[3],o=w[4],k=w[5];let I=6,P=8,N=255;for(var z=0;z<l.length;z++){const ne=new Uint8Array(l[z]);for(var B=ne.length,L=0;L<B;L+=4)N&=ne[L+3]}const x=N!=255,Q=function(K,q,te,oe,Y,se){const J=[];for(var G=0;G<K.length;G++){const ae=new Uint8Array(K[G]),ue=new Uint32Array(ae.buffer);var le;let ce=0,ve=0,ge=q,Ie=te,We=oe?1:0;if(G!=0){const gt=se||oe||G==1||J[G-2].dispose!=0?1:2;let je=0,Xe=1e9;for(let Se=0;Se<gt;Se++){var be=new Uint8Array(K[G-1-Se]);const pt=new Uint32Array(K[G-1-Se]);let Ae=q,we=te,Me=-1,Te=-1;for(let Fe=0;Fe<te;Fe++)for(let Ee=0;Ee<q;Ee++)ue[re=Fe*q+Ee]!=pt[re]&&(Ee<Ae&&(Ae=Ee),Ee>Me&&(Me=Ee),Fe<we&&(we=Fe),Fe>Te&&(Te=Fe));Me==-1&&(Ae=we=Me=Te=0),Y&&((1&Ae)==1&&Ae--,(1&we)==1&&we--);const Ye=(Me-Ae+1)*(Te-we+1);Ye<Xe&&(Xe=Ye,je=Se,ce=Ae,ve=we,ge=Me-Ae+1,Ie=Te-we+1)}be=new Uint8Array(K[G-1-je]),je==1&&(J[G-1].dispose=2),le=new Uint8Array(ge*Ie*4),S(be,q,te,le,ge,Ie,-ce,-ve,0),We=S(ae,q,te,le,ge,Ie,-ce,-ve,3)?1:0,We==1?r(ae,q,te,le,{x:ce,y:ve,width:ge,height:Ie}):S(ae,q,te,le,ge,Ie,-ce,-ve,0)}else le=ae.slice(0);J.push({rect:{x:ce,y:ve,width:ge,height:Ie},img:le,blend:We,dispose:0})}if(oe)for(G=0;G<J.length;G++){if((_e=J[G]).blend==1)continue;const ae=_e.rect,ue=J[G-1].rect,ce=Math.min(ae.x,ue.x),ve=Math.min(ae.y,ue.y),ge={x:ce,y:ve,width:Math.max(ae.x+ae.width,ue.x+ue.width)-ce,height:Math.max(ae.y+ae.height,ue.y+ue.height)-ve};J[G-1].dispose=1,G-1!=0&&i(K,q,te,J,G-1,ge,Y),i(K,q,te,J,G,ge,Y)}let Pe=0;if(K.length!=1)for(var re=0;re<J.length;re++){var _e;Pe+=(_e=J[re]).rect.width*_e.rect.height}return J}(l,s,b,U,m,F),$={},W=[],V=[];if(y!=0){const ne=[];for(L=0;L<Q.length;L++)ne.push(Q[L].img.buffer);const K=function(Y){let se=0;for(var J=0;J<Y.length;J++)se+=Y[J].byteLength;const G=new Uint8Array(se);let le=0;for(J=0;J<Y.length;J++){const be=new Uint8Array(Y[J]),Pe=be.length;for(let re=0;re<Pe;re+=4){let _e=be[re],ae=be[re+1],ue=be[re+2];const ce=be[re+3];ce==0&&(_e=ae=ue=0),G[le+re]=_e,G[le+re+1]=ae,G[le+re+2]=ue,G[le+re+3]=ce}le+=Pe}return G.buffer}(ne),q=_(K,y);for(L=0;L<q.plte.length;L++)W.push(q.plte[L].est.rgba);let te=0;for(L=0;L<Q.length;L++){const oe=(X=Q[L]).img.length;var j=new Uint8Array(q.inds.buffer,te>>2,oe>>2);V.push(j);const Y=new Uint8Array(q.abuf,te,oe);k&&a(X.img,X.rect.width,X.rect.height,W,Y,j),X.img.set(Y),te+=oe}}else for(z=0;z<Q.length;z++){var X=Q[z];const ne=new Uint32Array(X.img.buffer);var ee=X.rect.width;for(B=ne.length,j=new Uint8Array(B),V.push(j),L=0;L<B;L++){const K=ne[L];if(L!=0&&K==ne[L-1])j[L]=j[L-1];else if(L>ee&&K==ne[L-ee])j[L]=j[L-ee];else{let q=$[K];if(q==null&&($[K]=q=W.length,W.push(K),W.length>=300))break;j[L]=q}}}const Ue=W.length;for(Ue<=256&&o==0&&(P=Ue<=2?1:Ue<=4?2:Ue<=16?4:8,P=Math.max(P,u)),z=0;z<Q.length;z++){(X=Q[z]).rect.x,X.rect.y,ee=X.rect.width;const ne=X.rect.height;let K=X.img;new Uint32Array(K.buffer);let q=4*ee,te=4;if(Ue<=256&&o==0){q=Math.ceil(P*ee/8);var de=new Uint8Array(q*ne);const oe=V[z];for(let Y=0;Y<ne;Y++){L=Y*q;const se=Y*ee;if(P==8)for(var Z=0;Z<ee;Z++)de[L+Z]=oe[se+Z];else if(P==4)for(Z=0;Z<ee;Z++)de[L+(Z>>1)]|=oe[se+Z]<<4-4*(1&Z);else if(P==2)for(Z=0;Z<ee;Z++)de[L+(Z>>2)]|=oe[se+Z]<<6-2*(3&Z);else if(P==1)for(Z=0;Z<ee;Z++)de[L+(Z>>3)]|=oe[se+Z]<<7-1*(7&Z)}K=de,I=3,te=1}else if(x==0&&Q.length==1){de=new Uint8Array(ee*ne*3);const oe=ee*ne;for(L=0;L<oe;L++){const Y=3*L,se=4*L;de[Y]=K[se],de[Y+1]=K[se+1],de[Y+2]=K[se+2]}K=de,I=2,te=3,q=3*ee}X.img=K,X.bpl=q,X.bpp=te}return{ctype:I,depth:P,plte:W,frames:Q}}function i(l,s,b,y,w,U,m){const F=Uint8Array,u=Uint32Array,o=new F(l[w-1]),k=new u(l[w-1]),I=w+1<l.length?new F(l[w+1]):null,P=new F(l[w]),N=new u(P.buffer);let z=s,B=b,L=-1,x=-1;for(let $=0;$<U.height;$++)for(let W=0;W<U.width;W++){const V=U.x+W,j=U.y+$,X=j*s+V,ee=N[X];ee==0||y[w-1].dispose==0&&k[X]==ee&&(I==null||I[4*X+3]!=0)||(V<z&&(z=V),V>L&&(L=V),j<B&&(B=j),j>x&&(x=j))}L==-1&&(z=B=L=x=0),m&&((1&z)==1&&z--,(1&B)==1&&B--),U={x:z,y:B,width:L-z+1,height:x-B+1};const Q=y[w];Q.rect=U,Q.blend=1,Q.img=new Uint8Array(U.width*U.height*4),y[w-1].dispose==0?(S(o,s,b,Q.img,U.width,U.height,-U.x,-U.y,0),r(P,s,b,Q.img,U)):S(P,s,b,Q.img,U.width,U.height,-U.x,-U.y,0)}function r(l,s,b,y,w){S(l,s,b,y,w.width,w.height,-w.x,-w.y,2)}function f(l,s,b,y,w,U,m){const F=[];let u,o=[0,1,2,3,4];U!=-1?o=[U]:(s*y>5e5||b==1)&&(o=[0]),m&&(u={level:0});const k=It;for(var I=0;I<o.length;I++){for(let z=0;z<s;z++)d(w,l,z,y,b,o[I]);F.push(k.deflate(w,u))}let P,N=1e9;for(I=0;I<F.length;I++)F[I].length<N&&(P=I,N=F[I].length);return F[P]}function d(l,s,b,y,w,U){const m=b*y;let F=m+b;if(l[F]=U,F++,U==0)if(y<500)for(var u=0;u<y;u++)l[F+u]=s[m+u];else l.set(new Uint8Array(s.buffer,m,y),F);else if(U==1){for(u=0;u<w;u++)l[F+u]=s[m+u];for(u=w;u<y;u++)l[F+u]=s[m+u]-s[m+u-w]+256&255}else if(b==0){for(u=0;u<w;u++)l[F+u]=s[m+u];if(U==2)for(u=w;u<y;u++)l[F+u]=s[m+u];if(U==3)for(u=w;u<y;u++)l[F+u]=s[m+u]-(s[m+u-w]>>1)+256&255;if(U==4)for(u=w;u<y;u++)l[F+u]=s[m+u]-D(s[m+u-w],0,0)+256&255}else{if(U==2)for(u=0;u<y;u++)l[F+u]=s[m+u]+256-s[m+u-y]&255;if(U==3){for(u=0;u<w;u++)l[F+u]=s[m+u]+256-(s[m+u-y]>>1)&255;for(u=w;u<y;u++)l[F+u]=s[m+u]+256-(s[m+u-y]+s[m+u-w]>>1)&255}if(U==4){for(u=0;u<w;u++)l[F+u]=s[m+u]+256-D(0,s[m+u-y],0)&255;for(u=w;u<y;u++)l[F+u]=s[m+u]+256-D(s[m+u-w],s[m+u-y],s[m+u-w-y])&255}}}function _(l,s){const b=new Uint8Array(l),y=b.slice(0),w=new Uint32Array(y.buffer),U=C(y,s),m=U[0],F=U[1],u=b.length,o=new Uint8Array(u>>2);let k;if(b.length<2e7)for(var I=0;I<u;I+=4)k=A(m,P=b[I]*(1/255),N=b[I+1]*(1/255),z=b[I+2]*(1/255),B=b[I+3]*(1/255)),o[I>>2]=k.ind,w[I>>2]=k.est.rgba;else for(I=0;I<u;I+=4){var P=b[I]*.00392156862745098,N=b[I+1]*(1/255),z=b[I+2]*(1/255),B=b[I+3]*(1/255);for(k=m;k.left;)k=H(k.est,P,N,z,B)<=0?k.left:k.right;o[I>>2]=k.ind,w[I>>2]=k.est.rgba}return{abuf:y.buffer,inds:o,plte:F}}function C(l,s,b){b==null&&(b=1e-4);const y=new Uint32Array(l.buffer),w={i0:0,i1:l.length,bst:null,est:null,tdst:0,left:null,right:null};w.bst=O(l,w.i0,w.i1),w.est=g(w.bst);const U=[w];for(;U.length<s;){let F=0,u=0;for(var m=0;m<U.length;m++)U[m].est.L>F&&(F=U[m].est.L,u=m);if(F<b)break;const o=U[u],k=T(l,y,o.i0,o.i1,o.est.e,o.est.eMq255);if(o.i0>=k||o.i1<=k){o.est.L=0;continue}const I={i0:o.i0,i1:k,bst:null,est:null,tdst:0,left:null,right:null};I.bst=O(l,I.i0,I.i1),I.est=g(I.bst);const P={i0:k,i1:o.i1,bst:null,est:null,tdst:0,left:null,right:null};for(P.bst={R:[],m:[],N:o.bst.N-I.bst.N},m=0;m<16;m++)P.bst.R[m]=o.bst.R[m]-I.bst.R[m];for(m=0;m<4;m++)P.bst.m[m]=o.bst.m[m]-I.bst.m[m];P.est=g(P.bst),o.left=I,o.right=P,U[u]=I,U.push(P)}for(U.sort((F,u)=>u.bst.N-F.bst.N),m=0;m<U.length;m++)U[m].ind=m;return[w,U]}function A(l,s,b,y,w){if(l.left==null)return l.tdst=function(I,P,N,z,B){const L=P-I[0],x=N-I[1],Q=z-I[2],$=B-I[3];return L*L+x*x+Q*Q+$*$}(l.est.q,s,b,y,w),l;const U=H(l.est,s,b,y,w);let m=l.left,F=l.right;U>0&&(m=l.right,F=l.left);const u=A(m,s,b,y,w);if(u.tdst<=U*U)return u;const o=A(F,s,b,y,w);return o.tdst<u.tdst?o:u}function H(l,s,b,y,w){const{e:U}=l;return U[0]*s+U[1]*b+U[2]*y+U[3]*w-l.eMq}function T(l,s,b,y,w,U){for(y-=4;b<y;){for(;E(l,b,w)<=U;)b+=4;for(;E(l,y,w)>U;)y-=4;if(b>=y)break;const m=s[b>>2];s[b>>2]=s[y>>2],s[y>>2]=m,b+=4,y-=4}for(;E(l,b,w)>U;)b-=4;return b+4}function E(l,s,b){return l[s]*b[0]+l[s+1]*b[1]+l[s+2]*b[2]+l[s+3]*b[3]}function O(l,s,b){const y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=[0,0,0,0],U=b-s>>2;for(let m=s;m<b;m+=4){const F=l[m]*.00392156862745098,u=l[m+1]*(1/255),o=l[m+2]*(1/255),k=l[m+3]*(1/255);w[0]+=F,w[1]+=u,w[2]+=o,w[3]+=k,y[0]+=F*F,y[1]+=F*u,y[2]+=F*o,y[3]+=F*k,y[5]+=u*u,y[6]+=u*o,y[7]+=u*k,y[10]+=o*o,y[11]+=o*k,y[15]+=k*k}return y[4]=y[1],y[8]=y[2],y[9]=y[6],y[12]=y[3],y[13]=y[7],y[14]=y[11],{R:y,m:w,N:U}}function g(l){const{R:s}=l,{m:b}=l,{N:y}=l,w=b[0],U=b[1],m=b[2],F=b[3],u=y==0?0:1/y,o=[s[0]-w*w*u,s[1]-w*U*u,s[2]-w*m*u,s[3]-w*F*u,s[4]-U*w*u,s[5]-U*U*u,s[6]-U*m*u,s[7]-U*F*u,s[8]-m*w*u,s[9]-m*U*u,s[10]-m*m*u,s[11]-m*F*u,s[12]-F*w*u,s[13]-F*U*u,s[14]-F*m*u,s[15]-F*F*u],k=o,I=M;let P=[Math.random(),Math.random(),Math.random(),Math.random()],N=0,z=0;if(y!=0)for(let L=0;L<16&&(P=I.multVec(k,P),z=Math.sqrt(I.dot(P,P)),P=I.sml(1/z,P),!(L!=0&&Math.abs(z-N)<1e-9));L++)N=z;const B=[w*u,U*u,m*u,F*u];return{Cov:o,q:B,e:P,L:N,eMq255:I.dot(I.sml(255,B),P),eMq:I.dot(P,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var M={multVec:(l,s)=>[l[0]*s[0]+l[1]*s[1]+l[2]*s[2]+l[3]*s[3],l[4]*s[0]+l[5]*s[1]+l[6]*s[2]+l[7]*s[3],l[8]*s[0]+l[9]*s[1]+l[10]*s[2]+l[11]*s[3],l[12]*s[0]+l[13]*s[1]+l[14]*s[2]+l[15]*s[3]],dot:(l,s)=>l[0]*s[0]+l[1]*s[1]+l[2]*s[2]+l[3]*s[3],sml:(l,s)=>[l*s[0],l*s[1],l*s[2],l*s[3]]};he.encode=function(s,b,y,w,U,m,F){w==null&&(w=0),F==null&&(F=!1);const u=n(s,b,y,w,[!1,!1,!1,0,F,!1]);return v(u,-1),p(u,b,y,U,m)},he.encodeLL=function(s,b,y,w,U,m,F,u){const o={ctype:0+(w==1?0:2)+(U==0?0:4),depth:m,frames:[]},k=(w+U)*m,I=k*b;for(let P=0;P<s.length;P++)o.frames.push({rect:{x:0,y:0,width:b,height:y},img:new Uint8Array(s[P]),blend:0,dispose:1,bpp:Math.ceil(k/8),bpl:Math.ceil(I/8)});return v(o,0,!0),p(o,b,y,F,u)},he.encode.compress=n,he.encode.dither=a,he.quantize=_,he.quantize.getKDtree=C,he.quantize.getNearest=A})();const it={toArrayBuffer(S,R){const D=S.width,h=S.height,e=D<<2,t=S.getContext("2d").getImageData(0,0,D,h),c=new Uint32Array(t.data.buffer),a=(32*D+31)/32<<2,p=a*h,v=122+p,n=new ArrayBuffer(v),i=new DataView(n),r=1<<20;let f,d,_,C,A=r,H=0,T=0,E=0;function O(l){i.setUint16(T,l,!0),T+=2}function g(l){i.setUint32(T,l,!0),T+=4}function M(l){T+=l}O(19778),g(v),M(4),g(122),g(108),g(D),g(-h>>>0),O(1),O(32),g(3),g(p),g(2835),g(2835),M(8),g(16711680),g(65280),g(255),g(4278190080),g(1466527264),function l(){for(;H<h&&A>0;){for(C=122+H*a,f=0;f<e;)A--,d=c[E++],_=d>>>24,i.setUint32(C+f,d<<8|_),f+=4;H++}E<c.length?(A=r,setTimeout(l,it._dly)):R(n)}()},toBlob(S,R){this.toArrayBuffer(S,D=>{R(new Blob([D],{type:"image/bmp"}))})},_dly:9};var fe={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Ft={[fe.CHROME]:16384,[fe.FIREFOX]:11180,[fe.DESKTOP_SAFARI]:16384,[fe.IE]:8192,[fe.IOS]:4096,[fe.ETC]:8192};const Ke=typeof window<"u",ot=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Be=Ke&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Et=(Ke||ot)&&(Be&&Be.getOriginalSymbol(window,"File")||typeof File<"u"&&File),at=(Ke||ot)&&(Be&&Be.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Ze(S,R,D=Date.now()){return new Promise(h=>{const e=S.split(","),t=e[0].match(/:(.*?);/)[1],c=globalThis.atob(e[1]);let a=c.length;const p=new Uint8Array(a);for(;a--;)p[a]=c.charCodeAt(a);const v=new Blob([p],{type:t});v.name=R,v.lastModified=D,h(v)})}function ft(S){return new Promise((R,D)=>{const h=new at;h.onload=()=>R(h.result),h.onerror=e=>D(e),h.readAsDataURL(S)})}function st(S){return new Promise((R,D)=>{const h=new Image;h.onload=()=>R(h),h.onerror=e=>D(e),h.src=S})}function xe(){if(xe.cachedResult!==void 0)return xe.cachedResult;let S=fe.ETC;const{userAgent:R}=navigator;return/Chrom(e|ium)/i.test(R)?S=fe.CHROME:/iP(ad|od|hone)/i.test(R)&&/WebKit/i.test(R)?S=fe.IOS:/Safari/i.test(R)?S=fe.DESKTOP_SAFARI:/Firefox/i.test(R)?S=fe.FIREFOX:(/MSIE/i.test(R)||document.documentMode)&&(S=fe.IE),xe.cachedResult=S,xe.cachedResult}function lt(S,R){const D=xe(),h=Ft[D];let e=S,t=R,c=e*t;const a=e>t?t/e:e/t;for(;c>h*h;){const p=(h+e)/2,v=(h+t)/2;p<v?(t=v,e=v*a):(t=p*a,e=p),c=e*t}return{width:e,height:t}}function Ve(S,R){let D,h;try{if(D=new OffscreenCanvas(S,R),h=D.getContext("2d"),h===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{D=document.createElement("canvas"),h=D.getContext("2d")}return D.width=S,D.height=R,[D,h]}function ct(S,R){const{width:D,height:h}=lt(S.width,S.height),[e,t]=Ve(D,h);return R&&/jpe?g/.test(R)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(S,0,0,e.width,e.height),e}function He(){return He.cachedResult!==void 0||(He.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),He.cachedResult}function Ne(S,R={}){return new Promise(function(D,h){let e,t;var c=function(){try{return t=ct(e,R.fileType||S.type),D([e,t])}catch(p){return h(p)}},a=function(p){try{var v=function(n){try{throw n}catch(i){return h(i)}};try{let n;return ft(S).then(function(i){try{return n=i,st(n).then(function(r){try{return e=r,function(){try{return c()}catch(f){return h(f)}}()}catch(f){return v(f)}},v)}catch(r){return v(r)}},v)}catch(n){v(n)}}catch(n){return h(n)}};try{if(He()||[fe.DESKTOP_SAFARI,fe.MOBILE_SAFARI].includes(xe()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(S).then(function(p){try{return e=p,c()}catch{return a()}},a)}catch{a()}})}function Qe(S,R,D,h,e=1){return new Promise(function(t,c){let a;if(R==="image/png"){let v,n,i;return v=S.getContext("2d"),{data:n}=v.getImageData(0,0,S.width,S.height),i=he.encode([n.buffer],S.width,S.height,4096*e),a=new Blob([i],{type:R}),a.name=D,a.lastModified=h,p.call(this)}{let v=function(){return p.call(this)};if(R==="image/bmp")return new Promise(n=>it.toBlob(S,n)).then((function(n){try{return a=n,a.name=D,a.lastModified=h,v.call(this)}catch(i){return c(i)}}).bind(this),c);{let n=function(){return v.call(this)};if(typeof OffscreenCanvas=="function"&&S instanceof OffscreenCanvas)return S.convertToBlob({type:R,quality:e}).then((function(i){try{return a=i,a.name=D,a.lastModified=h,n.call(this)}catch(r){return c(r)}}).bind(this),c);{let i;return i=S.toDataURL(R,e),Ze(i,D,h).then((function(r){try{return a=r,n.call(this)}catch(f){return c(f)}}).bind(this),c)}}}function p(){return t(a)}})}function pe(S){S.width=0,S.height=0}function Re(){return new Promise(function(S,R){let D,h,e,t;return Re.cachedResult!==void 0?S(Re.cachedResult):Ze("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(c){try{return D=c,Ne(D).then(function(a){try{return h=a[1],Qe(h,D.type,D.name,D.lastModified).then(function(p){try{return e=p,pe(h),Ne(e).then(function(v){try{return t=v[0],Re.cachedResult=t.width===1&&t.height===2,S(Re.cachedResult)}catch(n){return R(n)}},R)}catch(v){return R(v)}},R)}catch(p){return R(p)}},R)}catch(a){return R(a)}},R)})}function ut(S){return new Promise((R,D)=>{const h=new at;h.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return R(-2);const c=t.byteLength;let a=2;for(;a<c;){if(t.getUint16(a+2,!1)<=8)return R(-1);const p=t.getUint16(a,!1);if(a+=2,p==65505){if(t.getUint32(a+=2,!1)!=1165519206)return R(-1);const v=t.getUint16(a+=6,!1)==18761;a+=t.getUint32(a+4,v);const n=t.getUint16(a,v);a+=2;for(let i=0;i<n;i++)if(t.getUint16(a+12*i,v)==274)return R(t.getUint16(a+12*i+8,v))}else{if((65280&p)!=65280)break;a+=t.getUint16(a,!1)}}return R(-1)},h.onerror=e=>D(e),h.readAsArrayBuffer(S)})}function ht(S,R){const{width:D}=S,{height:h}=S,{maxWidthOrHeight:e}=R;let t,c=S;return isFinite(e)&&(D>e||h>e)&&([c,t]=Ve(D,h),D>h?(c.width=e,c.height=h/D*e):(c.width=D/h*e,c.height=e),t.drawImage(S,0,0,c.width,c.height),pe(S)),c}function dt(S,R){const{width:D}=S,{height:h}=S,[e,t]=Ve(D,h);switch(R>4&&R<9?(e.width=h,e.height=D):(e.width=D,e.height=h),R){case 2:t.transform(-1,0,0,1,D,0);break;case 3:t.transform(-1,0,0,-1,D,h);break;case 4:t.transform(1,0,0,-1,0,h);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,h,0);break;case 7:t.transform(0,-1,-1,0,h,D);break;case 8:t.transform(0,-1,1,0,0,D)}return t.drawImage(S,0,0,D,h),pe(S),e}function Je(S,R,D=0){return new Promise(function(h,e){let t,c,a,p,v,n,i,r,f,d,_,C,A,H,T,E,O,g,M,l;function s(y=5){if(R.signal&&R.signal.aborted)throw R.signal.reason;t+=y,R.onProgress(Math.min(t,100))}function b(y){if(R.signal&&R.signal.aborted)throw R.signal.reason;t=Math.min(Math.max(y,t),100),R.onProgress(t)}return t=D,c=R.maxIteration||10,a=1024*R.maxSizeMB*1024,s(),Ne(S,R).then((function(y){try{return[,p]=y,s(),v=ht(p,R),s(),new Promise(function(w,U){var m;if(!(m=R.exifOrientation))return ut(S).then((function(u){try{return m=u,F.call(this)}catch(o){return U(o)}}).bind(this),U);function F(){return w(m)}return F.call(this)}).then((function(w){try{return n=w,s(),Re().then((function(U){try{return i=U?v:dt(v,n),s(),r=R.initialQuality||1,f=R.fileType||S.type,Qe(i,f,S.name,S.lastModified,r).then((function(m){try{{let u=function(){if(c--&&(T>a||T>A)){let k,I;return k=l?.95*M.width:M.width,I=l?.95*M.height:M.height,[O,g]=Ve(k,I),g.drawImage(M,0,0,k,I),r*=f==="image/png"?.85:.95,Qe(O,f,S.name,S.lastModified,r).then(function(P){try{return E=P,pe(M),M=O,T=E.size,b(Math.min(99,Math.floor((H-T)/(H-a)*100))),u}catch(N){return e(N)}},e)}return[1]},o=function(){return pe(M),pe(O),pe(v),pe(i),pe(p),b(100),h(E)};if(d=m,s(),_=d.size>a,C=d.size>S.size,!_&&!C)return b(100),h(d);var F;return A=S.size,H=d.size,T=H,M=i,l=!R.alwaysKeepResolution&&_,(F=(function(k){for(;k;){if(k.then)return void k.then(F,e);try{if(k.pop){if(k.length)return k.pop()?o.call(this):k;k=u}else k=k.call(this)}catch(I){return e(I)}}}).bind(this))(u)}}catch(u){return e(u)}}).bind(this),e)}catch(m){return e(m)}}).bind(this),e)}catch(U){return e(U)}}).bind(this),e)}catch(w){return e(w)}}).bind(this),e)})}const Ct=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let qe;function xt(S,R){return new Promise((D,h)=>{qe||(qe=function(c){const a=[];return a.push(c),URL.createObjectURL(new Blob(a))}(Ct));const e=new Worker(qe);e.addEventListener("message",function(c){if(R.signal&&R.signal.aborted)e.terminate();else if(c.data.progress===void 0){if(c.data.error)return h(new Error(c.data.error)),void e.terminate();D(c.data.file),e.terminate()}else R.onProgress(c.data.progress)}),e.addEventListener("error",h),R.signal&&R.signal.addEventListener("abort",()=>{h(R.signal.reason),e.terminate()}),e.postMessage({file:S,imageCompressionLibUrl:R.libURL,options:{...R,onProgress:void 0,signal:void 0}})})}function ie(S,R){return new Promise(function(D,h){let e,t,c,a,p,v;if(e={...R},c=0,{onProgress:a}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,p=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=f=>{c=f,typeof a=="function"&&a(c)},!(S instanceof Blob||S instanceof Et))return h(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(S.type))return h(new Error("The file given is not an image"));if(v=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!p||typeof Worker!="function"||v)return Je(S,e).then((function(f){try{return t=f,r.call(this)}catch(d){return h(d)}}).bind(this),h);var n=(function(){try{return r.call(this)}catch(f){return h(f)}}).bind(this),i=function(f){try{return Je(S,e).then(function(d){try{return t=d,n()}catch(_){return h(_)}},h)}catch(d){return h(d)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",xt(S,e).then(function(f){try{return t=f,n()}catch{return i()}},i)}catch{i()}function r(){try{t.name=S.name,t.lastModified=S.lastModified}catch{}try{e.preserveExif&&S.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===S.type)&&(t=rt(S,t))}catch{}return D(t)}})}ie.getDataUrlFromFile=ft,ie.getFilefromDataUrl=Ze,ie.loadImage=st,ie.drawImageInCanvas=ct,ie.drawFileInCanvas=Ne,ie.canvasToFile=Qe,ie.getExifOrientation=ut,ie.handleMaxWidthOrHeight=ht,ie.followExifOrientation=dt,ie.cleanupCanvasMemory=pe,ie.isAutoOrientationInBrowser=Re,ie.approximateBelowMaximumCanvasSizeOfBrowser=lt,ie.copyExifWithoutOrientation=rt,ie.getBrowserName=xe,ie.version="2.0.2";const Mt={key:0},Lt={__name:"imageInput",emits:["saveCompressedImages"],setup(S,{expose:R,emit:D}){const h=vt(),e=D,t=Le([]),c=Le([]),a=()=>{c.value=[],t.value.forEach(v=>{if(v&&v.type.startsWith("image/")){const n=new FileReader;n.onload=i=>{c.value.push(i.target.result)},n.readAsDataURL(v)}})};return R({compressImages:async()=>{h.loadengApi=!0;const v=[],n={maxSizeMB:1,maxWidthOrHeight:8e3,useWebWorker:!0};await Promise.all(t.value.map(async i=>{try{const r=await ie(i,n);v.push(r)}catch{}})),v.length===t.value.length&&e("saveCompressedImages",v),h.loadengApi=!1}}),(v,n)=>(me(),ke(Ge,null,[Ce(De,{cols:"12",md:"6"},{default:ye(()=>[c.value.length?(me(),ke("div",Mt,[Ce(tt,{class:"d-flex"},{default:ye(()=>[(me(!0),ke(Ge,null,et(c.value,(i,r)=>(me(),Oe(De,{style:{"max-width":"200px","max-height":"200px","min-width":"150px"},key:r},{default:ye(()=>[Ce(nt,{src:i,class:"mb-2","aspect-ratio":"1",cover:""},null,8,["src"])]),_:2},1024))),128))]),_:1})])):$e("",!0)]),_:1}),Ce(De,{cols:"12",md:"6"},{default:ye(()=>[Ce(mt,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=i=>t.value=i),chips:"",multiple:"",label:"",accept:"image/*","prepend-icon":"mdi-camera",onChange:a},null,8,["modelValue"])]),_:1})],64))}},Rt={key:1,class:"text-alert"},zt={__name:"ShowImages",emits:["runItems"],setup(S,{expose:R,emit:D}){const h=Le(!1),e=Le([]),t=D,c=p=>{bt("photo",p).then(()=>{e.value=e.value.filter(v=>v.id!==p),t("runItems")})};return R({opaenDialog:(p=!1)=>{e.value=p,h.value=!0}}),(p,v)=>(me(),Oe(wt,{modelValue:h.value,"onUpdate:modelValue":v[0]||(v[0]=n=>h.value=n),"max-height":"80vh"},{default:ye(()=>[e.value.length?(me(),Oe(tt,{key:0,style:{"background-color":"#ada7a0","text-align":"center","overflow-x":"auto"}},{default:ye(()=>[(me(!0),ke(Ge,null,et(e.value,n=>(me(),Oe(De,{key:n,class:"d-flex child-flex"},{default:ye(()=>[Ce(nt,{"min-width":"150px","max-width":"300px",src:n.path,"aspect-ratio":"1",class:"bg-grey-lighten-2",cover:""},{default:ye(()=>[Ce(At,{onClick:i=>c(n.id),class:"icon-delete-image",icon:"mdi-delete-outline"},null,8,["onClick"])]),_:2},1032,["src"])]),_:2},1024))),128))]),_:1})):$e("",!0),e.value.length?$e("",!0):(me(),ke("p",Rt,"  "))]),_:1},8,["modelValue"]))}};export{Lt as _,zt as a};
