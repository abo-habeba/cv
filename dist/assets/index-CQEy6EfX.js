import{n as D,s as L,f as O,d as E}from"./apiService-D_ifhQ_Q.js";import{H as R,O as N,r as i,Q as f,R as F,m as e,S as a,U as I,Y as t,V as p,W as b,z as J,$ as w,a2 as j,_ as q,I as H}from"./index-ChxtWFXL.js";import{x as M,y as g}from"./VLabel-86a35s0f.js";import{V as S,d as Q,e as y}from"./VRow-ikdiUNEE.js";import{V as W}from"./VForm-DH_37C_x.js";import{V as C}from"./VTextField-dYthJQMR.js";import{V as U}from"./VDialog-oLnl67xC.js";import{_ as Y}from"./ThemeSettings-C9Kh93Up.js";import{_ as G}from"./Breadcrumbs-we7SAN3u.js";import{V as K}from"./VTable-DYUb71zL.js";import{V as P}from"./VContainer-BTGkOpRJ.js";import"./VInput-B2xPres-.js";import"./index-CUSXw9Lg.js";import"./VSelectionControl-CYwPMwAT.js";import"./VSwitch-Nb1fgJoj.js";const X={class:"ma-5"},Z={__name:"LanguageForm",emits:["runItems"],setup($,{expose:x,emit:k}){const{xs:c}=R(),v=N(),_=k,V=i(!1),m=i({}),u=i({}),o=i({});function h(){u.value={ar:"",en:""},o.value={ar:"",en:""},V.value=!1,m.value="",_("runItems")}function T(){if(!u.value.ar&&!u.value.en){D("حقل الاسم مطلوب عربي او انجليزي");return}if(!o.value.ar&&!o.value.en){D("حقل المستوي مطلوب عربي او انجليزي");return}v.loadengApi=!0;const l=new FormData;l.append("name",JSON.stringify(u.value)),l.append("level",JSON.stringify(o.value)),l.append("user_id",v.user.id),m.value.id&&l.append("_method","put"),L("languages",l,m.value.id).then(n=>{m.value=n.data,_("runItems"),h()})}const d=(l={})=>{Object.keys(l).length!==0&&(u.value=l.name,o.value=l.level),V.value=!0,m.value=l};return x({addNew:d}),(l,n)=>(f(),F("div",null,[e(M,{onClick:n[0]||(n[0]=s=>d()),color:"info",size:"35",icon:"mdi-plus-outline"}),e(U,{class:"text-center",modelValue:V.value,"onUpdate:modelValue":n[5]||(n[5]=s=>V.value=s),"max-width":"900",fullscreen:b(c)},{default:a(()=>[e(S,{class:"pa-5"},{actions:a(()=>[e(g,{onClick:h},{default:a(()=>[I(" اغلاق ")]),_:1}),e(g,{onClick:T},{default:a(()=>[I(" موافق ")]),_:1})]),default:a(()=>[t("h2",X,p(m.value.id?"تعديل ":" اضافة "),1),e(W,null,{default:a(()=>[e(Q,null,{default:a(()=>[e(y,{cols:"12",md:"6"},{default:a(()=>[e(C,{modelValue:u.value.ar,"onUpdate:modelValue":n[1]||(n[1]=s=>u.value.ar=s),label:"الاسم"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12",md:"6"},{default:a(()=>[e(C,{modelValue:u.value.en,"onUpdate:modelValue":n[2]||(n[2]=s=>u.value.en=s),label:"Name"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12",md:"6"},{default:a(()=>[e(C,{modelValue:o.value.ar,"onUpdate:modelValue":n[3]||(n[3]=s=>o.value.ar=s),label:"المستوي"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12",md:"6"},{default:a(()=>[e(C,{modelValue:o.value.en,"onUpdate:modelValue":n[4]||(n[4]=s=>o.value.en=s),label:"Level"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","fullscreen"])]))}},ee=t("h2",{class:"ma-5"},"هل تريد حذف العنصر بالفعل",-1),le=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"#"),t("th",{class:"text-center"},"الاسم"),t("th",{class:"text-center"},"name"),t("th",{class:"text-center"},"المستوي"),t("th",{class:"text-center"},"level"),t("th",{class:"text-center"},"تاريخ الانشاء"),t("th",{class:"text-center sticky-column"},". . .")])],-1),te={class:"sticky-column"},ae={key:2,class:"text-alert"},xe={__name:"index",setup($){const x=N(),k=i(null),c=i(!1),v=i([]),_=i("");function V(d){c.value=!0,_.value=d}const m=i(null);function u(){m.value?m.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}J(()=>{o()});function o(){x.loadengApi=!0,O("languages").then(d=>{v.value=d.data,_.value=""})}function h(){x.loadengApi=!0,E("languages/delete",{id:[_.value.id]}).then(()=>{o(),c.value=!1})}const T=d=>{var l;(l=k.value)==null||l.addNew(d)};return(d,l)=>{const n=G,s=Y,B=Z;return f(),w(P,null,{default:a(()=>[e(n),e(U,{class:"text-center",modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=r=>c.value=r),"max-width":"400",persistent:""},{default:a(()=>[e(S,{class:"pa-5"},{default:a(()=>[ee,e(g,{class:"ma-1",onClick:h},{default:a(()=>[I(" موافق ")]),_:1}),e(g,{class:"ma-1",onClick:l[0]||(l[0]=r=>c.value=!1)},{default:a(()=>[I(" اغلاق ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),b(x).user?(f(),w(s,{key:0,ref_key:"dialogThemeForm",ref:m,detTheme:{nameEn:"languages",nameAr:"اللغات"},onClick:u},null,512)):j("",!0),e(B,{ref_key:"itemForm",ref:k,onRunItems:o},null,512),v.value.length>0?(f(),w(K,{key:1,style:{"white-space":"nowrap"},dir:"rtl",class:"h"},{default:a(()=>[le,t("tbody",null,[(f(!0),F(H,null,q(v.value,(r,z)=>(f(),F("tr",{key:r.id},[t("td",null,p(z+1),1),t("td",null,p(r.name.ar),1),t("td",null,p(r.name.en),1),t("td",null,p(r.level.ar),1),t("td",null,p(r.level.en),1),t("td",null,p(r.created_at),1),t("td",te,[e(g,{onClick:A=>V(r),class:"mx-3",icon:"mdi-delete",color:"red",size:"small"},null,8,["onClick"]),e(g,{onClick:A=>T(r),icon:"mdi-square-edit-outline",color:"info",size:"small"},null,8,["onClick"])])]))),128))])]),_:1})):(f(),F("p",ae,"لا توجد اي بيانات"))]),_:1})}}};export{xe as default};
