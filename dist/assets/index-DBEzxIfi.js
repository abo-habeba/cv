import{n as F,s as $,f as B,d as L}from"./apiService-BSUmLvOU.js";import{J as b,r as v,L as _,M as C,v as l,P as a,S as I,Q as t,T as f,q as T,V as w,U as z,F as A}from"./index-DHX1at59.js";import{y as p}from"./VImg-CgRsiLOb.js";import{V as g,a as J,b as h}from"./VTextField-By9_SvAO.js";import{V as N,a as O}from"./VCard-D0P2zXyR.js";import{V as E}from"./VForm-CeuvAQQp.js";import{V as U}from"./VDialog-X_y63q6L.js";import{V as M}from"./VTable-QUSyMYtF.js";import"./VInput-qK_JU4yZ.js";import"./forwardRefs-dQmJY-bW.js";import"./VOverlay-AGOTgB6z.js";import"./lazy-BYHX6w9-.js";const R={class:"ma-5"},j={__name:"LanguageForm",emits:["runItems"],setup(D,{expose:x,emit:k}){const d=b(),V=k,m=v(!1),i=v({}),n=v({}),u=v({});function y(){n.value={ar:"",en:""},u.value={ar:"",en:""},m.value=!1,i.value="",V("runItems")}function c(){if(!n.value.ar&&!n.value.en){F("حقل الاسم مطلوب عربي او انجليزي");return}if(!u.value.ar&&!u.value.en){F("حقل المستوي مطلوب عربي او انجليزي");return}d.loadengApi=!0;const s=new FormData;s.append("name",JSON.stringify(n.value)),s.append("level",JSON.stringify(u.value)),s.append("user_id",d.user.id),i.value.id&&s.append("_method","put"),$("languages",s,i.value.id).then(e=>{i.value=e.data,V("runItems"),y()})}const r=(s={})=>{Object.keys(s).length!==0&&(n.value=s.name,u.value=s.level),m.value=!0,i.value=s};return x({addNew:r}),(s,e)=>(_(),C("div",null,[l(g,{cols:"auto"},{default:a(()=>[l(p,{onClick:e[0]||(e[0]=o=>r()),icon:"mdi-plus",color:"success",size:"small",to:""})]),_:1}),l(U,{class:"text-center",modelValue:m.value,"onUpdate:modelValue":e[5]||(e[5]=o=>m.value=o),"max-width":"900",persistent:""},{default:a(()=>[l(N,{class:"pa-5"},{actions:a(()=>[l(p,{onClick:y},{default:a(()=>[I(" اغلاق ")]),_:1}),l(p,{onClick:c},{default:a(()=>[I(" موافق ")]),_:1})]),default:a(()=>[t("h2",R,f(i.value.id?"تعديل ":" اضافة "),1),l(E,null,{default:a(()=>[l(J,null,{default:a(()=>[l(g,{cols:"12",md:"6"},{default:a(()=>[l(h,{modelValue:n.value.ar,"onUpdate:modelValue":e[1]||(e[1]=o=>n.value.ar=o),label:"الاسم"},null,8,["modelValue"])]),_:1}),l(g,{cols:"12",md:"6"},{default:a(()=>[l(h,{modelValue:n.value.en,"onUpdate:modelValue":e[2]||(e[2]=o=>n.value.en=o),label:"Name"},null,8,["modelValue"])]),_:1}),l(g,{cols:"12",md:"6"},{default:a(()=>[l(h,{modelValue:u.value.ar,"onUpdate:modelValue":e[3]||(e[3]=o=>u.value.ar=o),label:"المستوي"},null,8,["modelValue"])]),_:1}),l(g,{cols:"12",md:"6"},{default:a(()=>[l(h,{modelValue:u.value.en,"onUpdate:modelValue":e[4]||(e[4]=o=>u.value.en=o),label:"Level"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},q=t("h2",{class:"ma-5"},"هل تريد حذف العنصر بالفعل",-1),P=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"#"),t("th",{class:"text-center"},"الاسم"),t("th",{class:"text-center"},"name"),t("th",{class:"text-center"},"المستوي"),t("th",{class:"text-center"},"level"),t("th",{class:"text-center"},"تاريخ الانشاء"),t("th",{class:"text-center sticky-column"},". . .")])],-1),Q={class:"sticky-column"},G={key:1,class:"text-alert"},oe={__name:"index",setup(D){const x=b(),k=v(null),d=v(!1),V=v([]),m=v("");function i(c){d.value=!0,m.value=c}T(()=>{n()});function n(){x.loadengApi=!0,B("languages").then(c=>{V.value=c.data,m.value=""})}function u(){x.loadengApi=!0,L("languages/delete",{id:[m.value.id]}).then(()=>{n(),d.value=!1})}const y=c=>{var r;(r=k.value)==null||r.addNew(c)};return(c,r)=>{const s=j;return _(),w(O,null,{default:a(()=>[l(U,{class:"text-center",modelValue:d.value,"onUpdate:modelValue":r[1]||(r[1]=e=>d.value=e),"max-width":"400",persistent:""},{default:a(()=>[l(N,{class:"pa-5"},{default:a(()=>[q,l(p,{class:"ma-1",onClick:u},{default:a(()=>[I(" موافق ")]),_:1}),l(p,{class:"ma-1",onClick:r[0]||(r[0]=e=>d.value=!1)},{default:a(()=>[I(" اغلاق ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(s,{ref_key:"itemForm",ref:k,onRunItems:n},null,512),V.value.length>0?(_(),w(M,{key:0,style:{"white-space":"nowrap"},dir:"rtl",class:"h"},{default:a(()=>[P,t("tbody",null,[(_(!0),C(A,null,z(V.value,(e,o)=>(_(),C("tr",{key:e.id},[t("td",null,f(o+1),1),t("td",null,f(e.name.ar),1),t("td",null,f(e.name.en),1),t("td",null,f(e.level.ar),1),t("td",null,f(e.level.en),1),t("td",null,f(e.created_at),1),t("td",Q,[l(p,{onClick:S=>i(e),class:"mx-3",icon:"mdi-delete",color:"red",size:"small"},null,8,["onClick"]),l(p,{onClick:S=>y(e),icon:"mdi-pencil",color:"info",size:"small"},null,8,["onClick"])])]))),128))])]),_:1})):(_(),C("p",G,"لا توجد اي بيانات"))]),_:1})}}};export{oe as default};
