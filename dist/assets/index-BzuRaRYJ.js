import{_ as j}from"./imageInput-HznHGvld.js";import{s as q,n as P,f as Q,d as G}from"./apiService-ZDeyHYWa.js";import{p as H,o as K,h as W,u as X,z as Y,c as Z,A as ee,v as l,x as A,J as z,r as v,L as D,M as $,P as o,S as J,Q as t,T as u,q as le,V as B,U as te,F as ae,O as R}from"./index-8-hvCmbN.js";import{i as ne,y as I}from"./VImg-DBLXMCR_.js";import{V as r,a as oe,b as m}from"./VTextField-CFQLDkm_.js";import{V as L,a as se}from"./VCard-DGRuLcit.js";import{V as ue}from"./VForm-B_EL0jUM.js";import{m as de,V as E}from"./VCheckboxBtn-IS0F9Xtx.js";import{m as re,u as ie,V as T}from"./VInput-CksUo2uH.js";import{V as M}from"./VDialog-DLc3mcvA.js";import{_ as me}from"./ShowImages-DvkFP-8P.js";import{V as ce}from"./VTable-XS2vVGBs.js";import"./forwardRefs-D1SV4Fq_.js";import"./VChip-Czd9qrVr.js";import"./VSelectionControl-DqzzXhqp.js";import"./VOverlay-BcvO9eJh.js";import"./lazy-jQj3IBO2.js";const pe=H({...re(),...K(de(),["inline"])},"VCheckbox"),ve=W()({name:"VCheckbox",inheritAttrs:!1,props:pe(),emits:{"update:modelValue":y=>!0,"update:focused":y=>!0},setup(y,S){let{attrs:C,slots:U}=S;const _=X(y,"modelValue"),{isFocused:k,focus:s,blur:f}=ie(y),p=Y(),x=Z(()=>y.id||`checkbox-${p}`);return ne(()=>{const[b,g]=ee(C),i=T.filterProps(y),c=E.filterProps(y);return l(T,A({class:["v-checkbox",y.class]},b,i,{modelValue:_.value,"onUpdate:modelValue":V=>_.value=V,id:x.value,focused:k.value,style:y.style}),{...U,default:V=>{let{id:F,messagesId:n,isDisabled:h,isReadonly:N,isValid:O}=V;return l(E,A(c,{id:F.value,"aria-describedby":n.value,disabled:h.value,readonly:N.value},g,{error:O.value===!1,modelValue:_.value,"onUpdate:modelValue":d=>_.value=d,onFocus:s,onBlur:f}),U)}})}),{}}}),fe={class:"ma-5"},Ve={__name:"ExperienceForm",emits:["runItems"],setup(y,{expose:S,emit:C}){const U=z(),_=C,k=v(!1),s=v({}),f=v({}),p=v({}),x=v({}),b=v({}),g=v({}),i=v({}),c=v({}),V=v({});function F(){f.value={ar:"",en:""},p.value={ar:"",en:""},x.value={ar:"",en:""},b.value={ar:"",en:""},g.value={ar:"",en:""},i.value={ar:"",en:""},c.value={ar:"",en:""},V.value={ar:"",en:""},s.value={start_date:"",end_date:"",is_current:!1,id:null},k.value=!1,s.value.id&&_("runItems")}function n(d){const e=new FormData;e.append("title",JSON.stringify(f.value)),e.append("company",JSON.stringify(p.value)),e.append("description",JSON.stringify(x.value)),e.append("responsibilities",JSON.stringify(b.value)),e.append("achievements",JSON.stringify(g.value)),e.append("employment_type",JSON.stringify(i.value)),e.append("industry",JSON.stringify(c.value)),e.append("location",JSON.stringify(V.value)),e.append("user_id",U.user.id),e.append("is_current",s.value.is_current?1:0),e.append("end_date",s.value.end_date||""),e.append("start_date",s.value.start_date),d.length&&d.forEach(w=>{e.append("photos[]",w,w.name)}),s.value.id&&e.append("_method","put"),q("experiences",e,s.value.id).then(w=>{s.value=w.data,_("runItems"),F()})}const h=v(null),N=()=>{if(!f.value.ar&&!f.value.en){P("حقل العنوان مطلوب عربي او انجليزي");return}if(!p.value.ar&&!p.value.en){P("حقل الشركة مطلوب عربي او انجليزي");return}if(!s.value.start_date){P("حقل تاريخ البدء مطلوب ");return}if(!s.value.end_date&&!s.value.is_current){P("ادخل تاريخ الانتهاء او اختر حتي الان ");return}h.value&&h.value.compressImages()},O=(d={})=>{Object.keys(d).length!==0&&(f.value=d.title,p.value=d.company,x.value=d.description,b.value=d.responsibilities,g.value=d.achievements,i.value=d.employment_type,c.value=d.industry,V.value=d.location,s.value=d,d.end_date.en==="1"||d.end_date.en==="0"?(s.value.is_current=d.end_date.en==="1",s.value.end_date=""):s.value.end_date=d.end_date.en),k.value=!0};return S({addNew:O}),(d,e)=>{const w=j;return D(),$("div",null,[l(r,{cols:"auto"},{default:o(()=>[l(I,{onClick:e[0]||(e[0]=a=>O()),icon:"mdi-plus",color:"success",size:"small",to:""})]),_:1}),l(M,{class:"text-center",modelValue:k.value,"onUpdate:modelValue":e[20]||(e[20]=a=>k.value=a),"max-width":"900",persistent:""},{default:o(()=>[l(L,{class:"pa-5"},{actions:o(()=>[l(I,{onClick:F},{default:o(()=>[J(" اغلاق ")]),_:1}),l(I,{onClick:N},{default:o(()=>[J(" موافق ")]),_:1})]),default:o(()=>[t("h2",fe,u(s.value.id?"تعديل ":" اضافة "),1),l(ue,null,{default:o(()=>[l(oe,null,{default:o(()=>[l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:f.value.ar,"onUpdate:modelValue":e[1]||(e[1]=a=>f.value.ar=a),label:"العنوان"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:f.value.en,"onUpdate:modelValue":e[2]||(e[2]=a=>f.value.en=a),label:"Title"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:p.value.ar,"onUpdate:modelValue":e[3]||(e[3]=a=>p.value.ar=a),label:"الشركة"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:p.value.en,"onUpdate:modelValue":e[4]||(e[4]=a=>p.value.en=a),label:"Company"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:x.value.ar,"onUpdate:modelValue":e[5]||(e[5]=a=>x.value.ar=a),label:"الوصف"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:x.value.en,"onUpdate:modelValue":e[6]||(e[6]=a=>x.value.en=a),label:"Description"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:b.value.ar,"onUpdate:modelValue":e[7]||(e[7]=a=>b.value.ar=a),label:"المسؤوليات"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:b.value.en,"onUpdate:modelValue":e[8]||(e[8]=a=>b.value.en=a),label:"Responsibilities"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:g.value.ar,"onUpdate:modelValue":e[9]||(e[9]=a=>g.value.ar=a),label:"الإنجازات"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:g.value.en,"onUpdate:modelValue":e[10]||(e[10]=a=>g.value.en=a),label:"Achievements"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:i.value.ar,"onUpdate:modelValue":e[11]||(e[11]=a=>i.value.ar=a),label:"نوع الوظيفه"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:i.value.en,"onUpdate:modelValue":e[12]||(e[12]=a=>i.value.en=a),label:"Employment Type"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:c.value.ar,"onUpdate:modelValue":e[13]||(e[13]=a=>c.value.ar=a),label:"المجال"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:c.value.en,"onUpdate:modelValue":e[14]||(e[14]=a=>c.value.en=a),label:"Industry"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:V.value.ar,"onUpdate:modelValue":e[15]||(e[15]=a=>V.value.ar=a),label:"الموقع"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{modelValue:V.value.en,"onUpdate:modelValue":e[16]||(e[16]=a=>V.value.en=a),label:"Location"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{type:"date",modelValue:s.value.start_date,"onUpdate:modelValue":e[17]||(e[17]=a=>s.value.start_date=a),label:"تاريخ البدء"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(ve,{modelValue:s.value.is_current,"onUpdate:modelValue":e[18]||(e[18]=a=>s.value.is_current=a),label:"حتي الان"},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",md:"6"},{default:o(()=>[l(m,{type:"date",modelValue:s.value.end_date,"onUpdate:modelValue":e[19]||(e[19]=a=>s.value.end_date=a),label:"تاريخ الانتهاء"},null,8,["modelValue"])]),_:1}),l(w,{ref_key:"imageInputRef",ref:h,onSaveCompressedImages:n},null,512)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},_e=t("h2",{class:"ma-5"},"هل تريد حذف العنصر بالفعل",-1),ye=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"#"),t("th",{class:"text-center"},"العنوان"),t("th",{class:"text-center"},"title"),t("th",{class:"text-center"},"الشركة"),t("th",{class:"text-center"},"Company"),t("th",{class:"text-center"},"الوصف"),t("th",{class:"text-center"},"Description"),t("th",{class:"text-center"},"المسؤوليات"),t("th",{class:"text-center"},"responsibilities"),t("th",{class:"text-center"},"الإنجازات"),t("th",{class:"text-center"},"achievements"),t("th",{class:"text-center"},"نوع الوظيفه"),t("th",{class:"text-center"},"employmenttype"),t("th",{class:"text-center"},"المجال"),t("th",{class:"text-center"},"industry"),t("th",{class:"text-center"},"الموقع"),t("th",{class:"text-center"},"location"),t("th",{class:"text-center"},"تاريخ البدء"),t("th",{class:"text-center"},"تاريخ الانتهاء"),t("th",{class:"text-center"},"End Date"),t("th",{class:"text-center"},"تاريخ الانشاء"),t("th",{class:"text-center sticky-column"},". . .")])],-1),xe={class:"sticky-column"},be={key:1,class:"text-alert"},Re={__name:"index",setup(y){const S=z(),C=v(!1),U=v(null),_=v([]),k=v(""),s=v(null),f=i=>{s.value.opaenDialog(i)};le(()=>{p()});function p(){S.loadengApi=!0,Q("experiences").then(i=>{_.value=i.data,k.value=""})}function x(i){C.value=!0,k.value=i}function b(){S.loadengApi=!0,G("experiences/delete",{id:[k.value.id]}).then(()=>{p(),C.value=!1})}const g=i=>{var c;(c=U.value)==null||c.addNew(i)};return(i,c)=>{const V=me,F=Ve;return D(),B(se,null,{default:o(()=>[l(M,{class:"text-center",modelValue:C.value,"onUpdate:modelValue":c[1]||(c[1]=n=>C.value=n),"max-width":"400",persistent:""},{default:o(()=>[l(L,{class:"pa-5"},{default:o(()=>[_e,l(I,{class:"ma-1",onClick:b},{default:o(()=>[J(" موافق ")]),_:1}),l(I,{class:"ma-1",onClick:c[0]||(c[0]=n=>C.value=!1)},{default:o(()=>[J(" اغلاق ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(V,{ref_key:"isShowImage",ref:s,onRunItems:p},null,512),l(F,{ref_key:"itemForm",ref:U,onRunItems:p},null,512),_.value.length>0?(D(),B(ce,{key:0,style:{"white-space":"nowrap"},dir:"rtl",class:"h"},{default:o(()=>[ye,t("tbody",null,[(D(!0),$(ae,null,te(_.value,(n,h)=>(D(),$("tr",{key:n.id},[t("td",null,u(h+1),1),t("td",null,u(n.title.ar),1),t("td",null,u(n.title.en),1),t("td",null,u(n.company.ar),1),t("td",null,u(n.company.en),1),t("td",null,u(n.description.ar),1),t("td",null,u(n.description.en),1),t("td",null,u(n.responsibilities.ar),1),t("td",null,u(n.responsibilities.en),1),t("td",null,u(n.achievements.ar),1),t("td",null,u(n.achievements.en),1),t("td",null,u(n.employment_type.ar),1),t("td",null,u(n.employment_type.en),1),t("td",null,u(n.industry.ar),1),t("td",null,u(n.industry.en),1),t("td",null,u(n.location.ar),1),t("td",null,u(n.location.en),1),t("td",null,u(n.start_date),1),t("td",null,u(n.end_date.ar=="1"?"حتي الان":n.end_date.ar),1),t("td",null,u(n.end_date.en=="1"?"so far":n.end_date.en),1),t("td",null,u(n.created_at),1),t("td",xe,[l(I,{onClick:N=>f(n.photos),icon:"mdi-image-edit-outline",color:"info",size:"small"},null,8,["onClick"]),l(I,{onClick:N=>x(n),class:"mx-3",icon:"mdi-delete",color:"red",size:"small"},null,8,["onClick"]),l(I,{onClick:N=>g(n),icon:"mdi-pencil",color:"info",size:"small"},null,8,["onClick"])])]))),128))])]),_:1})):R("",!0),_.value.length?R("",!0):(D(),$("p",be,"لا توجد اي بيانات"))]),_:1})}}};export{Re as default};
