import{J as E,r as p,L as k,M as T,v as l,P as a,S as y,Q as o,T as h,X as b,_ as v,q as B,V as U,U as D,F as R}from"./index-CHSsISAk.js";import{t as V}from"./VBtn--KRQPwnb.js";import{V as F,a as z,b as A}from"./VTextField-CMKdPTNq.js";import{V as L,a as J}from"./VCard-BL9DEfJB.js";import{V as j}from"./VForm-BaNyfaXN.js";import{V as M}from"./VSelect-BX3frkbO.js";import{V as P}from"./VDialog-BNJ3JSQl.js";import{V as W}from"./VTable-EVip0ejl.js";import"./VIcon-Cq3ABlBs.js";import"./VInput-BZcQNRFC.js";import"./VList-DzWxr-pL.js";import"./VOverlay-BkT7euYh.js";import"./VMenu-DO1D66E9.js";import"./VCheckboxBtn-D9UKCKFZ.js";import"./VSelectionControl-BKER4lii.js";import"./VChip-B8T8vs9v.js";const q={class:"ma-5"},H={__name:"SocialForm",emits:["runItems"],setup($,{expose:_,emit:O}){const d=E(),g=O,c=p(!1),t=p({}),r=p({}),x=p({}),f=p({name:"اختر موقع تواصل",icon:"mdi-web"}),C=[{name:"Facebook",icon:"mdi-facebook",color:"#1877F2",namear:"فيس بوك"},{name:"Twitter",icon:"mdi-twitter",color:"#1DA1F2",namear:"تويتر"},{name:"Instagram",icon:"mdi-instagram",color:"#E4405F",namear:"انستجرام"},{name:"Linked In",icon:"mdi-linkedin",color:"#0077B5",namear:"لينكيد ان"},{name:"YouTube",icon:"mdi-youtube",color:"#FF0000",namear:"يوتيوب"},{name:"Web Site",icon:"mdi-web",color:"#000000",namear:"موقع شخصي"}];function N(e){r.value.en=e.name,r.value.ar=e.namear,x.value.icon=e.icon,x.value.color=e.color}const n=e=>{v.success(e,{theme:"colored",position:v.POSITION.TOP_LEFT})},m=e=>{v.error(e,{theme:"colored",position:v.POSITION.TOP_LEFT})};function S(){c.value=!1,g("runItems")}function i(e){return e.startsWith("https://")?e:"https://"+e}function w(){d.loadengApi=!0,t.value.name=JSON.stringify(r.value),t.value.icon=JSON.stringify(x.value),t.value.user_id=d.user.id,t.value.url=i(t.value.url),t.value.id?b.put(`socials/${t.value.id}`,t.value).then(e=>{g("runItems"),S(),d.loadengApi=!1,n(" تم التعديل ")}).catch(e=>{d.loadengApi=!1,m(e.response.data.message)}):b.post("socials",t.value).then(e=>{g("runItems"),S(),d.loadengApi=!1,n(" تم الحفظ ")}).catch(e=>{d.loadengApi=!1,m(e.response.data.message)})}const I=(e={})=>{Object.keys(e).length!==0&&(r.value=e.name),c.value=!0,t.value=e};return _({addNew:I}),(e,s)=>(k(),T("div",null,[l(F,{cols:"auto"},{default:a(()=>[l(V,{onClick:s[0]||(s[0]=u=>I()),icon:"mdi-plus",color:"success",size:"small",to:""})]),_:1}),l(P,{class:"text-center",modelValue:c.value,"onUpdate:modelValue":s[6]||(s[6]=u=>c.value=u),"max-width":"900",persistent:""},{default:a(()=>[l(L,{class:"pa-5"},{actions:a(()=>[l(V,{onClick:S},{default:a(()=>[y(" اغلاق ")]),_:1}),l(V,{onClick:w},{default:a(()=>[y(" موافق ")]),_:1})]),default:a(()=>[o("h2",q,h(t.value.id?"تعديل ":" اضافة "),1),l(j,null,{default:a(()=>[l(z,null,{default:a(()=>[l(F,{cols:"12",md:"6"},{default:a(()=>[l(M,{modelValue:f.value,"onUpdate:modelValue":[s[1]||(s[1]=u=>f.value=u),s[2]||(s[2]=u=>N(f.value))],items:C,"item-title":"name","prepend-icon":f.value.icon,"item-value":"icon",label:"Select Social","single-line":"","return-object":"","prepend-item":""},null,8,["modelValue","prepend-icon"])]),_:1}),l(F,{cols:"12",md:"6"},{default:a(()=>[l(A,{modelValue:r.value.ar,"onUpdate:modelValue":s[3]||(s[3]=u=>r.value.ar=u),label:"الاسم"},null,8,["modelValue"])]),_:1}),l(F,{cols:"12",md:"6"},{default:a(()=>[l(A,{modelValue:r.value.en,"onUpdate:modelValue":s[4]||(s[4]=u=>r.value.en=u),label:"name"},null,8,["modelValue"])]),_:1}),l(F,{cols:"12",md:"6"},{default:a(()=>[l(A,{modelValue:t.value.url,"onUpdate:modelValue":s[5]||(s[5]=u=>t.value.url=u),label:"URL"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Q=o("h2",{class:"ma-5"},"هل تريد حذف العنصر بالفعل",-1),X=o("thead",null,[o("tr",null,[o("th",{class:"text-center"},"#"),o("th",{class:"text-center"},"الاسم"),o("th",{class:"text-center"},"name"),o("th",{class:"text-center"},"URL"),o("th",{class:"text-center"},"تاريخ الانشاء"),o("th",{class:"text-center sticky-column"},". . .")])],-1),Y={class:"sticky-column"},G={key:1,class:"text-alert"},fe={__name:"index",setup($){const _=E(),O=n=>{v.success(n,{theme:"colored",position:v.POSITION.TOP_LEFT})},d=n=>{v.error(n,{theme:"colored",position:v.POSITION.TOP_LEFT})},g=p(null),c=p(!1),t=p([]),r=p("");function x(n){c.value=!0,r.value=n}B(()=>{f()});function f(){_.loadengApi=!0,b.get("socials",t.value).then(n=>{t.value=n.data.data,_.loadengApi=!1,r.value=""}).catch(()=>{d("هناك خطا ما حاول مره اخري")})}function C(){_.loadengApi=!0,b.post("socials/delete",{id:[r.value.id]}).then(()=>{f(),c.value=!1,_.loadengApi=!1,O(" تم الحذف")}).catch(n=>{d(n.response.data.message)})}const N=n=>{var m;(m=g.value)==null||m.addNew(n)};return(n,m)=>{const S=H;return k(),U(J,null,{default:a(()=>[l(P,{class:"text-center",modelValue:c.value,"onUpdate:modelValue":m[1]||(m[1]=i=>c.value=i),"max-width":"400",persistent:""},{default:a(()=>[l(L,{class:"pa-5"},{default:a(()=>[Q,l(V,{class:"ma-1",onClick:C},{default:a(()=>[y(" موافق ")]),_:1}),l(V,{class:"ma-1",onClick:m[0]||(m[0]=i=>c.value=!1)},{default:a(()=>[y(" اغلاق ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(S,{ref_key:"itemForm",ref:g,onRunItems:f},null,512),t.value.length>0?(k(),U(W,{key:0,style:{"white-space":"nowrap"},dir:"rtl",class:"h"},{default:a(()=>[X,o("tbody",null,[(k(!0),T(R,null,D(t.value,(i,w)=>(k(),T("tr",{key:i.id},[o("td",null,h(w+1),1),o("td",null,h(i.name.ar),1),o("td",null,h(i.name.en),1),o("td",null,h(i.url),1),o("td",null,h(i.created_at),1),o("td",Y,[l(V,{onClick:I=>x(i),class:"mx-3",icon:"mdi-delete",color:"red",size:"small"},null,8,["onClick"]),l(V,{onClick:I=>N(i),icon:"mdi-pencil",color:"info",size:"small"},null,8,["onClick"])])]))),128))])]),_:1})):(k(),T("p",G,"لا توجد اي بيانات"))]),_:1})}}};export{fe as default};
