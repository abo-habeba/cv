import{F as A,r as v,q as P,H as V,I,v as e,L as t,O as g,S as k,K as y,M as S,P as L,U as T,a8 as H,J as n,Q as J,R as M,aE as q}from"./index-DPWm9XzS.js";import{w as x,x as C,v as O}from"./forwardRefs-DKpHY5Zg.js";import{a as r,V as w}from"./VRow-CI3MmTW1.js";import{V as E,b as z}from"./VGrid-CRHmVRO2.js";import{V as B}from"./VForm-d85ciUQk.js";import{V as f}from"./VTextField-CR9bDLAo.js";import{V as U}from"./VTextarea-PQR6vKoR.js";import{V as K,_ as Q}from"./imageInput-xqKmzHqp.js";import{V as $}from"./VDialog-s3dVc7bY.js";import{b as j,s as G}from"./apiService-BFFvAjAB.js";import{V as W,a as i}from"./VList-4O3oEbBC.js";import{V as X}from"./VContainer-Dp-T9H0r.js";import"./VLabel-mIdYYJao.js";import"./index-NCSv7CNm.js";import"./VChip-BWdBJc8f.js";import"./VOverlay-BljqPTIq.js";import"./ssrBoot-DwRITX12.js";const Y=S("h2",{class:"ma-5"},L("تعديل "),-1),Z={__name:"UserForm",emits:["runItems"],setup(R,{expose:N,emit:D}){const o=A(),p=v(!1),_=v(null),a=v({}),c=v(null);P(()=>{a.value=o.user,c.value=o.user.profile_image});const b=u=>{H.error(u,{theme:"colored",position:H.POSITION.TOP_LEFT})};function h(){p.value=!1}const F=()=>{const u=_.value;if(u){const l=new FileReader;l.onload=s=>{c.value=s.target.result},l.readAsDataURL(u)}else c.value=null};function d(){o.loadengApi=!0;const u=new FormData;u.append("first_name",JSON.stringify(a.value.first_name)),u.append("last_name",JSON.stringify(a.value.last_name)),u.append("address",JSON.stringify(a.value.address)),u.append("bio_ar",a.value.bio_ar),u.append("bio_en",a.value.bio_en),u.append("about_ar",a.value.about_ar),u.append("about_en",a.value.about_en),u.append("position",JSON.stringify(a.value.position)),u.append("email",a.value.email),u.append("phone",a.value.phone),_.value&&u.append("profile_image",_.value),u.append("_method","put"),T.post(`users/${a.value.id}`,u).then(l=>{o.fetchUser().then(()=>{o.loadengApi=!1})}).catch(l=>{o.loadengApi=!1,b("هناك خطا ما حاول مره اخري")})}return N({dialogForm:()=>{p.value=!0}}),(u,l)=>(V(),I("div",null,[e(r,{cols:"auto"},{default:t(()=>[e(x,{class:"ma-1",color:"success"},{default:t(()=>[g(" تعديل البيانات "),e(C,{icon:"mdi-square-edit-outline",end:""})]),_:1})]),_:1}),e($,{class:"text-center",modelValue:p.value,"onUpdate:modelValue":l[15]||(l[15]=s=>p.value=s),"max-width":"900",persistent:""},{default:t(()=>[e(E,{class:"pa-5"},{actions:t(()=>[e(x,{onClick:h},{default:t(()=>[g(" اغلاق ")]),_:1}),e(x,{onClick:d},{default:t(()=>[g(" موافق ")]),_:1})]),default:t(()=>[Y,e(B,null,{default:t(()=>[e(w,null,{default:t(()=>[e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:a.value.first_name.ar,"onUpdate:modelValue":l[0]||(l[0]=s=>a.value.first_name.ar=s),label:" الاسم الاول "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:a.value.first_name.en,"onUpdate:modelValue":l[1]||(l[1]=s=>a.value.first_name.en=s),label:"First Name"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:a.value.last_name.ar,"onUpdate:modelValue":l[2]||(l[2]=s=>a.value.last_name.ar=s),label:" الاسم الاخير "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:a.value.last_name.en,"onUpdate:modelValue":l[3]||(l[3]=s=>a.value.last_name.en=s),label:" Last Name"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:a.value.address.ar,"onUpdate:modelValue":l[4]||(l[4]=s=>a.value.address.ar=s),label:" العنوان "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:a.value.address.en,"onUpdate:modelValue":l[5]||(l[5]=s=>a.value.address.en=s),label:" Address"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:a.value.position.ar,"onUpdate:modelValue":l[6]||(l[6]=s=>a.value.position.ar=s),label:" الوظيفة "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:a.value.position.en,"onUpdate:modelValue":l[7]||(l[7]=s=>a.value.position.en=s),label:" Position"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(U,{dir:"rtl",style:{direction:"rtl","text-align":"right","unicode-bidi":"bidi-override"},modelValue:a.value.bio_ar,"onUpdate:modelValue":l[8]||(l[8]=s=>a.value.bio_ar=s),label:" نبذه عنك "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(U,{modelValue:a.value.bio_en,"onUpdate:modelValue":l[9]||(l[9]=s=>a.value.bio_en=s),label:" Bio"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(U,{dir:"rtl",style:{direction:"rtl","text-align":"right","unicode-bidi":"bidi-override"},modelValue:a.value.about_ar,"onUpdate:modelValue":l[10]||(l[10]=s=>a.value.about_ar=s),label:"  عني "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(U,{modelValue:a.value.about_en,"onUpdate:modelValue":l[11]||(l[11]=s=>a.value.about_en=s),label:" About Me"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:a.value.email,"onUpdate:modelValue":l[12]||(l[12]=s=>a.value.email=s),label:" Email"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(f,{modelValue:a.value.phone,"onUpdate:modelValue":l[13]||(l[13]=s=>a.value.phone=s),label:" Phone"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(K,{modelValue:_.value,"onUpdate:modelValue":l[14]||(l[14]=s=>_.value=s),label:" الصورة الشخصيه ",accept:"image/*","prepend-icon":"mdi-camera",onChange:F},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[c.value?(V(),k(O,{key:0,style:{margin:"auto"},src:c.value,"max-width":"200"},null,8,["src"])):y("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},ee=S("h2",{class:"ma-5"},"صور الرئيسية",-1),le={key:1,class:"text-alert"},ae=S("h3",null,"يمكنك تحميل صوره او اكثر",-1),te={__name:"HeroForm",emits:["runItems"],setup(R,{expose:N,emit:D}){const o=A(),p=v(!1),_=d=>{j("photo",d).then(()=>{o.user.hero=o.user.hero.filter(m=>m.id!==d)})};function a(){p.value=!1}function c(d){const m=new FormData;m.append("user_id",o.user.id),d.length&&d.forEach(u=>{m.append("hero[]",u,u.name)}),m.append("_method","put"),G("users",m,o.user.id).then(u=>{o.user.hero=u.data.hero})}const b=v(null),h=()=>{b.value&&b.value.compressImages(5).then(d=>{c(d)}).catch(d=>{console.log("error ",d)})},F=()=>{p.value=!0};return N({openDialogShowHero:F}),(d,m)=>{const u=Q;return V(),I("div",null,[e(r,{cols:"auto"},{default:t(()=>[e(x,{class:"ma-1",color:"info",onClick:m[0]||(m[0]=l=>F())},{default:t(()=>[g(" تعديل صور الرئيسية "),e(C,{icon:"mdi-image-outline",end:""})]),_:1})]),_:1}),e($,{style:{"z-index":"50"},class:"text-center",modelValue:p.value,"onUpdate:modelValue":m[1]||(m[1]=l=>p.value=l),"max-width":"900",persistent:""},{default:t(()=>[e(E,{class:"pa-5"},{actions:t(()=>[e(x,{onClick:a},{default:t(()=>[g(" اغلاق ")]),_:1}),e(x,{onClick:h},{default:t(()=>[g(" موافق ")]),_:1})]),default:t(()=>[ee,n(o).user.hero.length?(V(),k(w,{key:0,style:{"background-color":"#ada7a0","text-align":"center","overflow-x":"auto"}},{default:t(()=>[(V(!0),I(J,null,M(n(o).user.hero,l=>(V(),k(r,{key:l,class:"d-flex child-flex"},{default:t(()=>[e(O,{"min-width":"150px","max-width":"300px",src:l.path,"aspect-ratio":"1",class:"bg-grey-lighten-2",cover:""},{default:t(()=>[e(C,{onClick:q(s=>_(l.id),["stop"]),class:"icon-delete-image",icon:"mdi-delete-outline"},null,8,["onClick"])]),_:2},1032,["src"])]),_:2},1024))),128))]),_:1})):y("",!0),n(o).user.hero.length?y("",!0):(V(),I("p",le,"لا توجد صور")),e(B,null,{default:t(()=>[e(w,{class:"my-10"},{default:t(()=>[ae,e(u,{ref_key:"imageInputRef",ref:b,onSaveCompressedImages:c},null,512)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},xe={__name:"index",setup(R){const N=v(null),D=v(null),o=A(),p=()=>{N.value.dialogForm()},_=()=>{D.value.openDialogShowHero()};return(a,c)=>{const b=Z;return n(o).loadengApi?y("",!0):(V(),k(X,{key:0,class:"user-info"},{default:t(()=>[e(b,{ref_key:"dialogItemForm",ref:N,onClick:p},null,512),e(te,{ref_key:"dialogHeroForm",ref:D,onClick:_},null,512),e(E,{title:(n(o).user.first_name.en||"N D")+" - "+(n(o).user.first_name.ar||"N D"),subtitle:n(o).user.email||"N D",class:"mt-1"},{default:t(()=>[e(z,null,{default:t(()=>[g(L(n(o).user.phone),1)]),_:1}),e(W,null,{default:t(()=>[e(i,{class:"ma-2 pa-2",subtitle:n(o).user.first_name.en||"N D",title:"First Name (EN)"},null,8,["subtitle"]),e(i,{class:"ma-2 pa-2",subtitle:n(o).user.first_name.ar||"N D",title:"الاسم الاول (AR)"},null,8,["subtitle"]),e(i,{class:"ma-2 pa-2",subtitle:n(o).user.last_name.en||"N D",title:"Last Name (EN)"},null,8,["subtitle"]),e(i,{class:"ma-2 pa-2",subtitle:n(o).user.last_name.ar||"N D",title:"الاسم الاخير (AR)"},null,8,["subtitle"]),e(i,{class:"ma-2 pa-2",subtitle:n(o).user.address.en||"N D",title:"Address (EN)"},null,8,["subtitle"]),e(i,{class:"ma-2 pa-2",subtitle:n(o).user.address.ar||"N D",title:"العنوان (AR)"},null,8,["subtitle"]),e(i,{class:"ma-2 pa-2",subtitle:n(o).user.bio_en||"N D",title:"Bio (EN)"},null,8,["subtitle"]),e(i,{class:"ma-2 pa-2",subtitle:n(o).user.bio_ar||"N D",title:"نبذه عنك (AR)"},null,8,["subtitle"]),e(i,{class:"ma-2 pa-2",subtitle:n(o).user.about_en||"N D",title:"About Me (EN)"},null,8,["subtitle"]),e(i,{class:"ma-2 pa-2",subtitle:n(o).user.about_ar||"N D",title:" عني (AR)"},null,8,["subtitle"]),e(i,{class:"ma-2 pa-2",subtitle:n(o).user.position.en||"N D",title:"Position (EN)"},null,8,["subtitle"]),e(i,{class:"ma-2 pa-2",subtitle:n(o).user.position.ar||"N D",title:"الوظيفة (AR)"},null,8,["subtitle"]),e(i,{class:"ma-2 pa-2",subtitle:n(o).user.username||"N D",title:"User Name"},null,8,["subtitle"])]),_:1})]),_:1},8,["title","subtitle"])]),_:1}))}}};export{xe as default};
