import{_ as w}from"./ThemeSettings-LYEVB81B.js";import{F as A,r as i,q as B,U as k,H as n,S as _,L as o,v as r,O as V,J as D,K as E,M as e,I as g,R as P,Q as L,a9 as m,P as a}from"./index-DoUa79Mj.js";import{V as j}from"./VRow-DZDJQVib.js";import{k as p}from"./VBtn-ByDIVYCH.js";import{V as M}from"./VDialog-D8YprR3A.js";import{V as U}from"./VTable-B0P-F9Du.js";import{V as $}from"./VContainer-D3lAfPRy.js";import"./apiService-Q18LkiAH.js";import"./index-CPodMjtC.js";import"./VTextField-DwDypr5x.js";import"./forwardRefs-ByVqR1CM.js";import"./VInput-BG1HDC-H.js";import"./VForm-B_Ufe_Z7.js";import"./VSwitch-B4XaDZ4X.js";import"./VOverlay-DALfeHwa.js";const z=e("h2",{class:"ma-5"},"هل تريد حذف العنصر بالفعل",-1),q=e("thead",null,[e("tr",null,[e("th",{class:"text-center"},"#"),e("th",{class:"text-center"},"الاسم"),e("th",{class:"text-center"},"Name"),e("th",{class:"text-center"},"البريد الإلكتروني"),e("th",{class:"text-center"},"الهاتف"),e("th",{class:"text-center"},"الرسالة"),e("th",{class:"text-center"},"Message"),e("th",{class:"text-center"},"الموضوع"),e("th",{class:"text-center"},"Subject"),e("th",{class:"text-center"},"تاريخ الإنشاء"),e("th",{class:"text-center"})])],-1),H={key:2,class:"text-alert mt-10"},re={__name:"index",setup(J){const c=A(),T=l=>{m.success(l,{theme:"colored",position:m.POSITION.TOP_LEFT})},x=l=>{m.error(l,{theme:"colored",position:m.POSITION.TOP_LEFT})},C=i(null),u=i(!1),d=i([]),f=i("");function y(l){u.value=!0,f.value=l}B(()=>{v()});function v(){c.loadengApi=!0,k.get("contacts",d.value).then(l=>{d.value=l.data.data,c.loadengApi=!1,f.value=""}).catch(()=>{x("هناك خطا ما حاول مره اخري")})}const h=i(null);function F(){h.value?h.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}function S(){c.loadengApi=!0,k.post("contacts/delete",{id:[f.value.id]}).then(()=>{v(),u.value=!1,c.loadengApi=!1,T(" تم الحذف")}).catch(l=>{x(l.response.data.message)})}const I=l=>{var s;(s=C.value)==null||s.addNew(l)};return(l,s)=>{const N=w;return n(),_($,null,{default:o(()=>[r(M,{class:"text-center",modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=t=>u.value=t),"max-width":"400",persistent:""},{default:o(()=>[r(j,{class:"pa-5"},{default:o(()=>[z,r(p,{class:"ma-1",onClick:S},{default:o(()=>[V(" موافق ")]),_:1}),r(p,{class:"ma-1",onClick:s[0]||(s[0]=t=>u.value=!1)},{default:o(()=>[V(" اغلاق ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),D(c).user?(n(),_(N,{key:0,ref_key:"dialogThemeForm",ref:h,detTheme:{nameEn:"contacts",nameAr:"الرسائل"},onClick:F},null,512)):E("",!0),d.value.length>0?(n(),_(U,{key:1,style:{"white-space":"nowrap"},dir:"rtl",class:"h mt-10"},{default:o(()=>[q,e("tbody",null,[(n(!0),g(L,null,P(d.value,(t,O)=>(n(),g("tr",{key:t.id},[e("td",null,a(O+1),1),e("td",null,a(t.name.ar),1),e("td",null,a(t.name.en),1),e("td",null,a(t.email),1),e("td",null,a(t.phone),1),e("td",null,a(t.message.ar),1),e("td",null,a(t.message.en),1),e("td",null,a(t.subject.ar),1),e("td",null,a(t.subject.en),1),e("td",null,a(t.created_at),1),e("td",null,[r(p,{onClick:b=>y(t),class:"ml-3",icon:"mdi-delete",color:"red",size:"small"},null,8,["onClick"]),r(p,{onClick:b=>I(t),icon:"mdi-pencil",color:"info",size:"small"},null,8,["onClick"])])]))),128))])]),_:1})):(n(),g("p",H,"لا توجد اي بيانات"))]),_:1})}}};export{re as default};
