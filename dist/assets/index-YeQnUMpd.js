import{F as E,r as p,H as k,I as y,v as l,L as a,O as T,M as o,P as h,U as O,a8 as v,q as B,S as U,R as D,Q as R}from"./index-C9-L3znq.js";import{w as V}from"./forwardRefs-DXUWX5LN.js";import{a as S,V as z}from"./VRow-Dm3f_HG2.js";import{V as L}from"./VGrid-DqWG7hzz.js";import{V as j}from"./VForm-Hm7n8v5y.js";import{V as H}from"./VSelect-QzcX4YLP.js";import{V as A}from"./VTextField-Dmrpf2N5.js";import{V as P}from"./VDialog-awU-l5Qt.js";import{V as J}from"./VTable-bKTshxUm.js";import{V as M}from"./VContainer-SE2gnIqO.js";import"./VLabel-ajx4_Azj.js";import"./index-BX_qdcTz.js";import"./VList-anYahiKW.js";import"./ssrBoot-DuaYM-Ci.js";import"./VOverlay-OXiykCic.js";import"./VMenu-C5y4b75W.js";import"./VCheckboxBtn-CbWTYaIN.js";import"./VSelectionControl-ZkNAZDGn.js";import"./VChip-pk-8Kl9Y.js";const W={class:"ma-5"},q={__name:"SocialForm",emits:["runItems"],setup($,{expose:_,emit:b}){const d=E(),g=b,m=p(!1),t=p({}),r=p({}),x=p({}),f=p({name:"اختر موقع تواصل",icon:"mdi-web"}),w=[{name:"Facebook",icon:"mdi-facebook",color:"#1877F2",namear:"فيس بوك"},{name:"Twitter",icon:"mdi-twitter",color:"#1DA1F2",namear:"تويتر"},{name:"Instagram",icon:"mdi-instagram",color:"#E4405F",namear:"انستجرام"},{name:"Linked In",icon:"mdi-linkedin",color:"#0077B5",namear:"لينكيد ان"},{name:"YouTube",icon:"mdi-youtube",color:"#FF0000",namear:"يوتيوب"},{name:"Web Site",icon:"mdi-web",color:"#000000",namear:"موقع شخصي"}];function C(e){r.value.en=e.name,r.value.ar=e.namear,x.value.icon=e.icon,x.value.color=e.color}const n=e=>{v.success(e,{theme:"colored",position:v.POSITION.TOP_LEFT})},c=e=>{v.error(e,{theme:"colored",position:v.POSITION.TOP_LEFT})};function I(){m.value=!1,g("runItems")}function i(e){return e.startsWith("https://")?e:"https://"+e}function N(){d.loadengApi=!0,t.value.name=JSON.stringify(r.value),t.value.icon=JSON.stringify(x.value),t.value.user_id=d.user.id,t.value.url=i(t.value.url),t.value.id?O.put(`socials/${t.value.id}`,t.value).then(e=>{g("runItems"),I(),d.loadengApi=!1,n(" تم التعديل ")}).catch(e=>{d.loadengApi=!1,c(e.response.data.message)}):O.post("socials",t.value).then(e=>{g("runItems"),I(),d.loadengApi=!1,n(" تم الحفظ ")}).catch(e=>{d.loadengApi=!1,c(e.response.data.message)})}const F=(e={})=>{Object.keys(e).length!==0&&(r.value=e.name),m.value=!0,t.value=e};return _({addNew:F}),(e,s)=>(k(),y("div",null,[l(S,{cols:"auto"},{default:a(()=>[l(V,{onClick:s[0]||(s[0]=u=>F()),icon:"mdi-plus",color:"success",size:"small",to:""})]),_:1}),l(P,{class:"text-center",modelValue:m.value,"onUpdate:modelValue":s[6]||(s[6]=u=>m.value=u),"max-width":"900",persistent:""},{default:a(()=>[l(L,{class:"pa-5"},{actions:a(()=>[l(V,{onClick:I},{default:a(()=>[T(" اغلاق ")]),_:1}),l(V,{onClick:N},{default:a(()=>[T(" موافق ")]),_:1})]),default:a(()=>[o("h2",W,h(t.value.id?"تعديل ":" اضافة "),1),l(j,null,{default:a(()=>[l(z,null,{default:a(()=>[l(S,{cols:"12",md:"6"},{default:a(()=>[l(H,{modelValue:f.value,"onUpdate:modelValue":[s[1]||(s[1]=u=>f.value=u),s[2]||(s[2]=u=>C(f.value))],items:w,"item-title":"name","prepend-icon":f.value.icon,"item-value":"icon",label:"Select Social","single-line":"","return-object":"","prepend-item":""},null,8,["modelValue","prepend-icon"])]),_:1}),l(S,{cols:"12",md:"6"},{default:a(()=>[l(A,{modelValue:r.value.ar,"onUpdate:modelValue":s[3]||(s[3]=u=>r.value.ar=u),label:"الاسم"},null,8,["modelValue"])]),_:1}),l(S,{cols:"12",md:"6"},{default:a(()=>[l(A,{modelValue:r.value.en,"onUpdate:modelValue":s[4]||(s[4]=u=>r.value.en=u),label:"name"},null,8,["modelValue"])]),_:1}),l(S,{cols:"12",md:"6"},{default:a(()=>[l(A,{modelValue:t.value.url,"onUpdate:modelValue":s[5]||(s[5]=u=>t.value.url=u),label:"URL"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Q=o("h2",{class:"ma-5"},"هل تريد حذف العنصر بالفعل",-1),Y=o("thead",null,[o("tr",null,[o("th",{class:"text-center"},"#"),o("th",{class:"text-center"},"الاسم"),o("th",{class:"text-center"},"name"),o("th",{class:"text-center"},"URL"),o("th",{class:"text-center"},"تاريخ الانشاء"),o("th",{class:"text-center sticky-column"},". . .")])],-1),G={class:"sticky-column"},K={key:1,class:"text-alert"},_e={__name:"index",setup($){const _=E(),b=n=>{v.success(n,{theme:"colored",position:v.POSITION.TOP_LEFT})},d=n=>{v.error(n,{theme:"colored",position:v.POSITION.TOP_LEFT})},g=p(null),m=p(!1),t=p([]),r=p("");function x(n){m.value=!0,r.value=n}B(()=>{f()});function f(){_.loadengApi=!0,O.get("socials",t.value).then(n=>{t.value=n.data.data,_.loadengApi=!1,r.value=""}).catch(()=>{d("هناك خطا ما حاول مره اخري")})}function w(){_.loadengApi=!0,O.post("socials/delete",{id:[r.value.id]}).then(()=>{f(),m.value=!1,_.loadengApi=!1,b(" تم الحذف")}).catch(n=>{d(n.response.data.message)})}const C=n=>{var c;(c=g.value)==null||c.addNew(n)};return(n,c)=>{const I=q;return k(),U(M,null,{default:a(()=>[l(P,{class:"text-center",modelValue:m.value,"onUpdate:modelValue":c[1]||(c[1]=i=>m.value=i),"max-width":"400",persistent:""},{default:a(()=>[l(L,{class:"pa-5"},{default:a(()=>[Q,l(V,{class:"ma-1",onClick:w},{default:a(()=>[T(" موافق ")]),_:1}),l(V,{class:"ma-1",onClick:c[0]||(c[0]=i=>m.value=!1)},{default:a(()=>[T(" اغلاق ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(I,{ref_key:"itemForm",ref:g,onRunItems:f},null,512),t.value.length>0?(k(),U(J,{key:0,style:{"white-space":"nowrap"},dir:"rtl",class:"h"},{default:a(()=>[Y,o("tbody",null,[(k(!0),y(R,null,D(t.value,(i,N)=>(k(),y("tr",{key:i.id},[o("td",null,h(N+1),1),o("td",null,h(i.name.ar),1),o("td",null,h(i.name.en),1),o("td",null,h(i.url),1),o("td",null,h(i.created_at),1),o("td",G,[l(V,{onClick:F=>x(i),class:"mx-3",icon:"mdi-delete",color:"red",size:"small"},null,8,["onClick"]),l(V,{onClick:F=>C(i),icon:"mdi-pencil",color:"info",size:"small"},null,8,["onClick"])])]))),128))])]),_:1})):(k(),y("p",K,"لا توجد اي بيانات"))]),_:1})}}};export{_e as default};
