import{F as T,r as b,q as $,H as v,I,v as e,L as t,O as g,S as F,K as h,M as w,P as H,U as P,a8 as R,J as n,Q as J,R as M,am as q}from"./index-CTZIvFHE.js";import{x,y as A,v as L}from"./forwardRefs-D4cyrmBm.js";import{e as r,V as S,d as C,b as z}from"./VRow-B2a_pzm7.js";import{V as O}from"./VForm-lrdTen5H.js";import{V as c,a as K}from"./VTextField-CmJuGy6Y.js";import{V as U}from"./VTextarea-BGSbCik3.js";import{V as Q,_ as j}from"./imageInput-DrJt6mwd.js";import{V as B}from"./VDialog-RZ1VBsiG.js";import{a as G,s as W,_ as X}from"./ThemeSettings-DRdEUUWQ.js";import{V as Y,a as d}from"./VList-5ML3-mTu.js";import"./VInput-BVlugDXU.js";import"./VChip-__5tyFae.js";import"./VOverlay-SrWR4M6n.js";import"./VSwitch-SKcbN60r.js";import"./VSelectionControl-BZN2FF6b.js";import"./ssrBoot-vrXKPXNd.js";const Z=w("h2",{class:"ma-5"},H("تعديل "),-1),ee={__name:"UserForm",emits:["runItems"],setup(E,{expose:N,emit:y}){const o=T(),f=b(!1),_=b(null),l=b({}),p=b(null);$(()=>{l.value=o.user,p.value=o.user.profile_image});const V=u=>{R.error(u,{theme:"colored",position:R.POSITION.TOP_LEFT})};function D(){f.value=!1}const k=()=>{const u=_.value;if(u){const a=new FileReader;a.onload=s=>{p.value=s.target.result},a.readAsDataURL(u)}else p.value=null};function m(){o.loadengApi=!0;const u=new FormData;u.append("first_name",JSON.stringify(l.value.first_name)),u.append("last_name",JSON.stringify(l.value.last_name)),u.append("address",JSON.stringify(l.value.address)),u.append("bio_ar",l.value.bio_ar),u.append("bio_en",l.value.bio_en),u.append("about_ar",l.value.about_ar),u.append("about_en",l.value.about_en),u.append("position",JSON.stringify(l.value.position)),u.append("email",l.value.email),u.append("phone",l.value.phone),_.value&&u.append("profile_image",_.value),u.append("_method","put"),P.post(`users/${l.value.id}`,u).then(a=>{o.fetchUser().then(()=>{o.loadengApi=!1})}).catch(a=>{o.loadengApi=!1,V("هناك خطا ما حاول مره اخري")})}return N({dialogForm:()=>{f.value=!0}}),(u,a)=>(v(),I("div",null,[e(r,{cols:"auto"},{default:t(()=>[e(x,{class:"ma-1",color:"success"},{default:t(()=>[g(" تعديل البيانات "),e(A,{icon:"mdi-square-edit-outline",end:""})]),_:1})]),_:1}),e(B,{class:"text-center",modelValue:f.value,"onUpdate:modelValue":a[15]||(a[15]=s=>f.value=s),"max-width":"900",persistent:""},{default:t(()=>[e(S,{class:"pa-5"},{actions:t(()=>[e(x,{onClick:D},{default:t(()=>[g(" اغلاق ")]),_:1}),e(x,{onClick:m},{default:t(()=>[g(" موافق ")]),_:1})]),default:t(()=>[Z,e(O,null,{default:t(()=>[e(C,null,{default:t(()=>[e(r,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:l.value.first_name.ar,"onUpdate:modelValue":a[0]||(a[0]=s=>l.value.first_name.ar=s),label:" الاسم الاول "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:l.value.first_name.en,"onUpdate:modelValue":a[1]||(a[1]=s=>l.value.first_name.en=s),label:"First Name"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:l.value.last_name.ar,"onUpdate:modelValue":a[2]||(a[2]=s=>l.value.last_name.ar=s),label:" الاسم الاخير "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:l.value.last_name.en,"onUpdate:modelValue":a[3]||(a[3]=s=>l.value.last_name.en=s),label:" Last Name"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:l.value.address.ar,"onUpdate:modelValue":a[4]||(a[4]=s=>l.value.address.ar=s),label:" العنوان "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:l.value.address.en,"onUpdate:modelValue":a[5]||(a[5]=s=>l.value.address.en=s),label:" Address"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:l.value.position.ar,"onUpdate:modelValue":a[6]||(a[6]=s=>l.value.position.ar=s),label:" الوظيفة "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:l.value.position.en,"onUpdate:modelValue":a[7]||(a[7]=s=>l.value.position.en=s),label:" Position"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(U,{dir:"rtl",style:{direction:"rtl","text-align":"right","unicode-bidi":"bidi-override"},modelValue:l.value.bio_ar,"onUpdate:modelValue":a[8]||(a[8]=s=>l.value.bio_ar=s),label:" نبذه عنك "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(U,{modelValue:l.value.bio_en,"onUpdate:modelValue":a[9]||(a[9]=s=>l.value.bio_en=s),label:" Bio"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(U,{dir:"rtl",style:{direction:"rtl","text-align":"right","unicode-bidi":"bidi-override"},modelValue:l.value.about_ar,"onUpdate:modelValue":a[10]||(a[10]=s=>l.value.about_ar=s),label:"  عني "},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(U,{modelValue:l.value.about_en,"onUpdate:modelValue":a[11]||(a[11]=s=>l.value.about_en=s),label:" About Me"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:l.value.email,"onUpdate:modelValue":a[12]||(a[12]=s=>l.value.email=s),label:" Email"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:l.value.phone,"onUpdate:modelValue":a[13]||(a[13]=s=>l.value.phone=s),label:" Phone"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(Q,{modelValue:_.value,"onUpdate:modelValue":a[14]||(a[14]=s=>_.value=s),label:" الصورة الشخصيه ",accept:"image/*","prepend-icon":"mdi-camera",onChange:k},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[p.value?(v(),F(L,{key:0,style:{margin:"auto"},src:p.value,"max-width":"200"},null,8,["src"])):h("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},le=w("h2",{class:"ma-5"},"صور الرئيسية",-1),ae={key:1,class:"text-alert"},te=w("h3",null,"يمكنك تحميل صوره او اكثر",-1),oe={__name:"HeroForm",emits:["runItems"],setup(E,{expose:N,emit:y}){const o=T(),f=b(!1),_=m=>{G("photo",m).then(()=>{o.user.hero=o.user.hero.filter(i=>i.id!==m)})};function l(){f.value=!1}function p(m){const i=new FormData;i.append("user_id",o.user.id),m.length&&m.forEach(u=>{i.append("hero[]",u,u.name)}),i.append("_method","put"),W("users",i,o.user.id).then(u=>{o.user.hero=u.data.hero})}const V=b(null),D=()=>{V.value&&V.value.compressImages(5).then(m=>{p(m)}).catch(m=>{console.log("error ",m)})},k=()=>{f.value=!0};return N({openDialogShowHero:k}),(m,i)=>{const u=j;return v(),I("div",null,[e(r,{cols:"auto"},{default:t(()=>[e(x,{class:"ma-1",color:"info",onClick:i[0]||(i[0]=a=>k())},{default:t(()=>[g(" تعديل صور الرئيسية "),e(A,{icon:"mdi-image-outline",end:""})]),_:1})]),_:1}),e(B,{style:{"z-index":"50"},class:"text-center",modelValue:f.value,"onUpdate:modelValue":i[1]||(i[1]=a=>f.value=a),"max-width":"900",persistent:""},{default:t(()=>[e(S,{class:"pa-5"},{actions:t(()=>[e(x,{onClick:l},{default:t(()=>[g(" اغلاق ")]),_:1}),e(x,{onClick:D},{default:t(()=>[g(" موافق ")]),_:1})]),default:t(()=>[le,n(o).user.hero.length?(v(),F(C,{key:0,style:{"background-color":"#ada7a0","text-align":"center","overflow-x":"auto"}},{default:t(()=>[(v(!0),I(J,null,M(n(o).user.hero,a=>(v(),F(r,{key:a,class:"d-flex child-flex"},{default:t(()=>[e(L,{"min-width":"150px","max-width":"300px",src:a.path,"aspect-ratio":"1",class:"bg-grey-lighten-2",cover:""},{default:t(()=>[e(A,{onClick:q(s=>_(a.id),["stop"]),class:"icon-delete-image",icon:"mdi-delete-outline"},null,8,["onClick"])]),_:2},1032,["src"])]),_:2},1024))),128))]),_:1})):h("",!0),n(o).user.hero.length?h("",!0):(v(),I("p",ae,"لا توجد صور")),e(O,null,{default:t(()=>[e(C,{class:"my-10"},{default:t(()=>[te,e(u,{ref_key:"imageInputRef",ref:V,onSaveCompressedImages:p},null,512)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},Fe={__name:"index",setup(E){const N=b(null),y=b(null),o=T(),f=b(null);function _(){_.value?_.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}const l=b(null);function p(){p.value?p.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}const V=()=>{N.value.dialogForm()},D=()=>{y.value.openDialogShowHero()};return(k,m)=>{const i=X,u=ee;return n(o).loadengApi?h("",!0):(v(),F(K,{key:0,class:"user-info"},{default:t(()=>[n(o).user?(v(),F(i,{key:0,ref_key:"dialogThemeFormAbout",ref:f,detTheme:{nameEn:"about",nameAr:"عني"},onClick:_},null,512)):h("",!0),n(o).user?(v(),F(i,{key:1,ref_key:"dialogThemeFormHero",ref:l,detTheme:{nameEn:"hero",nameAr:"الرئيسية"},onClick:p},null,512)):h("",!0),e(u,{ref_key:"dialogItemForm",ref:N,onClick:V},null,512),e(oe,{ref_key:"dialogHeroForm",ref:y,onClick:D},null,512),e(S,{title:(n(o).user.first_name.en||"N D")+" - "+(n(o).user.first_name.ar||"N D"),subtitle:n(o).user.email||"N D",class:"mt-1"},{default:t(()=>[e(z,null,{default:t(()=>[g(H(n(o).user.phone),1)]),_:1}),e(Y,null,{default:t(()=>[e(d,{class:"ma-2 pa-2",subtitle:n(o).user.first_name.en||"N D",title:"First Name (EN)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(o).user.first_name.ar||"N D",title:"الاسم الاول (AR)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(o).user.last_name.en||"N D",title:"Last Name (EN)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(o).user.last_name.ar||"N D",title:"الاسم الاخير (AR)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(o).user.address.en||"N D",title:"Address (EN)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(o).user.address.ar||"N D",title:"العنوان (AR)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(o).user.bio_en||"N D",title:"Bio (EN)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(o).user.bio_ar||"N D",title:"نبذه عنك (AR)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(o).user.about_en||"N D",title:"About Me (EN)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(o).user.about_ar||"N D",title:" عني (AR)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(o).user.position.en||"N D",title:"Position (EN)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(o).user.position.ar||"N D",title:"الوظيفة (AR)"},null,8,["subtitle"]),e(d,{class:"ma-2 pa-2",subtitle:n(o).user.username||"N D",title:"User Name"},null,8,["subtitle"])]),_:1})]),_:1},8,["title","subtitle"])]),_:1}))}}};export{Fe as default};
