import{_ as S}from"./ThemeSettings-6qfbKSkB.js";import{F as w,r as n,q as B,H as t,I as i,J as D,S as c,K as p,M as d,v as _,L as f,O as U,P as k,Q as h,R as A}from"./index-CM9Cvnrp.js";import"./apiService-DvxqnrrG.js";import{V as E}from"./VTextField-kTV6IssZ.js";import{w as L}from"./forwardRefs-QA5VaRT4.js";import{V as M}from"./VSelect-DVIjgKzo.js";import{V as O}from"./VGrid-BWtjwT_B.js";import{V as q}from"./VDialog-CF2orXud.js";import"./index-CilYrbCY.js";import"./VLabel-wPvxX1Hx.js";import"./VForm-kNYM9TI8.js";import"./VRow-BpvbwvUg.js";import"./VSwitch-CVzoRXsB.js";import"./VSelectionControl-BLCFd1vv.js";import"./VList-BYDns1N7.js";import"./ssrBoot-Bdpaj1wB.js";import"./VOverlay-Cau87nfY.js";import"./VMenu-CK9edn0x.js";import"./VCheckboxBtn-DZWs_MCT.js";import"./VChip-ZrmrLQCw.js";const H={key:1,style:{"white-space":"nowrap"},dir:"rtl",class:"h"},I={key:2,class:"text-alert"},J=d("hr",null,null,-1),K=["onClick"],ce={__name:"index",setup(P){const C=w(),b=n([]),v=n(null);function y(){v.value?v.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}const g=n(null);B(()=>{navigator.contacts&&(g.value=!0),console.log("navigator",navigator),console.log("navigator.contacts",navigator.contacts)});const u=n(!1),r=n(""),m=n(""),a=n([]);async function V(){u.value=!0;try{const o=await navigator.contacts.select(["name","tel"],{multiple:!1});o.length>0&&(m.value=o[0].name[0],a.value=o[0].tel.map(l=>{let s=l.replace(/\D/g,"");const e=s.indexOf("01");if(console.log("cleanedNumber",s),console.log("index",e),e!==-1){s.substring(e);return}}))}catch(o){alert("المتصفح لا يدعم فتح الاسماء"),console.error("حدث خطأ:",o)}u.value=!0}function x(){r.value="",m.value="",a.value=[]}function N(o){r.value=o,u.value=fals}function T(){}return(o,l)=>{const s=S;return t(),i(h,null,[D(C).user?(t(),c(s,{key:0,ref_key:"dialogThemeForm",ref:v,detTheme:{nameEn:"about",nameAr:"عني"},onClick:y},null,512)):p("",!0),b.value.length>0?(t(),i("div",H)):(t(),i("p",I,"لا توجد اي بيانات")),d("div",null,[_(E,{"append-icon":"mdi-close","prepend-icon":"mdi-phone","onClick:append":x,"onClick:prepend":V,type:"number",modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=e=>r.value=e),label:m.value?m.value:"ادخل رقم",readonly:""},null,8,["modelValue","label"]),g.value?(t(),c(L,{key:0,onClick:V},{default:f(()=>[U(" اختر جهة اتصال ")]),_:1})):p("",!0),a.value.length>0?(t(),c(M,{key:1,modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=e=>r.value=e),items:a.value,"item-text":"number","item-value":"number",label:"اختر رقم الهاتف",onChange:T},null,8,["modelValue","items"])):p("",!0)]),a.value.length>0?(t(),c(q,{key:3,class:"text-center",modelValue:u.value,"onUpdate:modelValue":l[2]||(l[2]=e=>u.value=e),"max-width":"900"},{default:f(()=>[d("p",null,k(a.value),1),J,_(O,null,{default:f(()=>[(t(!0),i(h,null,A(a.value,(e,F)=>(t(),i("div",{key:F,class:"ma-1 pa-3"},[d("p",{onClick:Q=>N(e)},k(e)+" contactNumber",9,K)]))),128))]),_:1})]),_:1},8,["modelValue"])):p("",!0)],64)}}};export{ce as default};
